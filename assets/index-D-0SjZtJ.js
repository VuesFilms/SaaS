var OT=Object.defineProperty;var PT=(t,e,r)=>e in t?OT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ut=(t,e,r)=>PT(t,typeof e!="symbol"?e+"":e,r);function RT(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var sf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function W6(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var H6={exports:{}},Pm={},V6={exports:{}},Ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ah=Symbol.for("react.element"),IT=Symbol.for("react.portal"),MT=Symbol.for("react.fragment"),DT=Symbol.for("react.strict_mode"),FT=Symbol.for("react.profiler"),BT=Symbol.for("react.provider"),jT=Symbol.for("react.context"),zT=Symbol.for("react.forward_ref"),UT=Symbol.for("react.suspense"),qT=Symbol.for("react.memo"),WT=Symbol.for("react.lazy"),Eb=Symbol.iterator;function HT(t){return t===null||typeof t!="object"?null:(t=Eb&&t[Eb]||t["@@iterator"],typeof t=="function"?t:null)}var $6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K6=Object.assign,G6={};function Sc(t,e,r){this.props=t,this.context=e,this.refs=G6,this.updater=r||$6}Sc.prototype.isReactComponent={};Sc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Sc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function J6(){}J6.prototype=Sc.prototype;function tw(t,e,r){this.props=t,this.context=e,this.refs=G6,this.updater=r||$6}var rw=tw.prototype=new J6;rw.constructor=tw;K6(rw,Sc.prototype);rw.isPureReactComponent=!0;var Nb=Array.isArray,Y6=Object.prototype.hasOwnProperty,nw={current:null},X6={key:!0,ref:!0,__self:!0,__source:!0};function Z6(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Y6.call(e,n)&&!X6.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Ah,type:t,key:s,ref:o,props:i,_owner:nw.current}}function VT(t,e){return{$$typeof:Ah,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function iw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ah}function $T(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Cb=/\/+/g;function e1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$T(""+t.key):e.toString(36)}function pp(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ah:case IT:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+e1(o,0):n,Nb(i)?(r="",t!=null&&(r=t.replace(Cb,"$&/")+"/"),pp(i,e,r,"",function(u){return u})):i!=null&&(iw(i)&&(i=VT(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Cb,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",Nb(t))for(var a=0;a<t.length;a++){s=t[a];var l=n+e1(s,a);o+=pp(s,e,r,l,i)}else if(l=HT(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=n+e1(s,a++),o+=pp(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Sd(t,e,r){if(t==null)return t;var n=[],i=0;return pp(t,n,"","",function(s){return e.call(r,s,i++)}),n}function KT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var zn={current:null},mp={transition:null},GT={ReactCurrentDispatcher:zn,ReactCurrentBatchConfig:mp,ReactCurrentOwner:nw};function Q6(){throw Error("act(...) is not supported in production builds of React.")}Ot.Children={map:Sd,forEach:function(t,e,r){Sd(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Sd(t,function(){e++}),e},toArray:function(t){return Sd(t,function(e){return e})||[]},only:function(t){if(!iw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ot.Component=Sc;Ot.Fragment=MT;Ot.Profiler=FT;Ot.PureComponent=tw;Ot.StrictMode=DT;Ot.Suspense=UT;Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GT;Ot.act=Q6;Ot.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=K6({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=nw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Y6.call(e,l)&&!X6.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Ah,type:t.type,key:i,ref:s,props:n,_owner:o}};Ot.createContext=function(t){return t={$$typeof:jT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:BT,_context:t},t.Consumer=t};Ot.createElement=Z6;Ot.createFactory=function(t){var e=Z6.bind(null,t);return e.type=t,e};Ot.createRef=function(){return{current:null}};Ot.forwardRef=function(t){return{$$typeof:zT,render:t}};Ot.isValidElement=iw;Ot.lazy=function(t){return{$$typeof:WT,_payload:{_status:-1,_result:t},_init:KT}};Ot.memo=function(t,e){return{$$typeof:qT,type:t,compare:e===void 0?null:e}};Ot.startTransition=function(t){var e=mp.transition;mp.transition={};try{t()}finally{mp.transition=e}};Ot.unstable_act=Q6;Ot.useCallback=function(t,e){return zn.current.useCallback(t,e)};Ot.useContext=function(t){return zn.current.useContext(t)};Ot.useDebugValue=function(){};Ot.useDeferredValue=function(t){return zn.current.useDeferredValue(t)};Ot.useEffect=function(t,e){return zn.current.useEffect(t,e)};Ot.useId=function(){return zn.current.useId()};Ot.useImperativeHandle=function(t,e,r){return zn.current.useImperativeHandle(t,e,r)};Ot.useInsertionEffect=function(t,e){return zn.current.useInsertionEffect(t,e)};Ot.useLayoutEffect=function(t,e){return zn.current.useLayoutEffect(t,e)};Ot.useMemo=function(t,e){return zn.current.useMemo(t,e)};Ot.useReducer=function(t,e,r){return zn.current.useReducer(t,e,r)};Ot.useRef=function(t){return zn.current.useRef(t)};Ot.useState=function(t){return zn.current.useState(t)};Ot.useSyncExternalStore=function(t,e,r){return zn.current.useSyncExternalStore(t,e,r)};Ot.useTransition=function(){return zn.current.useTransition()};Ot.version="18.3.1";V6.exports=Ot;var Ue=V6.exports;const fn=W6(Ue),JT=RT({__proto__:null,default:fn},[Ue]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YT=Ue,XT=Symbol.for("react.element"),ZT=Symbol.for("react.fragment"),QT=Object.prototype.hasOwnProperty,eL=YT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tL={key:!0,ref:!0,__self:!0,__source:!0};function e_(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)QT.call(e,n)&&!tL.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:XT,type:t,key:s,ref:o,props:i,_owner:eL.current}}Pm.Fragment=ZT;Pm.jsx=e_;Pm.jsxs=e_;H6.exports=Pm;var Fe=H6.exports,yv={},t_={exports:{}},gi={},r_={exports:{}},n_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(re,ae){var ve=re.length;re.push(ae);e:for(;0<ve;){var le=ve-1>>>1,C=re[le];if(0<i(C,ae))re[le]=ae,re[ve]=C,ve=le;else break e}}function r(re){return re.length===0?null:re[0]}function n(re){if(re.length===0)return null;var ae=re[0],ve=re.pop();if(ve!==ae){re[0]=ve;e:for(var le=0,C=re.length,q=C>>>1;le<q;){var $=2*(le+1)-1,se=re[$],J=$+1,O=re[J];if(0>i(se,ve))J<C&&0>i(O,se)?(re[le]=O,re[J]=ve,le=J):(re[le]=se,re[$]=ve,le=$);else if(J<C&&0>i(O,ve))re[le]=O,re[J]=ve,le=J;else break e}}return ae}function i(re,ae){var ve=re.sortIndex-ae.sortIndex;return ve!==0?ve:re.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,f=!1,g=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(re){for(var ae=r(u);ae!==null;){if(ae.callback===null)n(u);else if(ae.startTime<=re)n(u),ae.sortIndex=ae.expirationTime,e(l,ae);else break;ae=r(u)}}function w(re){if(y=!1,b(re),!g)if(r(l)!==null)g=!0,he(N);else{var ae=r(u);ae!==null&&te(w,ae.startTime-re)}}function N(re,ae){g=!1,y&&(y=!1,p(z),z=-1),f=!0;var ve=d;try{for(b(ae),h=r(l);h!==null&&(!(h.expirationTime>ae)||re&&!H());){var le=h.callback;if(typeof le=="function"){h.callback=null,d=h.priorityLevel;var C=le(h.expirationTime<=ae);ae=t.unstable_now(),typeof C=="function"?h.callback=C:h===r(l)&&n(l),b(ae)}else n(l);h=r(l)}if(h!==null)var q=!0;else{var $=r(u);$!==null&&te(w,$.startTime-ae),q=!1}return q}finally{h=null,d=ve,f=!1}}var j=!1,F=null,z=-1,T=5,Z=-1;function H(){return!(t.unstable_now()-Z<T)}function L(){if(F!==null){var re=t.unstable_now();Z=re;var ae=!0;try{ae=F(!0,re)}finally{ae?U():(j=!1,F=null)}}else j=!1}var U;if(typeof v=="function")U=function(){v(L)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,ie=A.port2;A.port1.onmessage=L,U=function(){ie.postMessage(null)}}else U=function(){x(L,0)};function he(re){F=re,j||(j=!0,U())}function te(re,ae){z=x(function(){re(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,he(N))},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(re){switch(d){case 1:case 2:case 3:var ae=3;break;default:ae=d}var ve=d;d=ae;try{return re()}finally{d=ve}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(re,ae){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ve=d;d=re;try{return ae()}finally{d=ve}},t.unstable_scheduleCallback=function(re,ae,ve){var le=t.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?le+ve:le):ve=le,re){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ve+C,re={id:c++,callback:ae,priorityLevel:re,startTime:ve,expirationTime:C,sortIndex:-1},ve>le?(re.sortIndex=ve,e(u,re),r(l)===null&&re===r(u)&&(y?(p(z),z=-1):y=!0,te(w,ve-le))):(re.sortIndex=C,e(l,re),g||f||(g=!0,he(N))),re},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(re){var ae=d;return function(){var ve=d;d=ae;try{return re.apply(this,arguments)}finally{d=ve}}}})(n_);r_.exports=n_;var rL=r_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nL=Ue,mi=rL;function He(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i_=new Set,Kf={};function zl(t,e){rc(t,e),rc(t+"Capture",e)}function rc(t,e){for(Kf[t]=e,t=0;t<e.length;t++)i_.add(e[t])}var So=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vv=Object.prototype.hasOwnProperty,iL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Tb={},Lb={};function sL(t){return vv.call(Lb,t)?!0:vv.call(Tb,t)?!1:iL.test(t)?Lb[t]=!0:(Tb[t]=!0,!1)}function oL(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function aL(t,e,r,n){if(e===null||typeof e>"u"||oL(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Un(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var gn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gn[t]=new Un(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gn[e]=new Un(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gn[t]=new Un(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gn[t]=new Un(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gn[t]=new Un(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gn[t]=new Un(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gn[t]=new Un(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gn[t]=new Un(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gn[t]=new Un(t,5,!1,t.toLowerCase(),null,!1,!1)});var sw=/[\-:]([a-z])/g;function ow(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(sw,ow);gn[e]=new Un(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(sw,ow);gn[e]=new Un(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(sw,ow);gn[e]=new Un(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gn[t]=new Un(t,1,!1,t.toLowerCase(),null,!1,!1)});gn.xlinkHref=new Un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gn[t]=new Un(t,1,!1,t.toLowerCase(),null,!0,!0)});function aw(t,e,r,n){var i=gn.hasOwnProperty(e)?gn[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(aL(e,r,i,n)&&(r=null),n||i===null?sL(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var No=nL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kd=Symbol.for("react.element"),Au=Symbol.for("react.portal"),Eu=Symbol.for("react.fragment"),lw=Symbol.for("react.strict_mode"),wv=Symbol.for("react.profiler"),s_=Symbol.for("react.provider"),o_=Symbol.for("react.context"),uw=Symbol.for("react.forward_ref"),bv=Symbol.for("react.suspense"),xv=Symbol.for("react.suspense_list"),cw=Symbol.for("react.memo"),Xo=Symbol.for("react.lazy"),a_=Symbol.for("react.offscreen"),Ob=Symbol.iterator;function of(t){return t===null||typeof t!="object"?null:(t=Ob&&t[Ob]||t["@@iterator"],typeof t=="function"?t:null)}var dr=Object.assign,t1;function kf(t){if(t1===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);t1=e&&e[1]||""}return`
`+t1+t}var r1=!1;function n1(t,e){if(!t||r1)return"";r1=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{r1=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?kf(t):""}function lL(t){switch(t.tag){case 5:return kf(t.type);case 16:return kf("Lazy");case 13:return kf("Suspense");case 19:return kf("SuspenseList");case 0:case 2:case 15:return t=n1(t.type,!1),t;case 11:return t=n1(t.type.render,!1),t;case 1:return t=n1(t.type,!0),t;default:return""}}function Sv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Eu:return"Fragment";case Au:return"Portal";case wv:return"Profiler";case lw:return"StrictMode";case bv:return"Suspense";case xv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case o_:return(t.displayName||"Context")+".Consumer";case s_:return(t._context.displayName||"Context")+".Provider";case uw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case cw:return e=t.displayName||null,e!==null?e:Sv(t.type)||"Memo";case Xo:e=t._payload,t=t._init;try{return Sv(t(e))}catch{}}return null}function uL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sv(e);case 8:return e===lw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Aa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function l_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function cL(t){var e=l_(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _d(t){t._valueTracker||(t._valueTracker=cL(t))}function u_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=l_(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Fp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function kv(t,e){var r=e.checked;return dr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Pb(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Aa(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function c_(t,e){e=e.checked,e!=null&&aw(t,"checked",e,!1)}function _v(t,e){c_(t,e);var r=Aa(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Av(t,e.type,r):e.hasOwnProperty("defaultValue")&&Av(t,e.type,Aa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Rb(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Av(t,e,r){(e!=="number"||Fp(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var _f=Array.isArray;function zu(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Aa(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ev(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(He(91));return dr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ib(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(He(92));if(_f(r)){if(1<r.length)throw Error(He(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Aa(r)}}function f_(t,e){var r=Aa(e.value),n=Aa(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Mb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function h_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?h_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ad,d_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ad=Ad||document.createElement("div"),Ad.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ad.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Gf(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Lf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fL=["Webkit","ms","Moz","O"];Object.keys(Lf).forEach(function(t){fL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Lf[e]=Lf[t]})});function p_(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Lf.hasOwnProperty(t)&&Lf[t]?(""+e).trim():e+"px"}function m_(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=p_(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var hL=dr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cv(t,e){if(e){if(hL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(He(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(He(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(He(61))}if(e.style!=null&&typeof e.style!="object")throw Error(He(62))}}function Tv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lv=null;function fw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ov=null,Uu=null,qu=null;function Db(t){if(t=Ch(t)){if(typeof Ov!="function")throw Error(He(280));var e=t.stateNode;e&&(e=Fm(e),Ov(t.stateNode,t.type,e))}}function g_(t){Uu?qu?qu.push(t):qu=[t]:Uu=t}function y_(){if(Uu){var t=Uu,e=qu;if(qu=Uu=null,Db(t),e)for(t=0;t<e.length;t++)Db(e[t])}}function v_(t,e){return t(e)}function w_(){}var i1=!1;function b_(t,e,r){if(i1)return t(e,r);i1=!0;try{return v_(t,e,r)}finally{i1=!1,(Uu!==null||qu!==null)&&(w_(),y_())}}function Jf(t,e){var r=t.stateNode;if(r===null)return null;var n=Fm(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(He(231,e,typeof r));return r}var Pv=!1;if(So)try{var af={};Object.defineProperty(af,"passive",{get:function(){Pv=!0}}),window.addEventListener("test",af,af),window.removeEventListener("test",af,af)}catch{Pv=!1}function dL(t,e,r,n,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var Of=!1,Bp=null,jp=!1,Rv=null,pL={onError:function(t){Of=!0,Bp=t}};function mL(t,e,r,n,i,s,o,a,l){Of=!1,Bp=null,dL.apply(pL,arguments)}function gL(t,e,r,n,i,s,o,a,l){if(mL.apply(this,arguments),Of){if(Of){var u=Bp;Of=!1,Bp=null}else throw Error(He(198));jp||(jp=!0,Rv=u)}}function Ul(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function x_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Fb(t){if(Ul(t)!==t)throw Error(He(188))}function yL(t){var e=t.alternate;if(!e){if(e=Ul(t),e===null)throw Error(He(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Fb(i),t;if(s===n)return Fb(i),e;s=s.sibling}throw Error(He(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(He(189))}}if(r.alternate!==n)throw Error(He(190))}if(r.tag!==3)throw Error(He(188));return r.stateNode.current===r?t:e}function S_(t){return t=yL(t),t!==null?k_(t):null}function k_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=k_(t);if(e!==null)return e;t=t.sibling}return null}var __=mi.unstable_scheduleCallback,Bb=mi.unstable_cancelCallback,vL=mi.unstable_shouldYield,wL=mi.unstable_requestPaint,Er=mi.unstable_now,bL=mi.unstable_getCurrentPriorityLevel,hw=mi.unstable_ImmediatePriority,A_=mi.unstable_UserBlockingPriority,zp=mi.unstable_NormalPriority,xL=mi.unstable_LowPriority,E_=mi.unstable_IdlePriority,Rm=null,Rs=null;function SL(t){if(Rs&&typeof Rs.onCommitFiberRoot=="function")try{Rs.onCommitFiberRoot(Rm,t,void 0,(t.current.flags&128)===128)}catch{}}var ns=Math.clz32?Math.clz32:AL,kL=Math.log,_L=Math.LN2;function AL(t){return t>>>=0,t===0?32:31-(kL(t)/_L|0)|0}var Ed=64,Nd=4194304;function Af(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Up(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=Af(a):(s&=o,s!==0&&(n=Af(s)))}else o=r&~i,o!==0?n=Af(o):s!==0&&(n=Af(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ns(e),i=1<<r,n|=t[r],e&=~i;return n}function EL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function NL(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ns(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=EL(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Iv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function N_(){var t=Ed;return Ed<<=1,!(Ed&4194240)&&(Ed=64),t}function s1(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Eh(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ns(e),t[e]=r}function CL(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-ns(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function dw(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ns(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Vt=0;function C_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var T_,pw,L_,O_,P_,Mv=!1,Cd=[],fa=null,ha=null,da=null,Yf=new Map,Xf=new Map,ta=[],TL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jb(t,e){switch(t){case"focusin":case"focusout":fa=null;break;case"dragenter":case"dragleave":ha=null;break;case"mouseover":case"mouseout":da=null;break;case"pointerover":case"pointerout":Yf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xf.delete(e.pointerId)}}function lf(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ch(e),e!==null&&pw(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function LL(t,e,r,n,i){switch(e){case"focusin":return fa=lf(fa,t,e,r,n,i),!0;case"dragenter":return ha=lf(ha,t,e,r,n,i),!0;case"mouseover":return da=lf(da,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Yf.set(s,lf(Yf.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Xf.set(s,lf(Xf.get(s)||null,t,e,r,n,i)),!0}return!1}function R_(t){var e=hl(t.target);if(e!==null){var r=Ul(e);if(r!==null){if(e=r.tag,e===13){if(e=x_(r),e!==null){t.blockedOn=e,P_(t.priority,function(){L_(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Dv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Lv=n,r.target.dispatchEvent(n),Lv=null}else return e=Ch(r),e!==null&&pw(e),t.blockedOn=r,!1;e.shift()}return!0}function zb(t,e,r){gp(t)&&r.delete(e)}function OL(){Mv=!1,fa!==null&&gp(fa)&&(fa=null),ha!==null&&gp(ha)&&(ha=null),da!==null&&gp(da)&&(da=null),Yf.forEach(zb),Xf.forEach(zb)}function uf(t,e){t.blockedOn===e&&(t.blockedOn=null,Mv||(Mv=!0,mi.unstable_scheduleCallback(mi.unstable_NormalPriority,OL)))}function Zf(t){function e(i){return uf(i,t)}if(0<Cd.length){uf(Cd[0],t);for(var r=1;r<Cd.length;r++){var n=Cd[r];n.blockedOn===t&&(n.blockedOn=null)}}for(fa!==null&&uf(fa,t),ha!==null&&uf(ha,t),da!==null&&uf(da,t),Yf.forEach(e),Xf.forEach(e),r=0;r<ta.length;r++)n=ta[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<ta.length&&(r=ta[0],r.blockedOn===null);)R_(r),r.blockedOn===null&&ta.shift()}var Wu=No.ReactCurrentBatchConfig,qp=!0;function PL(t,e,r,n){var i=Vt,s=Wu.transition;Wu.transition=null;try{Vt=1,mw(t,e,r,n)}finally{Vt=i,Wu.transition=s}}function RL(t,e,r,n){var i=Vt,s=Wu.transition;Wu.transition=null;try{Vt=4,mw(t,e,r,n)}finally{Vt=i,Wu.transition=s}}function mw(t,e,r,n){if(qp){var i=Dv(t,e,r,n);if(i===null)m1(t,e,n,Wp,r),jb(t,n);else if(LL(i,t,e,r,n))n.stopPropagation();else if(jb(t,n),e&4&&-1<TL.indexOf(t)){for(;i!==null;){var s=Ch(i);if(s!==null&&T_(s),s=Dv(t,e,r,n),s===null&&m1(t,e,n,Wp,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else m1(t,e,n,null,r)}}var Wp=null;function Dv(t,e,r,n){if(Wp=null,t=fw(n),t=hl(t),t!==null)if(e=Ul(t),e===null)t=null;else if(r=e.tag,r===13){if(t=x_(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Wp=t,null}function I_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bL()){case hw:return 1;case A_:return 4;case zp:case xL:return 16;case E_:return 536870912;default:return 16}default:return 16}}var ia=null,gw=null,yp=null;function M_(){if(yp)return yp;var t,e=gw,r=e.length,n,i="value"in ia?ia.value:ia.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return yp=i.slice(t,1<n?1-n:void 0)}function vp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Td(){return!0}function Ub(){return!1}function yi(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Td:Ub,this.isPropagationStopped=Ub,this}return dr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Td)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Td)},persist:function(){},isPersistent:Td}),e}var kc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yw=yi(kc),Nh=dr({},kc,{view:0,detail:0}),IL=yi(Nh),o1,a1,cf,Im=dr({},Nh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cf&&(cf&&t.type==="mousemove"?(o1=t.screenX-cf.screenX,a1=t.screenY-cf.screenY):a1=o1=0,cf=t),o1)},movementY:function(t){return"movementY"in t?t.movementY:a1}}),qb=yi(Im),ML=dr({},Im,{dataTransfer:0}),DL=yi(ML),FL=dr({},Nh,{relatedTarget:0}),l1=yi(FL),BL=dr({},kc,{animationName:0,elapsedTime:0,pseudoElement:0}),jL=yi(BL),zL=dr({},kc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),UL=yi(zL),qL=dr({},kc,{data:0}),Wb=yi(qL),WL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $L(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=VL[t])?!!e[t]:!1}function vw(){return $L}var KL=dr({},Nh,{key:function(t){if(t.key){var e=WL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?HL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vw,charCode:function(t){return t.type==="keypress"?vp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),GL=yi(KL),JL=dr({},Im,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hb=yi(JL),YL=dr({},Nh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vw}),XL=yi(YL),ZL=dr({},kc,{propertyName:0,elapsedTime:0,pseudoElement:0}),QL=yi(ZL),eO=dr({},Im,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),tO=yi(eO),rO=[9,13,27,32],ww=So&&"CompositionEvent"in window,Pf=null;So&&"documentMode"in document&&(Pf=document.documentMode);var nO=So&&"TextEvent"in window&&!Pf,D_=So&&(!ww||Pf&&8<Pf&&11>=Pf),Vb=" ",$b=!1;function F_(t,e){switch(t){case"keyup":return rO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function B_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Nu=!1;function iO(t,e){switch(t){case"compositionend":return B_(e);case"keypress":return e.which!==32?null:($b=!0,Vb);case"textInput":return t=e.data,t===Vb&&$b?null:t;default:return null}}function sO(t,e){if(Nu)return t==="compositionend"||!ww&&F_(t,e)?(t=M_(),yp=gw=ia=null,Nu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return D_&&e.locale!=="ko"?null:e.data;default:return null}}var oO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!oO[t.type]:e==="textarea"}function j_(t,e,r,n){g_(n),e=Hp(e,"onChange"),0<e.length&&(r=new yw("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Rf=null,Qf=null;function aO(t){Y_(t,0)}function Mm(t){var e=Lu(t);if(u_(e))return t}function lO(t,e){if(t==="change")return e}var z_=!1;if(So){var u1;if(So){var c1="oninput"in document;if(!c1){var Gb=document.createElement("div");Gb.setAttribute("oninput","return;"),c1=typeof Gb.oninput=="function"}u1=c1}else u1=!1;z_=u1&&(!document.documentMode||9<document.documentMode)}function Jb(){Rf&&(Rf.detachEvent("onpropertychange",U_),Qf=Rf=null)}function U_(t){if(t.propertyName==="value"&&Mm(Qf)){var e=[];j_(e,Qf,t,fw(t)),b_(aO,e)}}function uO(t,e,r){t==="focusin"?(Jb(),Rf=e,Qf=r,Rf.attachEvent("onpropertychange",U_)):t==="focusout"&&Jb()}function cO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mm(Qf)}function fO(t,e){if(t==="click")return Mm(e)}function hO(t,e){if(t==="input"||t==="change")return Mm(e)}function dO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ss=typeof Object.is=="function"?Object.is:dO;function eh(t,e){if(ss(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!vv.call(e,i)||!ss(t[i],e[i]))return!1}return!0}function Yb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xb(t,e){var r=Yb(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Yb(r)}}function q_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?q_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function W_(){for(var t=window,e=Fp();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Fp(t.document)}return e}function bw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function pO(t){var e=W_(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&q_(r.ownerDocument.documentElement,r)){if(n!==null&&bw(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=Xb(r,s);var o=Xb(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mO=So&&"documentMode"in document&&11>=document.documentMode,Cu=null,Fv=null,If=null,Bv=!1;function Zb(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Bv||Cu==null||Cu!==Fp(n)||(n=Cu,"selectionStart"in n&&bw(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),If&&eh(If,n)||(If=n,n=Hp(Fv,"onSelect"),0<n.length&&(e=new yw("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Cu)))}function Ld(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Tu={animationend:Ld("Animation","AnimationEnd"),animationiteration:Ld("Animation","AnimationIteration"),animationstart:Ld("Animation","AnimationStart"),transitionend:Ld("Transition","TransitionEnd")},f1={},H_={};So&&(H_=document.createElement("div").style,"AnimationEvent"in window||(delete Tu.animationend.animation,delete Tu.animationiteration.animation,delete Tu.animationstart.animation),"TransitionEvent"in window||delete Tu.transitionend.transition);function Dm(t){if(f1[t])return f1[t];if(!Tu[t])return t;var e=Tu[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in H_)return f1[t]=e[r];return t}var V_=Dm("animationend"),$_=Dm("animationiteration"),K_=Dm("animationstart"),G_=Dm("transitionend"),J_=new Map,Qb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ta(t,e){J_.set(t,e),zl(e,[t])}for(var h1=0;h1<Qb.length;h1++){var d1=Qb[h1],gO=d1.toLowerCase(),yO=d1[0].toUpperCase()+d1.slice(1);Ta(gO,"on"+yO)}Ta(V_,"onAnimationEnd");Ta($_,"onAnimationIteration");Ta(K_,"onAnimationStart");Ta("dblclick","onDoubleClick");Ta("focusin","onFocus");Ta("focusout","onBlur");Ta(G_,"onTransitionEnd");rc("onMouseEnter",["mouseout","mouseover"]);rc("onMouseLeave",["mouseout","mouseover"]);rc("onPointerEnter",["pointerout","pointerover"]);rc("onPointerLeave",["pointerout","pointerover"]);zl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zl("onBeforeInput",["compositionend","keypress","textInput","paste"]);zl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ef="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ef));function ex(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,gL(n,e,void 0,t),t.currentTarget=null}function Y_(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;ex(i,a,u),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;ex(i,a,u),s=l}}}if(jp)throw t=Rv,jp=!1,Rv=null,t}function ir(t,e){var r=e[Wv];r===void 0&&(r=e[Wv]=new Set);var n=t+"__bubble";r.has(n)||(X_(e,t,2,!1),r.add(n))}function p1(t,e,r){var n=0;e&&(n|=4),X_(r,t,n,e)}var Od="_reactListening"+Math.random().toString(36).slice(2);function th(t){if(!t[Od]){t[Od]=!0,i_.forEach(function(r){r!=="selectionchange"&&(vO.has(r)||p1(r,!1,t),p1(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Od]||(e[Od]=!0,p1("selectionchange",!1,e))}}function X_(t,e,r,n){switch(I_(e)){case 1:var i=PL;break;case 4:i=RL;break;default:i=mw}r=i.bind(null,e,r,t),i=void 0,!Pv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function m1(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=hl(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}b_(function(){var u=s,c=fw(r),h=[];e:{var d=J_.get(t);if(d!==void 0){var f=yw,g=t;switch(t){case"keypress":if(vp(r)===0)break e;case"keydown":case"keyup":f=GL;break;case"focusin":g="focus",f=l1;break;case"focusout":g="blur",f=l1;break;case"beforeblur":case"afterblur":f=l1;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=qb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=DL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=XL;break;case V_:case $_:case K_:f=jL;break;case G_:f=QL;break;case"scroll":f=IL;break;case"wheel":f=tO;break;case"copy":case"cut":case"paste":f=UL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Hb}var y=(e&4)!==0,x=!y&&t==="scroll",p=y?d!==null?d+"Capture":null:d;y=[];for(var v=u,b;v!==null;){b=v;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,p!==null&&(w=Jf(v,p),w!=null&&y.push(rh(v,w,b)))),x)break;v=v.return}0<y.length&&(d=new f(d,g,null,r,c),h.push({event:d,listeners:y}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&r!==Lv&&(g=r.relatedTarget||r.fromElement)&&(hl(g)||g[ko]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(g=r.relatedTarget||r.toElement,f=u,g=g?hl(g):null,g!==null&&(x=Ul(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=u),f!==g)){if(y=qb,w="onMouseLeave",p="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=Hb,w="onPointerLeave",p="onPointerEnter",v="pointer"),x=f==null?d:Lu(f),b=g==null?d:Lu(g),d=new y(w,v+"leave",f,r,c),d.target=x,d.relatedTarget=b,w=null,hl(c)===u&&(y=new y(p,v+"enter",g,r,c),y.target=b,y.relatedTarget=x,w=y),x=w,f&&g)t:{for(y=f,p=g,v=0,b=y;b;b=au(b))v++;for(b=0,w=p;w;w=au(w))b++;for(;0<v-b;)y=au(y),v--;for(;0<b-v;)p=au(p),b--;for(;v--;){if(y===p||p!==null&&y===p.alternate)break t;y=au(y),p=au(p)}y=null}else y=null;f!==null&&tx(h,d,f,y,!1),g!==null&&x!==null&&tx(h,x,g,y,!0)}}e:{if(d=u?Lu(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var N=lO;else if(Kb(d))if(z_)N=hO;else{N=cO;var j=uO}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(N=fO);if(N&&(N=N(t,u))){j_(h,N,r,c);break e}j&&j(t,d,u),t==="focusout"&&(j=d._wrapperState)&&j.controlled&&d.type==="number"&&Av(d,"number",d.value)}switch(j=u?Lu(u):window,t){case"focusin":(Kb(j)||j.contentEditable==="true")&&(Cu=j,Fv=u,If=null);break;case"focusout":If=Fv=Cu=null;break;case"mousedown":Bv=!0;break;case"contextmenu":case"mouseup":case"dragend":Bv=!1,Zb(h,r,c);break;case"selectionchange":if(mO)break;case"keydown":case"keyup":Zb(h,r,c)}var F;if(ww)e:{switch(t){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else Nu?F_(t,r)&&(z="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(z="onCompositionStart");z&&(D_&&r.locale!=="ko"&&(Nu||z!=="onCompositionStart"?z==="onCompositionEnd"&&Nu&&(F=M_()):(ia=c,gw="value"in ia?ia.value:ia.textContent,Nu=!0)),j=Hp(u,z),0<j.length&&(z=new Wb(z,t,null,r,c),h.push({event:z,listeners:j}),F?z.data=F:(F=B_(r),F!==null&&(z.data=F)))),(F=nO?iO(t,r):sO(t,r))&&(u=Hp(u,"onBeforeInput"),0<u.length&&(c=new Wb("onBeforeInput","beforeinput",null,r,c),h.push({event:c,listeners:u}),c.data=F))}Y_(h,e)})}function rh(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Hp(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Jf(t,r),s!=null&&n.unshift(rh(t,s,i)),s=Jf(t,e),s!=null&&n.push(rh(t,s,i))),t=t.return}return n}function au(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function tx(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,i?(l=Jf(r,s),l!=null&&o.unshift(rh(r,l,a))):i||(l=Jf(r,s),l!=null&&o.push(rh(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var wO=/\r\n?/g,bO=/\u0000|\uFFFD/g;function rx(t){return(typeof t=="string"?t:""+t).replace(wO,`
`).replace(bO,"")}function Pd(t,e,r){if(e=rx(e),rx(t)!==e&&r)throw Error(He(425))}function Vp(){}var jv=null,zv=null;function Uv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var qv=typeof setTimeout=="function"?setTimeout:void 0,xO=typeof clearTimeout=="function"?clearTimeout:void 0,nx=typeof Promise=="function"?Promise:void 0,SO=typeof queueMicrotask=="function"?queueMicrotask:typeof nx<"u"?function(t){return nx.resolve(null).then(t).catch(kO)}:qv;function kO(t){setTimeout(function(){throw t})}function g1(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Zf(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Zf(e)}function pa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ix(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var _c=Math.random().toString(36).slice(2),Cs="__reactFiber$"+_c,nh="__reactProps$"+_c,ko="__reactContainer$"+_c,Wv="__reactEvents$"+_c,_O="__reactListeners$"+_c,AO="__reactHandles$"+_c;function hl(t){var e=t[Cs];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ko]||r[Cs]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=ix(t);t!==null;){if(r=t[Cs])return r;t=ix(t)}return e}t=r,r=t.parentNode}return null}function Ch(t){return t=t[Cs]||t[ko],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Lu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(He(33))}function Fm(t){return t[nh]||null}var Hv=[],Ou=-1;function La(t){return{current:t}}function or(t){0>Ou||(t.current=Hv[Ou],Hv[Ou]=null,Ou--)}function rr(t,e){Ou++,Hv[Ou]=t.current,t.current=e}var Ea={},Cn=La(Ea),Kn=La(!1),Tl=Ea;function nc(t,e){var r=t.type.contextTypes;if(!r)return Ea;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Gn(t){return t=t.childContextTypes,t!=null}function $p(){or(Kn),or(Cn)}function sx(t,e,r){if(Cn.current!==Ea)throw Error(He(168));rr(Cn,e),rr(Kn,r)}function Z_(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(He(108,uL(t)||"Unknown",i));return dr({},r,n)}function Kp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ea,Tl=Cn.current,rr(Cn,t),rr(Kn,Kn.current),!0}function ox(t,e,r){var n=t.stateNode;if(!n)throw Error(He(169));r?(t=Z_(t,e,Tl),n.__reactInternalMemoizedMergedChildContext=t,or(Kn),or(Cn),rr(Cn,t)):or(Kn),rr(Kn,r)}var fo=null,Bm=!1,y1=!1;function Q_(t){fo===null?fo=[t]:fo.push(t)}function EO(t){Bm=!0,Q_(t)}function Oa(){if(!y1&&fo!==null){y1=!0;var t=0,e=Vt;try{var r=fo;for(Vt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}fo=null,Bm=!1}catch(i){throw fo!==null&&(fo=fo.slice(t+1)),__(hw,Oa),i}finally{Vt=e,y1=!1}}return null}var Pu=[],Ru=0,Gp=null,Jp=0,Li=[],Oi=0,Ll=null,po=1,mo="";function ol(t,e){Pu[Ru++]=Jp,Pu[Ru++]=Gp,Gp=t,Jp=e}function eA(t,e,r){Li[Oi++]=po,Li[Oi++]=mo,Li[Oi++]=Ll,Ll=t;var n=po;t=mo;var i=32-ns(n)-1;n&=~(1<<i),r+=1;var s=32-ns(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,po=1<<32-ns(e)+i|r<<i|n,mo=s+t}else po=1<<s|r<<i|n,mo=t}function xw(t){t.return!==null&&(ol(t,1),eA(t,1,0))}function Sw(t){for(;t===Gp;)Gp=Pu[--Ru],Pu[Ru]=null,Jp=Pu[--Ru],Pu[Ru]=null;for(;t===Ll;)Ll=Li[--Oi],Li[Oi]=null,mo=Li[--Oi],Li[Oi]=null,po=Li[--Oi],Li[Oi]=null}var di=null,ci=null,lr=!1,es=null;function tA(t,e){var r=Ri(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function ax(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,di=t,ci=pa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,di=t,ci=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ll!==null?{id:po,overflow:mo}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ri(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,di=t,ci=null,!0):!1;default:return!1}}function Vv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $v(t){if(lr){var e=ci;if(e){var r=e;if(!ax(t,e)){if(Vv(t))throw Error(He(418));e=pa(r.nextSibling);var n=di;e&&ax(t,e)?tA(n,r):(t.flags=t.flags&-4097|2,lr=!1,di=t)}}else{if(Vv(t))throw Error(He(418));t.flags=t.flags&-4097|2,lr=!1,di=t}}}function lx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;di=t}function Rd(t){if(t!==di)return!1;if(!lr)return lx(t),lr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Uv(t.type,t.memoizedProps)),e&&(e=ci)){if(Vv(t))throw rA(),Error(He(418));for(;e;)tA(t,e),e=pa(e.nextSibling)}if(lx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(He(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ci=pa(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ci=null}}else ci=di?pa(t.stateNode.nextSibling):null;return!0}function rA(){for(var t=ci;t;)t=pa(t.nextSibling)}function ic(){ci=di=null,lr=!1}function kw(t){es===null?es=[t]:es.push(t)}var NO=No.ReactCurrentBatchConfig;function ff(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(He(309));var n=r.stateNode}if(!n)throw Error(He(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(He(284));if(!r._owner)throw Error(He(290,t))}return t}function Id(t,e){throw t=Object.prototype.toString.call(e),Error(He(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ux(t){var e=t._init;return e(t._payload)}function nA(t){function e(p,v){if(t){var b=p.deletions;b===null?(p.deletions=[v],p.flags|=16):b.push(v)}}function r(p,v){if(!t)return null;for(;v!==null;)e(p,v),v=v.sibling;return null}function n(p,v){for(p=new Map;v!==null;)v.key!==null?p.set(v.key,v):p.set(v.index,v),v=v.sibling;return p}function i(p,v){return p=va(p,v),p.index=0,p.sibling=null,p}function s(p,v,b){return p.index=b,t?(b=p.alternate,b!==null?(b=b.index,b<v?(p.flags|=2,v):b):(p.flags|=2,v)):(p.flags|=1048576,v)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,v,b,w){return v===null||v.tag!==6?(v=_1(b,p.mode,w),v.return=p,v):(v=i(v,b),v.return=p,v)}function l(p,v,b,w){var N=b.type;return N===Eu?c(p,v,b.props.children,w,b.key):v!==null&&(v.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Xo&&ux(N)===v.type)?(w=i(v,b.props),w.ref=ff(p,v,b),w.return=p,w):(w=Ap(b.type,b.key,b.props,null,p.mode,w),w.ref=ff(p,v,b),w.return=p,w)}function u(p,v,b,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=A1(b,p.mode,w),v.return=p,v):(v=i(v,b.children||[]),v.return=p,v)}function c(p,v,b,w,N){return v===null||v.tag!==7?(v=xl(b,p.mode,w,N),v.return=p,v):(v=i(v,b),v.return=p,v)}function h(p,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=_1(""+v,p.mode,b),v.return=p,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case kd:return b=Ap(v.type,v.key,v.props,null,p.mode,b),b.ref=ff(p,null,v),b.return=p,b;case Au:return v=A1(v,p.mode,b),v.return=p,v;case Xo:var w=v._init;return h(p,w(v._payload),b)}if(_f(v)||of(v))return v=xl(v,p.mode,b,null),v.return=p,v;Id(p,v)}return null}function d(p,v,b,w){var N=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:a(p,v,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case kd:return b.key===N?l(p,v,b,w):null;case Au:return b.key===N?u(p,v,b,w):null;case Xo:return N=b._init,d(p,v,N(b._payload),w)}if(_f(b)||of(b))return N!==null?null:c(p,v,b,w,null);Id(p,b)}return null}function f(p,v,b,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(b)||null,a(v,p,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case kd:return p=p.get(w.key===null?b:w.key)||null,l(v,p,w,N);case Au:return p=p.get(w.key===null?b:w.key)||null,u(v,p,w,N);case Xo:var j=w._init;return f(p,v,b,j(w._payload),N)}if(_f(w)||of(w))return p=p.get(b)||null,c(v,p,w,N,null);Id(v,w)}return null}function g(p,v,b,w){for(var N=null,j=null,F=v,z=v=0,T=null;F!==null&&z<b.length;z++){F.index>z?(T=F,F=null):T=F.sibling;var Z=d(p,F,b[z],w);if(Z===null){F===null&&(F=T);break}t&&F&&Z.alternate===null&&e(p,F),v=s(Z,v,z),j===null?N=Z:j.sibling=Z,j=Z,F=T}if(z===b.length)return r(p,F),lr&&ol(p,z),N;if(F===null){for(;z<b.length;z++)F=h(p,b[z],w),F!==null&&(v=s(F,v,z),j===null?N=F:j.sibling=F,j=F);return lr&&ol(p,z),N}for(F=n(p,F);z<b.length;z++)T=f(F,p,z,b[z],w),T!==null&&(t&&T.alternate!==null&&F.delete(T.key===null?z:T.key),v=s(T,v,z),j===null?N=T:j.sibling=T,j=T);return t&&F.forEach(function(H){return e(p,H)}),lr&&ol(p,z),N}function y(p,v,b,w){var N=of(b);if(typeof N!="function")throw Error(He(150));if(b=N.call(b),b==null)throw Error(He(151));for(var j=N=null,F=v,z=v=0,T=null,Z=b.next();F!==null&&!Z.done;z++,Z=b.next()){F.index>z?(T=F,F=null):T=F.sibling;var H=d(p,F,Z.value,w);if(H===null){F===null&&(F=T);break}t&&F&&H.alternate===null&&e(p,F),v=s(H,v,z),j===null?N=H:j.sibling=H,j=H,F=T}if(Z.done)return r(p,F),lr&&ol(p,z),N;if(F===null){for(;!Z.done;z++,Z=b.next())Z=h(p,Z.value,w),Z!==null&&(v=s(Z,v,z),j===null?N=Z:j.sibling=Z,j=Z);return lr&&ol(p,z),N}for(F=n(p,F);!Z.done;z++,Z=b.next())Z=f(F,p,z,Z.value,w),Z!==null&&(t&&Z.alternate!==null&&F.delete(Z.key===null?z:Z.key),v=s(Z,v,z),j===null?N=Z:j.sibling=Z,j=Z);return t&&F.forEach(function(L){return e(p,L)}),lr&&ol(p,z),N}function x(p,v,b,w){if(typeof b=="object"&&b!==null&&b.type===Eu&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case kd:e:{for(var N=b.key,j=v;j!==null;){if(j.key===N){if(N=b.type,N===Eu){if(j.tag===7){r(p,j.sibling),v=i(j,b.props.children),v.return=p,p=v;break e}}else if(j.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Xo&&ux(N)===j.type){r(p,j.sibling),v=i(j,b.props),v.ref=ff(p,j,b),v.return=p,p=v;break e}r(p,j);break}else e(p,j);j=j.sibling}b.type===Eu?(v=xl(b.props.children,p.mode,w,b.key),v.return=p,p=v):(w=Ap(b.type,b.key,b.props,null,p.mode,w),w.ref=ff(p,v,b),w.return=p,p=w)}return o(p);case Au:e:{for(j=b.key;v!==null;){if(v.key===j)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){r(p,v.sibling),v=i(v,b.children||[]),v.return=p,p=v;break e}else{r(p,v);break}else e(p,v);v=v.sibling}v=A1(b,p.mode,w),v.return=p,p=v}return o(p);case Xo:return j=b._init,x(p,v,j(b._payload),w)}if(_f(b))return g(p,v,b,w);if(of(b))return y(p,v,b,w);Id(p,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(r(p,v.sibling),v=i(v,b),v.return=p,p=v):(r(p,v),v=_1(b,p.mode,w),v.return=p,p=v),o(p)):r(p,v)}return x}var sc=nA(!0),iA=nA(!1),Yp=La(null),Xp=null,Iu=null,_w=null;function Aw(){_w=Iu=Xp=null}function Ew(t){var e=Yp.current;or(Yp),t._currentValue=e}function Kv(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Hu(t,e){Xp=t,_w=Iu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&($n=!0),t.firstContext=null)}function Fi(t){var e=t._currentValue;if(_w!==t)if(t={context:t,memoizedValue:e,next:null},Iu===null){if(Xp===null)throw Error(He(308));Iu=t,Xp.dependencies={lanes:0,firstContext:t}}else Iu=Iu.next=t;return e}var dl=null;function Nw(t){dl===null?dl=[t]:dl.push(t)}function sA(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Nw(e)):(r.next=i.next,i.next=r),e.interleaved=r,_o(t,n)}function _o(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Zo=!1;function Cw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ma(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Bt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,_o(t,r)}return i=n.interleaved,i===null?(e.next=e,Nw(n)):(e.next=i.next,i.next=e),n.interleaved=e,_o(t,r)}function wp(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,dw(t,r)}}function cx(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Zp(t,e,r,n){var i=t.updateQueue;Zo=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((n&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,y=a;switch(d=e,f=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){h=g.call(f,h,d);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,d=typeof g=="function"?g.call(f,h,d):g,d==null)break e;h=dr({},h,d);break e;case 2:Zo=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Pl|=o,t.lanes=o,t.memoizedState=h}}function fx(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(He(191,i));i.call(n)}}}var Th={},Is=La(Th),ih=La(Th),sh=La(Th);function pl(t){if(t===Th)throw Error(He(174));return t}function Tw(t,e){switch(rr(sh,e),rr(ih,t),rr(Is,Th),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Nv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Nv(e,t)}or(Is),rr(Is,e)}function oc(){or(Is),or(ih),or(sh)}function aA(t){pl(sh.current);var e=pl(Is.current),r=Nv(e,t.type);e!==r&&(rr(ih,t),rr(Is,r))}function Lw(t){ih.current===t&&(or(Is),or(ih))}var fr=La(0);function Qp(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var v1=[];function Ow(){for(var t=0;t<v1.length;t++)v1[t]._workInProgressVersionPrimary=null;v1.length=0}var bp=No.ReactCurrentDispatcher,w1=No.ReactCurrentBatchConfig,Ol=0,hr=null,$r=null,Jr=null,em=!1,Mf=!1,oh=0,CO=0;function bn(){throw Error(He(321))}function Pw(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ss(t[r],e[r]))return!1;return!0}function Rw(t,e,r,n,i,s){if(Ol=s,hr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bp.current=t===null||t.memoizedState===null?PO:RO,t=r(n,i),Mf){s=0;do{if(Mf=!1,oh=0,25<=s)throw Error(He(301));s+=1,Jr=$r=null,e.updateQueue=null,bp.current=IO,t=r(n,i)}while(Mf)}if(bp.current=tm,e=$r!==null&&$r.next!==null,Ol=0,Jr=$r=hr=null,em=!1,e)throw Error(He(300));return t}function Iw(){var t=oh!==0;return oh=0,t}function _s(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jr===null?hr.memoizedState=Jr=t:Jr=Jr.next=t,Jr}function Bi(){if($r===null){var t=hr.alternate;t=t!==null?t.memoizedState:null}else t=$r.next;var e=Jr===null?hr.memoizedState:Jr.next;if(e!==null)Jr=e,$r=t;else{if(t===null)throw Error(He(310));$r=t,t={memoizedState:$r.memoizedState,baseState:$r.baseState,baseQueue:$r.baseQueue,queue:$r.queue,next:null},Jr===null?hr.memoizedState=Jr=t:Jr=Jr.next=t}return Jr}function ah(t,e){return typeof e=="function"?e(t):e}function b1(t){var e=Bi(),r=e.queue;if(r===null)throw Error(He(311));r.lastRenderedReducer=t;var n=$r,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Ol&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,hr.lanes|=c,Pl|=c}u=u.next}while(u!==null&&u!==s);l===null?o=n:l.next=a,ss(n,e.memoizedState)||($n=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,hr.lanes|=s,Pl|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function x1(t){var e=Bi(),r=e.queue;if(r===null)throw Error(He(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ss(s,e.memoizedState)||($n=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function lA(){}function uA(t,e){var r=hr,n=Bi(),i=e(),s=!ss(n.memoizedState,i);if(s&&(n.memoizedState=i,$n=!0),n=n.queue,Mw(hA.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Jr!==null&&Jr.memoizedState.tag&1){if(r.flags|=2048,lh(9,fA.bind(null,r,n,i,e),void 0,null),Zr===null)throw Error(He(349));Ol&30||cA(r,e,i)}return i}function cA(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=hr.updateQueue,e===null?(e={lastEffect:null,stores:null},hr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function fA(t,e,r,n){e.value=r,e.getSnapshot=n,dA(e)&&pA(t)}function hA(t,e,r){return r(function(){dA(e)&&pA(t)})}function dA(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ss(t,r)}catch{return!0}}function pA(t){var e=_o(t,1);e!==null&&is(e,t,1,-1)}function hx(t){var e=_s();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ah,lastRenderedState:t},e.queue=t,t=t.dispatch=OO.bind(null,hr,t),[e.memoizedState,t]}function lh(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=hr.updateQueue,e===null?(e={lastEffect:null,stores:null},hr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function mA(){return Bi().memoizedState}function xp(t,e,r,n){var i=_s();hr.flags|=t,i.memoizedState=lh(1|e,r,void 0,n===void 0?null:n)}function jm(t,e,r,n){var i=Bi();n=n===void 0?null:n;var s=void 0;if($r!==null){var o=$r.memoizedState;if(s=o.destroy,n!==null&&Pw(n,o.deps)){i.memoizedState=lh(e,r,s,n);return}}hr.flags|=t,i.memoizedState=lh(1|e,r,s,n)}function dx(t,e){return xp(8390656,8,t,e)}function Mw(t,e){return jm(2048,8,t,e)}function gA(t,e){return jm(4,2,t,e)}function yA(t,e){return jm(4,4,t,e)}function vA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wA(t,e,r){return r=r!=null?r.concat([t]):null,jm(4,4,vA.bind(null,e,t),r)}function Dw(){}function bA(t,e){var r=Bi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Pw(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function xA(t,e){var r=Bi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Pw(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function SA(t,e,r){return Ol&21?(ss(r,e)||(r=N_(),hr.lanes|=r,Pl|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,$n=!0),t.memoizedState=r)}function TO(t,e){var r=Vt;Vt=r!==0&&4>r?r:4,t(!0);var n=w1.transition;w1.transition={};try{t(!1),e()}finally{Vt=r,w1.transition=n}}function kA(){return Bi().memoizedState}function LO(t,e,r){var n=ya(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},_A(t))AA(e,r);else if(r=sA(t,e,r,n),r!==null){var i=Fn();is(r,t,n,i),EA(r,e,n)}}function OO(t,e,r){var n=ya(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(_A(t))AA(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,ss(a,o)){var l=e.interleaved;l===null?(i.next=i,Nw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=sA(t,e,i,n),r!==null&&(i=Fn(),is(r,t,n,i),EA(r,e,n))}}function _A(t){var e=t.alternate;return t===hr||e!==null&&e===hr}function AA(t,e){Mf=em=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function EA(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,dw(t,r)}}var tm={readContext:Fi,useCallback:bn,useContext:bn,useEffect:bn,useImperativeHandle:bn,useInsertionEffect:bn,useLayoutEffect:bn,useMemo:bn,useReducer:bn,useRef:bn,useState:bn,useDebugValue:bn,useDeferredValue:bn,useTransition:bn,useMutableSource:bn,useSyncExternalStore:bn,useId:bn,unstable_isNewReconciler:!1},PO={readContext:Fi,useCallback:function(t,e){return _s().memoizedState=[t,e===void 0?null:e],t},useContext:Fi,useEffect:dx,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,xp(4194308,4,vA.bind(null,e,t),r)},useLayoutEffect:function(t,e){return xp(4194308,4,t,e)},useInsertionEffect:function(t,e){return xp(4,2,t,e)},useMemo:function(t,e){var r=_s();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=_s();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=LO.bind(null,hr,t),[n.memoizedState,t]},useRef:function(t){var e=_s();return t={current:t},e.memoizedState=t},useState:hx,useDebugValue:Dw,useDeferredValue:function(t){return _s().memoizedState=t},useTransition:function(){var t=hx(!1),e=t[0];return t=TO.bind(null,t[1]),_s().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=hr,i=_s();if(lr){if(r===void 0)throw Error(He(407));r=r()}else{if(r=e(),Zr===null)throw Error(He(349));Ol&30||cA(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,dx(hA.bind(null,n,s,t),[t]),n.flags|=2048,lh(9,fA.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=_s(),e=Zr.identifierPrefix;if(lr){var r=mo,n=po;r=(n&~(1<<32-ns(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=oh++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=CO++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},RO={readContext:Fi,useCallback:bA,useContext:Fi,useEffect:Mw,useImperativeHandle:wA,useInsertionEffect:gA,useLayoutEffect:yA,useMemo:xA,useReducer:b1,useRef:mA,useState:function(){return b1(ah)},useDebugValue:Dw,useDeferredValue:function(t){var e=Bi();return SA(e,$r.memoizedState,t)},useTransition:function(){var t=b1(ah)[0],e=Bi().memoizedState;return[t,e]},useMutableSource:lA,useSyncExternalStore:uA,useId:kA,unstable_isNewReconciler:!1},IO={readContext:Fi,useCallback:bA,useContext:Fi,useEffect:Mw,useImperativeHandle:wA,useInsertionEffect:gA,useLayoutEffect:yA,useMemo:xA,useReducer:x1,useRef:mA,useState:function(){return x1(ah)},useDebugValue:Dw,useDeferredValue:function(t){var e=Bi();return $r===null?e.memoizedState=t:SA(e,$r.memoizedState,t)},useTransition:function(){var t=x1(ah)[0],e=Bi().memoizedState;return[t,e]},useMutableSource:lA,useSyncExternalStore:uA,useId:kA,unstable_isNewReconciler:!1};function Xi(t,e){if(t&&t.defaultProps){e=dr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Gv(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:dr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var zm={isMounted:function(t){return(t=t._reactInternals)?Ul(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Fn(),i=ya(t),s=vo(n,i);s.payload=e,r!=null&&(s.callback=r),e=ma(t,s,i),e!==null&&(is(e,t,i,n),wp(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Fn(),i=ya(t),s=vo(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=ma(t,s,i),e!==null&&(is(e,t,i,n),wp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Fn(),n=ya(t),i=vo(r,n);i.tag=2,e!=null&&(i.callback=e),e=ma(t,i,n),e!==null&&(is(e,t,n,r),wp(e,t,n))}};function px(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!eh(r,n)||!eh(i,s):!0}function NA(t,e,r){var n=!1,i=Ea,s=e.contextType;return typeof s=="object"&&s!==null?s=Fi(s):(i=Gn(e)?Tl:Cn.current,n=e.contextTypes,s=(n=n!=null)?nc(t,i):Ea),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zm,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function mx(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&zm.enqueueReplaceState(e,e.state,null)}function Jv(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Cw(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Fi(s):(s=Gn(e)?Tl:Cn.current,i.context=nc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Gv(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&zm.enqueueReplaceState(i,i.state,null),Zp(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ac(t,e){try{var r="",n=e;do r+=lL(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function S1(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Yv(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var MO=typeof WeakMap=="function"?WeakMap:Map;function CA(t,e,r){r=vo(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){nm||(nm=!0,o2=n),Yv(t,e)},r}function TA(t,e,r){r=vo(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Yv(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Yv(t,e),typeof n!="function"&&(ga===null?ga=new Set([this]):ga.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function gx(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new MO;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=JO.bind(null,t,e,r),e.then(t,t))}function yx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function vx(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=vo(-1,1),e.tag=2,ma(r,e,1))),r.lanes|=1),t)}var DO=No.ReactCurrentOwner,$n=!1;function Dn(t,e,r,n){e.child=t===null?iA(e,null,r,n):sc(e,t.child,r,n)}function wx(t,e,r,n,i){r=r.render;var s=e.ref;return Hu(e,i),n=Rw(t,e,r,n,s,i),r=Iw(),t!==null&&!$n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ao(t,e,i)):(lr&&r&&xw(e),e.flags|=1,Dn(t,e,n,i),e.child)}function bx(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!Hw(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,LA(t,e,s,n,i)):(t=Ap(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:eh,r(o,n)&&t.ref===e.ref)return Ao(t,e,i)}return e.flags|=1,t=va(s,n),t.ref=e.ref,t.return=e,e.child=t}function LA(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(eh(s,n)&&t.ref===e.ref)if($n=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&($n=!0);else return e.lanes=t.lanes,Ao(t,e,i)}return Xv(t,e,r,n,i)}function OA(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rr(Du,li),li|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,rr(Du,li),li|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,rr(Du,li),li|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,rr(Du,li),li|=n;return Dn(t,e,i,r),e.child}function PA(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Xv(t,e,r,n,i){var s=Gn(r)?Tl:Cn.current;return s=nc(e,s),Hu(e,i),r=Rw(t,e,r,n,s,i),n=Iw(),t!==null&&!$n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ao(t,e,i)):(lr&&n&&xw(e),e.flags|=1,Dn(t,e,r,i),e.child)}function xx(t,e,r,n,i){if(Gn(r)){var s=!0;Kp(e)}else s=!1;if(Hu(e,i),e.stateNode===null)Sp(t,e),NA(e,r,n),Jv(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Fi(u):(u=Gn(r)?Tl:Cn.current,u=nc(e,u));var c=r.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&mx(e,o,n,u),Zo=!1;var d=e.memoizedState;o.state=d,Zp(e,n,o,i),l=e.memoizedState,a!==n||d!==l||Kn.current||Zo?(typeof c=="function"&&(Gv(e,r,c,n),l=e.memoizedState),(a=Zo||px(e,r,a,n,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,oA(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Xi(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Fi(l):(l=Gn(r)?Tl:Cn.current,l=nc(e,l));var f=r.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&mx(e,o,n,l),Zo=!1,d=e.memoizedState,o.state=d,Zp(e,n,o,i);var g=e.memoizedState;a!==h||d!==g||Kn.current||Zo?(typeof f=="function"&&(Gv(e,r,f,n),g=e.memoizedState),(u=Zo||px(e,r,u,n,d,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),o.props=n,o.state=g,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return Zv(t,e,r,n,s,i)}function Zv(t,e,r,n,i,s){PA(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&ox(e,r,!1),Ao(t,e,s);n=e.stateNode,DO.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=sc(e,t.child,null,s),e.child=sc(e,null,a,s)):Dn(t,e,a,s),e.memoizedState=n.state,i&&ox(e,r,!0),e.child}function RA(t){var e=t.stateNode;e.pendingContext?sx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&sx(t,e.context,!1),Tw(t,e.containerInfo)}function Sx(t,e,r,n,i){return ic(),kw(i),e.flags|=256,Dn(t,e,r,n),e.child}var Qv={dehydrated:null,treeContext:null,retryLane:0};function e2(t){return{baseLanes:t,cachePool:null,transitions:null}}function IA(t,e,r){var n=e.pendingProps,i=fr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),rr(fr,i&1),t===null)return $v(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Wm(o,n,0,null),t=xl(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=e2(r),e.memoizedState=Qv,t):Fw(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return FO(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=va(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=va(a,s):(s=xl(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?e2(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=Qv,n}return s=t.child,t=s.sibling,n=va(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Fw(t,e){return e=Wm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Md(t,e,r,n){return n!==null&&kw(n),sc(e,t.child,null,r),t=Fw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function FO(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=S1(Error(He(422))),Md(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Wm({mode:"visible",children:n.children},i,0,null),s=xl(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&sc(e,t.child,null,o),e.child.memoizedState=e2(o),e.memoizedState=Qv,s);if(!(e.mode&1))return Md(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(He(419)),n=S1(s,n,void 0),Md(t,e,o,n)}if(a=(o&t.childLanes)!==0,$n||a){if(n=Zr,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,_o(t,i),is(n,t,i,-1))}return Ww(),n=S1(Error(He(421))),Md(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=YO.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ci=pa(i.nextSibling),di=e,lr=!0,es=null,t!==null&&(Li[Oi++]=po,Li[Oi++]=mo,Li[Oi++]=Ll,po=t.id,mo=t.overflow,Ll=e),e=Fw(e,n.children),e.flags|=4096,e)}function kx(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Kv(t.return,e,r)}function k1(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function MA(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Dn(t,e,n.children,r),n=fr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kx(t,r,e);else if(t.tag===19)kx(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(rr(fr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Qp(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),k1(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Qp(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}k1(e,!0,r,null,s);break;case"together":k1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Sp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ao(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Pl|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(He(153));if(e.child!==null){for(t=e.child,r=va(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=va(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function BO(t,e,r){switch(e.tag){case 3:RA(e),ic();break;case 5:aA(e);break;case 1:Gn(e.type)&&Kp(e);break;case 4:Tw(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;rr(Yp,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(rr(fr,fr.current&1),e.flags|=128,null):r&e.child.childLanes?IA(t,e,r):(rr(fr,fr.current&1),t=Ao(t,e,r),t!==null?t.sibling:null);rr(fr,fr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return MA(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),rr(fr,fr.current),n)break;return null;case 22:case 23:return e.lanes=0,OA(t,e,r)}return Ao(t,e,r)}var DA,t2,FA,BA;DA=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};t2=function(){};FA=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,pl(Is.current);var s=null;switch(r){case"input":i=kv(t,i),n=kv(t,n),s=[];break;case"select":i=dr({},i,{value:void 0}),n=dr({},n,{value:void 0}),s=[];break;case"textarea":i=Ev(t,i),n=Ev(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Vp)}Cv(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Kf.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Kf.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ir("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};BA=function(t,e,r,n){r!==n&&(e.flags|=4)};function hf(t,e){if(!lr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function xn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function jO(t,e,r){var n=e.pendingProps;switch(Sw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xn(e),null;case 1:return Gn(e.type)&&$p(),xn(e),null;case 3:return n=e.stateNode,oc(),or(Kn),or(Cn),Ow(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Rd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,es!==null&&(u2(es),es=null))),t2(t,e),xn(e),null;case 5:Lw(e);var i=pl(sh.current);if(r=e.type,t!==null&&e.stateNode!=null)FA(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(He(166));return xn(e),null}if(t=pl(Is.current),Rd(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Cs]=e,n[nh]=s,t=(e.mode&1)!==0,r){case"dialog":ir("cancel",n),ir("close",n);break;case"iframe":case"object":case"embed":ir("load",n);break;case"video":case"audio":for(i=0;i<Ef.length;i++)ir(Ef[i],n);break;case"source":ir("error",n);break;case"img":case"image":case"link":ir("error",n),ir("load",n);break;case"details":ir("toggle",n);break;case"input":Pb(n,s),ir("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ir("invalid",n);break;case"textarea":Ib(n,s),ir("invalid",n)}Cv(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&Pd(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Pd(n.textContent,a,t),i=["children",""+a]):Kf.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ir("scroll",n)}switch(r){case"input":_d(n),Rb(n,s,!0);break;case"textarea":_d(n),Mb(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Vp)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=h_(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Cs]=e,t[nh]=n,DA(t,e,!1,!1),e.stateNode=t;e:{switch(o=Tv(r,n),r){case"dialog":ir("cancel",t),ir("close",t),i=n;break;case"iframe":case"object":case"embed":ir("load",t),i=n;break;case"video":case"audio":for(i=0;i<Ef.length;i++)ir(Ef[i],t);i=n;break;case"source":ir("error",t),i=n;break;case"img":case"image":case"link":ir("error",t),ir("load",t),i=n;break;case"details":ir("toggle",t),i=n;break;case"input":Pb(t,n),i=kv(t,n),ir("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=dr({},n,{value:void 0}),ir("invalid",t);break;case"textarea":Ib(t,n),i=Ev(t,n),ir("invalid",t);break;default:i=n}Cv(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?m_(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&d_(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Gf(t,l):typeof l=="number"&&Gf(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Kf.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ir("scroll",t):l!=null&&aw(t,s,l,o))}switch(r){case"input":_d(t),Rb(t,n,!1);break;case"textarea":_d(t),Mb(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Aa(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?zu(t,!!n.multiple,s,!1):n.defaultValue!=null&&zu(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Vp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xn(e),null;case 6:if(t&&e.stateNode!=null)BA(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(He(166));if(r=pl(sh.current),pl(Is.current),Rd(e)){if(n=e.stateNode,r=e.memoizedProps,n[Cs]=e,(s=n.nodeValue!==r)&&(t=di,t!==null))switch(t.tag){case 3:Pd(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Pd(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Cs]=e,e.stateNode=n}return xn(e),null;case 13:if(or(fr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(lr&&ci!==null&&e.mode&1&&!(e.flags&128))rA(),ic(),e.flags|=98560,s=!1;else if(s=Rd(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(He(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(He(317));s[Cs]=e}else ic(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xn(e),s=!1}else es!==null&&(u2(es),es=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||fr.current&1?Kr===0&&(Kr=3):Ww())),e.updateQueue!==null&&(e.flags|=4),xn(e),null);case 4:return oc(),t2(t,e),t===null&&th(e.stateNode.containerInfo),xn(e),null;case 10:return Ew(e.type._context),xn(e),null;case 17:return Gn(e.type)&&$p(),xn(e),null;case 19:if(or(fr),s=e.memoizedState,s===null)return xn(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)hf(s,!1);else{if(Kr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Qp(t),o!==null){for(e.flags|=128,hf(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return rr(fr,fr.current&1|2),e.child}t=t.sibling}s.tail!==null&&Er()>lc&&(e.flags|=128,n=!0,hf(s,!1),e.lanes=4194304)}else{if(!n)if(t=Qp(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),hf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!lr)return xn(e),null}else 2*Er()-s.renderingStartTime>lc&&r!==1073741824&&(e.flags|=128,n=!0,hf(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Er(),e.sibling=null,r=fr.current,rr(fr,n?r&1|2:r&1),e):(xn(e),null);case 22:case 23:return qw(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?li&1073741824&&(xn(e),e.subtreeFlags&6&&(e.flags|=8192)):xn(e),null;case 24:return null;case 25:return null}throw Error(He(156,e.tag))}function zO(t,e){switch(Sw(e),e.tag){case 1:return Gn(e.type)&&$p(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return oc(),or(Kn),or(Cn),Ow(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Lw(e),null;case 13:if(or(fr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(He(340));ic()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return or(fr),null;case 4:return oc(),null;case 10:return Ew(e.type._context),null;case 22:case 23:return qw(),null;case 24:return null;default:return null}}var Dd=!1,Nn=!1,UO=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function Mu(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){wr(t,e,n)}else r.current=null}function r2(t,e,r){try{r()}catch(n){wr(t,e,n)}}var _x=!1;function qO(t,e){if(jv=qp,t=W_(),bw(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var f;h!==r||i!==0&&h.nodeType!==3||(a=o+i),h!==s||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===r&&++u===i&&(a=o),d===s&&++c===n&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(zv={focusedElem:t,selectionRange:r},qp=!1,Ye=e;Ye!==null;)if(e=Ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ye=t;else for(;Ye!==null;){e=Ye;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,x=g.memoizedState,p=e.stateNode,v=p.getSnapshotBeforeUpdate(e.elementType===e.type?y:Xi(e.type,y),x);p.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(He(163))}}catch(w){wr(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,Ye=t;break}Ye=e.return}return g=_x,_x=!1,g}function Df(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&r2(e,r,s)}i=i.next}while(i!==n)}}function Um(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function n2(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function jA(t){var e=t.alternate;e!==null&&(t.alternate=null,jA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Cs],delete e[nh],delete e[Wv],delete e[_O],delete e[AO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function zA(t){return t.tag===5||t.tag===3||t.tag===4}function Ax(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||zA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function i2(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Vp));else if(n!==4&&(t=t.child,t!==null))for(i2(t,e,r),t=t.sibling;t!==null;)i2(t,e,r),t=t.sibling}function s2(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(s2(t,e,r),t=t.sibling;t!==null;)s2(t,e,r),t=t.sibling}var un=null,Qi=!1;function $o(t,e,r){for(r=r.child;r!==null;)UA(t,e,r),r=r.sibling}function UA(t,e,r){if(Rs&&typeof Rs.onCommitFiberUnmount=="function")try{Rs.onCommitFiberUnmount(Rm,r)}catch{}switch(r.tag){case 5:Nn||Mu(r,e);case 6:var n=un,i=Qi;un=null,$o(t,e,r),un=n,Qi=i,un!==null&&(Qi?(t=un,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):un.removeChild(r.stateNode));break;case 18:un!==null&&(Qi?(t=un,r=r.stateNode,t.nodeType===8?g1(t.parentNode,r):t.nodeType===1&&g1(t,r),Zf(t)):g1(un,r.stateNode));break;case 4:n=un,i=Qi,un=r.stateNode.containerInfo,Qi=!0,$o(t,e,r),un=n,Qi=i;break;case 0:case 11:case 14:case 15:if(!Nn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&r2(r,e,o),i=i.next}while(i!==n)}$o(t,e,r);break;case 1:if(!Nn&&(Mu(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){wr(r,e,a)}$o(t,e,r);break;case 21:$o(t,e,r);break;case 22:r.mode&1?(Nn=(n=Nn)||r.memoizedState!==null,$o(t,e,r),Nn=n):$o(t,e,r);break;default:$o(t,e,r)}}function Ex(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new UO),e.forEach(function(n){var i=XO.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Gi(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:un=a.stateNode,Qi=!1;break e;case 3:un=a.stateNode.containerInfo,Qi=!0;break e;case 4:un=a.stateNode.containerInfo,Qi=!0;break e}a=a.return}if(un===null)throw Error(He(160));UA(s,o,i),un=null,Qi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){wr(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)qA(e,t),e=e.sibling}function qA(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Gi(e,t),bs(t),n&4){try{Df(3,t,t.return),Um(3,t)}catch(y){wr(t,t.return,y)}try{Df(5,t,t.return)}catch(y){wr(t,t.return,y)}}break;case 1:Gi(e,t),bs(t),n&512&&r!==null&&Mu(r,r.return);break;case 5:if(Gi(e,t),bs(t),n&512&&r!==null&&Mu(r,r.return),t.flags&32){var i=t.stateNode;try{Gf(i,"")}catch(y){wr(t,t.return,y)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&c_(i,s),Tv(a,o);var u=Tv(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?m_(i,h):c==="dangerouslySetInnerHTML"?d_(i,h):c==="children"?Gf(i,h):aw(i,c,h,u)}switch(a){case"input":_v(i,s);break;case"textarea":f_(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?zu(i,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?zu(i,!!s.multiple,s.defaultValue,!0):zu(i,!!s.multiple,s.multiple?[]:"",!1))}i[nh]=s}catch(y){wr(t,t.return,y)}}break;case 6:if(Gi(e,t),bs(t),n&4){if(t.stateNode===null)throw Error(He(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){wr(t,t.return,y)}}break;case 3:if(Gi(e,t),bs(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Zf(e.containerInfo)}catch(y){wr(t,t.return,y)}break;case 4:Gi(e,t),bs(t);break;case 13:Gi(e,t),bs(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(zw=Er())),n&4&&Ex(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(Nn=(u=Nn)||c,Gi(e,t),Nn=u):Gi(e,t),bs(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Ye=t,c=t.child;c!==null;){for(h=Ye=c;Ye!==null;){switch(d=Ye,f=d.child,d.tag){case 0:case 11:case 14:case 15:Df(4,d,d.return);break;case 1:Mu(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){n=d,r=d.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){wr(n,r,y)}}break;case 5:Mu(d,d.return);break;case 22:if(d.memoizedState!==null){Cx(h);continue}}f!==null?(f.return=d,Ye=f):Cx(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=p_("display",o))}catch(y){wr(t,t.return,y)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){wr(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Gi(e,t),bs(t),n&4&&Ex(t);break;case 21:break;default:Gi(e,t),bs(t)}}function bs(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(zA(r)){var n=r;break e}r=r.return}throw Error(He(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Gf(i,""),n.flags&=-33);var s=Ax(t);s2(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Ax(t);i2(t,a,o);break;default:throw Error(He(161))}}catch(l){wr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function WO(t,e,r){Ye=t,WA(t)}function WA(t,e,r){for(var n=(t.mode&1)!==0;Ye!==null;){var i=Ye,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Dd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Nn;a=Dd;var u=Nn;if(Dd=o,(Nn=l)&&!u)for(Ye=i;Ye!==null;)o=Ye,l=o.child,o.tag===22&&o.memoizedState!==null?Tx(i):l!==null?(l.return=o,Ye=l):Tx(i);for(;s!==null;)Ye=s,WA(s),s=s.sibling;Ye=i,Dd=a,Nn=u}Nx(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ye=s):Nx(t)}}function Nx(t){for(;Ye!==null;){var e=Ye;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Nn||Um(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Nn)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Xi(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&fx(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}fx(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Zf(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(He(163))}Nn||e.flags&512&&n2(e)}catch(d){wr(e,e.return,d)}}if(e===t){Ye=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ye=r;break}Ye=e.return}}function Cx(t){for(;Ye!==null;){var e=Ye;if(e===t){Ye=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ye=r;break}Ye=e.return}}function Tx(t){for(;Ye!==null;){var e=Ye;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Um(4,e)}catch(l){wr(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){wr(e,i,l)}}var s=e.return;try{n2(e)}catch(l){wr(e,s,l)}break;case 5:var o=e.return;try{n2(e)}catch(l){wr(e,o,l)}}}catch(l){wr(e,e.return,l)}if(e===t){Ye=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ye=a;break}Ye=e.return}}var HO=Math.ceil,rm=No.ReactCurrentDispatcher,Bw=No.ReactCurrentOwner,Ii=No.ReactCurrentBatchConfig,Bt=0,Zr=null,Dr=null,mn=0,li=0,Du=La(0),Kr=0,uh=null,Pl=0,qm=0,jw=0,Ff=null,Vn=null,zw=0,lc=1/0,uo=null,nm=!1,o2=null,ga=null,Fd=!1,sa=null,im=0,Bf=0,a2=null,kp=-1,_p=0;function Fn(){return Bt&6?Er():kp!==-1?kp:kp=Er()}function ya(t){return t.mode&1?Bt&2&&mn!==0?mn&-mn:NO.transition!==null?(_p===0&&(_p=N_()),_p):(t=Vt,t!==0||(t=window.event,t=t===void 0?16:I_(t.type)),t):1}function is(t,e,r,n){if(50<Bf)throw Bf=0,a2=null,Error(He(185));Eh(t,r,n),(!(Bt&2)||t!==Zr)&&(t===Zr&&(!(Bt&2)&&(qm|=r),Kr===4&&ra(t,mn)),Jn(t,n),r===1&&Bt===0&&!(e.mode&1)&&(lc=Er()+500,Bm&&Oa()))}function Jn(t,e){var r=t.callbackNode;NL(t,e);var n=Up(t,t===Zr?mn:0);if(n===0)r!==null&&Bb(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Bb(r),e===1)t.tag===0?EO(Lx.bind(null,t)):Q_(Lx.bind(null,t)),SO(function(){!(Bt&6)&&Oa()}),r=null;else{switch(C_(n)){case 1:r=hw;break;case 4:r=A_;break;case 16:r=zp;break;case 536870912:r=E_;break;default:r=zp}r=XA(r,HA.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function HA(t,e){if(kp=-1,_p=0,Bt&6)throw Error(He(327));var r=t.callbackNode;if(Vu()&&t.callbackNode!==r)return null;var n=Up(t,t===Zr?mn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=sm(t,n);else{e=n;var i=Bt;Bt|=2;var s=$A();(Zr!==t||mn!==e)&&(uo=null,lc=Er()+500,bl(t,e));do try{KO();break}catch(a){VA(t,a)}while(!0);Aw(),rm.current=s,Bt=i,Dr!==null?e=0:(Zr=null,mn=0,e=Kr)}if(e!==0){if(e===2&&(i=Iv(t),i!==0&&(n=i,e=l2(t,i))),e===1)throw r=uh,bl(t,0),ra(t,n),Jn(t,Er()),r;if(e===6)ra(t,n);else{if(i=t.current.alternate,!(n&30)&&!VO(i)&&(e=sm(t,n),e===2&&(s=Iv(t),s!==0&&(n=s,e=l2(t,s))),e===1))throw r=uh,bl(t,0),ra(t,n),Jn(t,Er()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(He(345));case 2:al(t,Vn,uo);break;case 3:if(ra(t,n),(n&130023424)===n&&(e=zw+500-Er(),10<e)){if(Up(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Fn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=qv(al.bind(null,t,Vn,uo),e);break}al(t,Vn,uo);break;case 4:if(ra(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-ns(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=Er()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*HO(n/1960))-n,10<n){t.timeoutHandle=qv(al.bind(null,t,Vn,uo),n);break}al(t,Vn,uo);break;case 5:al(t,Vn,uo);break;default:throw Error(He(329))}}}return Jn(t,Er()),t.callbackNode===r?HA.bind(null,t):null}function l2(t,e){var r=Ff;return t.current.memoizedState.isDehydrated&&(bl(t,e).flags|=256),t=sm(t,e),t!==2&&(e=Vn,Vn=r,e!==null&&u2(e)),t}function u2(t){Vn===null?Vn=t:Vn.push.apply(Vn,t)}function VO(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!ss(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ra(t,e){for(e&=~jw,e&=~qm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ns(e),n=1<<r;t[r]=-1,e&=~n}}function Lx(t){if(Bt&6)throw Error(He(327));Vu();var e=Up(t,0);if(!(e&1))return Jn(t,Er()),null;var r=sm(t,e);if(t.tag!==0&&r===2){var n=Iv(t);n!==0&&(e=n,r=l2(t,n))}if(r===1)throw r=uh,bl(t,0),ra(t,e),Jn(t,Er()),r;if(r===6)throw Error(He(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,al(t,Vn,uo),Jn(t,Er()),null}function Uw(t,e){var r=Bt;Bt|=1;try{return t(e)}finally{Bt=r,Bt===0&&(lc=Er()+500,Bm&&Oa())}}function Rl(t){sa!==null&&sa.tag===0&&!(Bt&6)&&Vu();var e=Bt;Bt|=1;var r=Ii.transition,n=Vt;try{if(Ii.transition=null,Vt=1,t)return t()}finally{Vt=n,Ii.transition=r,Bt=e,!(Bt&6)&&Oa()}}function qw(){li=Du.current,or(Du)}function bl(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,xO(r)),Dr!==null)for(r=Dr.return;r!==null;){var n=r;switch(Sw(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&$p();break;case 3:oc(),or(Kn),or(Cn),Ow();break;case 5:Lw(n);break;case 4:oc();break;case 13:or(fr);break;case 19:or(fr);break;case 10:Ew(n.type._context);break;case 22:case 23:qw()}r=r.return}if(Zr=t,Dr=t=va(t.current,null),mn=li=e,Kr=0,uh=null,jw=qm=Pl=0,Vn=Ff=null,dl!==null){for(e=0;e<dl.length;e++)if(r=dl[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}dl=null}return t}function VA(t,e){do{var r=Dr;try{if(Aw(),bp.current=tm,em){for(var n=hr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}em=!1}if(Ol=0,Jr=$r=hr=null,Mf=!1,oh=0,Bw.current=null,r===null||r.return===null){Kr=1,uh=e,Dr=null;break}e:{var s=t,o=r.return,a=r,l=e;if(e=mn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=yx(o);if(f!==null){f.flags&=-257,vx(f,o,a,s,e),f.mode&1&&gx(s,u,e),e=f,l=u;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){gx(s,u,e),Ww();break e}l=Error(He(426))}}else if(lr&&a.mode&1){var x=yx(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),vx(x,o,a,s,e),kw(ac(l,a));break e}}s=l=ac(l,a),Kr!==4&&(Kr=2),Ff===null?Ff=[s]:Ff.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var p=CA(s,l,e);cx(s,p);break e;case 1:a=l;var v=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ga===null||!ga.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=TA(s,a,e);cx(s,w);break e}}s=s.return}while(s!==null)}GA(r)}catch(N){e=N,Dr===r&&r!==null&&(Dr=r=r.return);continue}break}while(!0)}function $A(){var t=rm.current;return rm.current=tm,t===null?tm:t}function Ww(){(Kr===0||Kr===3||Kr===2)&&(Kr=4),Zr===null||!(Pl&268435455)&&!(qm&268435455)||ra(Zr,mn)}function sm(t,e){var r=Bt;Bt|=2;var n=$A();(Zr!==t||mn!==e)&&(uo=null,bl(t,e));do try{$O();break}catch(i){VA(t,i)}while(!0);if(Aw(),Bt=r,rm.current=n,Dr!==null)throw Error(He(261));return Zr=null,mn=0,Kr}function $O(){for(;Dr!==null;)KA(Dr)}function KO(){for(;Dr!==null&&!vL();)KA(Dr)}function KA(t){var e=YA(t.alternate,t,li);t.memoizedProps=t.pendingProps,e===null?GA(t):Dr=e,Bw.current=null}function GA(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=zO(r,e),r!==null){r.flags&=32767,Dr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Kr=6,Dr=null;return}}else if(r=jO(r,e,li),r!==null){Dr=r;return}if(e=e.sibling,e!==null){Dr=e;return}Dr=e=t}while(e!==null);Kr===0&&(Kr=5)}function al(t,e,r){var n=Vt,i=Ii.transition;try{Ii.transition=null,Vt=1,GO(t,e,r,n)}finally{Ii.transition=i,Vt=n}return null}function GO(t,e,r,n){do Vu();while(sa!==null);if(Bt&6)throw Error(He(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(He(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(CL(t,s),t===Zr&&(Dr=Zr=null,mn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Fd||(Fd=!0,XA(zp,function(){return Vu(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Ii.transition,Ii.transition=null;var o=Vt;Vt=1;var a=Bt;Bt|=4,Bw.current=null,qO(t,r),qA(r,t),pO(zv),qp=!!jv,zv=jv=null,t.current=r,WO(r),wL(),Bt=a,Vt=o,Ii.transition=s}else t.current=r;if(Fd&&(Fd=!1,sa=t,im=i),s=t.pendingLanes,s===0&&(ga=null),SL(r.stateNode),Jn(t,Er()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(nm)throw nm=!1,t=o2,o2=null,t;return im&1&&t.tag!==0&&Vu(),s=t.pendingLanes,s&1?t===a2?Bf++:(Bf=0,a2=t):Bf=0,Oa(),null}function Vu(){if(sa!==null){var t=C_(im),e=Ii.transition,r=Vt;try{if(Ii.transition=null,Vt=16>t?16:t,sa===null)var n=!1;else{if(t=sa,sa=null,im=0,Bt&6)throw Error(He(331));var i=Bt;for(Bt|=4,Ye=t.current;Ye!==null;){var s=Ye,o=s.child;if(Ye.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Ye=u;Ye!==null;){var c=Ye;switch(c.tag){case 0:case 11:case 15:Df(8,c,s)}var h=c.child;if(h!==null)h.return=c,Ye=h;else for(;Ye!==null;){c=Ye;var d=c.sibling,f=c.return;if(jA(c),c===u){Ye=null;break}if(d!==null){d.return=f,Ye=d;break}Ye=f}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}Ye=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ye=o;else e:for(;Ye!==null;){if(s=Ye,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Df(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,Ye=p;break e}Ye=s.return}}var v=t.current;for(Ye=v;Ye!==null;){o=Ye;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Ye=b;else e:for(o=v;Ye!==null;){if(a=Ye,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Um(9,a)}}catch(N){wr(a,a.return,N)}if(a===o){Ye=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,Ye=w;break e}Ye=a.return}}if(Bt=i,Oa(),Rs&&typeof Rs.onPostCommitFiberRoot=="function")try{Rs.onPostCommitFiberRoot(Rm,t)}catch{}n=!0}return n}finally{Vt=r,Ii.transition=e}}return!1}function Ox(t,e,r){e=ac(r,e),e=CA(t,e,1),t=ma(t,e,1),e=Fn(),t!==null&&(Eh(t,1,e),Jn(t,e))}function wr(t,e,r){if(t.tag===3)Ox(t,t,r);else for(;e!==null;){if(e.tag===3){Ox(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ga===null||!ga.has(n))){t=ac(r,t),t=TA(e,t,1),e=ma(e,t,1),t=Fn(),e!==null&&(Eh(e,1,t),Jn(e,t));break}}e=e.return}}function JO(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Fn(),t.pingedLanes|=t.suspendedLanes&r,Zr===t&&(mn&r)===r&&(Kr===4||Kr===3&&(mn&130023424)===mn&&500>Er()-zw?bl(t,0):jw|=r),Jn(t,e)}function JA(t,e){e===0&&(t.mode&1?(e=Nd,Nd<<=1,!(Nd&130023424)&&(Nd=4194304)):e=1);var r=Fn();t=_o(t,e),t!==null&&(Eh(t,e,r),Jn(t,r))}function YO(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),JA(t,r)}function XO(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(He(314))}n!==null&&n.delete(e),JA(t,r)}var YA;YA=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Kn.current)$n=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return $n=!1,BO(t,e,r);$n=!!(t.flags&131072)}else $n=!1,lr&&e.flags&1048576&&eA(e,Jp,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Sp(t,e),t=e.pendingProps;var i=nc(e,Cn.current);Hu(e,r),i=Rw(null,e,n,t,i,r);var s=Iw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gn(n)?(s=!0,Kp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Cw(e),i.updater=zm,e.stateNode=i,i._reactInternals=e,Jv(e,n,t,r),e=Zv(null,e,n,!0,s,r)):(e.tag=0,lr&&s&&xw(e),Dn(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Sp(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=QO(n),t=Xi(n,t),i){case 0:e=Xv(null,e,n,t,r);break e;case 1:e=xx(null,e,n,t,r);break e;case 11:e=wx(null,e,n,t,r);break e;case 14:e=bx(null,e,n,Xi(n.type,t),r);break e}throw Error(He(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Xi(n,i),Xv(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Xi(n,i),xx(t,e,n,i,r);case 3:e:{if(RA(e),t===null)throw Error(He(387));n=e.pendingProps,s=e.memoizedState,i=s.element,oA(t,e),Zp(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ac(Error(He(423)),e),e=Sx(t,e,n,r,i);break e}else if(n!==i){i=ac(Error(He(424)),e),e=Sx(t,e,n,r,i);break e}else for(ci=pa(e.stateNode.containerInfo.firstChild),di=e,lr=!0,es=null,r=iA(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ic(),n===i){e=Ao(t,e,r);break e}Dn(t,e,n,r)}e=e.child}return e;case 5:return aA(e),t===null&&$v(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Uv(n,i)?o=null:s!==null&&Uv(n,s)&&(e.flags|=32),PA(t,e),Dn(t,e,o,r),e.child;case 6:return t===null&&$v(e),null;case 13:return IA(t,e,r);case 4:return Tw(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=sc(e,null,n,r):Dn(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Xi(n,i),wx(t,e,n,i,r);case 7:return Dn(t,e,e.pendingProps,r),e.child;case 8:return Dn(t,e,e.pendingProps.children,r),e.child;case 12:return Dn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,rr(Yp,n._currentValue),n._currentValue=o,s!==null)if(ss(s.value,o)){if(s.children===i.children&&!Kn.current){e=Ao(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=vo(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),Kv(s.return,r,e),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(He(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Kv(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Dn(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Hu(e,r),i=Fi(i),n=n(i),e.flags|=1,Dn(t,e,n,r),e.child;case 14:return n=e.type,i=Xi(n,e.pendingProps),i=Xi(n.type,i),bx(t,e,n,i,r);case 15:return LA(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Xi(n,i),Sp(t,e),e.tag=1,Gn(n)?(t=!0,Kp(e)):t=!1,Hu(e,r),NA(e,n,i),Jv(e,n,i,r),Zv(null,e,n,!0,t,r);case 19:return MA(t,e,r);case 22:return OA(t,e,r)}throw Error(He(156,e.tag))};function XA(t,e){return __(t,e)}function ZO(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ri(t,e,r,n){return new ZO(t,e,r,n)}function Hw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function QO(t){if(typeof t=="function")return Hw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===uw)return 11;if(t===cw)return 14}return 2}function va(t,e){var r=t.alternate;return r===null?(r=Ri(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ap(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")Hw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Eu:return xl(r.children,i,s,e);case lw:o=8,i|=8;break;case wv:return t=Ri(12,r,e,i|2),t.elementType=wv,t.lanes=s,t;case bv:return t=Ri(13,r,e,i),t.elementType=bv,t.lanes=s,t;case xv:return t=Ri(19,r,e,i),t.elementType=xv,t.lanes=s,t;case a_:return Wm(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case s_:o=10;break e;case o_:o=9;break e;case uw:o=11;break e;case cw:o=14;break e;case Xo:o=16,n=null;break e}throw Error(He(130,t==null?t:typeof t,""))}return e=Ri(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function xl(t,e,r,n){return t=Ri(7,t,n,e),t.lanes=r,t}function Wm(t,e,r,n){return t=Ri(22,t,n,e),t.elementType=a_,t.lanes=r,t.stateNode={isHidden:!1},t}function _1(t,e,r){return t=Ri(6,t,null,e),t.lanes=r,t}function A1(t,e,r){return e=Ri(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function eP(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=s1(0),this.expirationTimes=s1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=s1(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vw(t,e,r,n,i,s,o,a,l){return t=new eP(t,e,r,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ri(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cw(s),t}function tP(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Au,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function ZA(t){if(!t)return Ea;t=t._reactInternals;e:{if(Ul(t)!==t||t.tag!==1)throw Error(He(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(He(171))}if(t.tag===1){var r=t.type;if(Gn(r))return Z_(t,r,e)}return e}function QA(t,e,r,n,i,s,o,a,l){return t=Vw(r,n,!0,t,i,s,o,a,l),t.context=ZA(null),r=t.current,n=Fn(),i=ya(r),s=vo(n,i),s.callback=e??null,ma(r,s,i),t.current.lanes=i,Eh(t,i,n),Jn(t,n),t}function Hm(t,e,r,n){var i=e.current,s=Fn(),o=ya(i);return r=ZA(r),e.context===null?e.context=r:e.pendingContext=r,e=vo(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=ma(i,e,o),t!==null&&(is(t,i,o,s),wp(t,i,o)),o}function om(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Px(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function $w(t,e){Px(t,e),(t=t.alternate)&&Px(t,e)}function rP(){return null}var eE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Kw(t){this._internalRoot=t}Vm.prototype.render=Kw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(He(409));Hm(t,e,null,null)};Vm.prototype.unmount=Kw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Rl(function(){Hm(null,t,null,null)}),e[ko]=null}};function Vm(t){this._internalRoot=t}Vm.prototype.unstable_scheduleHydration=function(t){if(t){var e=O_();t={blockedOn:null,target:t,priority:e};for(var r=0;r<ta.length&&e!==0&&e<ta[r].priority;r++);ta.splice(r,0,t),r===0&&R_(t)}};function Gw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $m(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Rx(){}function nP(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=om(o);s.call(u)}}var o=QA(e,n,t,0,null,!1,!1,"",Rx);return t._reactRootContainer=o,t[ko]=o.current,th(t.nodeType===8?t.parentNode:t),Rl(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=om(l);a.call(u)}}var l=Vw(t,0,!1,null,null,!1,!1,"",Rx);return t._reactRootContainer=l,t[ko]=l.current,th(t.nodeType===8?t.parentNode:t),Rl(function(){Hm(e,l,r,n)}),l}function Km(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=om(o);a.call(l)}}Hm(e,o,t,i)}else o=nP(r,e,t,i,n);return om(o)}T_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Af(e.pendingLanes);r!==0&&(dw(e,r|1),Jn(e,Er()),!(Bt&6)&&(lc=Er()+500,Oa()))}break;case 13:Rl(function(){var n=_o(t,1);if(n!==null){var i=Fn();is(n,t,1,i)}}),$w(t,1)}};pw=function(t){if(t.tag===13){var e=_o(t,134217728);if(e!==null){var r=Fn();is(e,t,134217728,r)}$w(t,134217728)}};L_=function(t){if(t.tag===13){var e=ya(t),r=_o(t,e);if(r!==null){var n=Fn();is(r,t,e,n)}$w(t,e)}};O_=function(){return Vt};P_=function(t,e){var r=Vt;try{return Vt=t,e()}finally{Vt=r}};Ov=function(t,e,r){switch(e){case"input":if(_v(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Fm(n);if(!i)throw Error(He(90));u_(n),_v(n,i)}}}break;case"textarea":f_(t,r);break;case"select":e=r.value,e!=null&&zu(t,!!r.multiple,e,!1)}};v_=Uw;w_=Rl;var iP={usingClientEntryPoint:!1,Events:[Ch,Lu,Fm,g_,y_,Uw]},df={findFiberByHostInstance:hl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sP={bundleType:df.bundleType,version:df.version,rendererPackageName:df.rendererPackageName,rendererConfig:df.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:No.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=S_(t),t===null?null:t.stateNode},findFiberByHostInstance:df.findFiberByHostInstance||rP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bd.isDisabled&&Bd.supportsFiber)try{Rm=Bd.inject(sP),Rs=Bd}catch{}}gi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iP;gi.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gw(e))throw Error(He(200));return tP(t,e,null,r)};gi.createRoot=function(t,e){if(!Gw(t))throw Error(He(299));var r=!1,n="",i=eE;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Vw(t,1,!1,null,null,r,!1,n,i),t[ko]=e.current,th(t.nodeType===8?t.parentNode:t),new Kw(e)};gi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(He(188)):(t=Object.keys(t).join(","),Error(He(268,t)));return t=S_(e),t=t===null?null:t.stateNode,t};gi.flushSync=function(t){return Rl(t)};gi.hydrate=function(t,e,r){if(!$m(e))throw Error(He(200));return Km(null,t,e,!0,r)};gi.hydrateRoot=function(t,e,r){if(!Gw(t))throw Error(He(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=eE;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=QA(e,null,t,1,r??null,i,!1,s,o),t[ko]=e.current,th(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Vm(e)};gi.render=function(t,e,r){if(!$m(e))throw Error(He(200));return Km(null,t,e,!1,r)};gi.unmountComponentAtNode=function(t){if(!$m(t))throw Error(He(40));return t._reactRootContainer?(Rl(function(){Km(null,null,t,!1,function(){t._reactRootContainer=null,t[ko]=null})}),!0):!1};gi.unstable_batchedUpdates=Uw;gi.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!$m(r))throw Error(He(200));if(t==null||t._reactInternals===void 0)throw Error(He(38));return Km(t,e,r,!1,n)};gi.version="18.3.1-next-f1338f8080-20240426";function tE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tE)}catch(t){console.error(t)}}tE(),t_.exports=gi;var rE=t_.exports;const oP=W6(rE);var Ix=rE;yv.createRoot=Ix.createRoot,yv.hydrateRoot=Ix.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ch(){return ch=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ch.apply(this,arguments)}var oa;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(oa||(oa={}));const Mx="popstate";function aP(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:o,hash:a}=n.location;return c2("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:am(i)}return uP(e,r,null,t)}function Br(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Jw(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lP(){return Math.random().toString(36).substr(2,8)}function Dx(t,e){return{usr:t.state,key:t.key,idx:e}}function c2(t,e,r,n){return r===void 0&&(r=null),ch({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ac(e):e,{state:r,key:e&&e.key||n||lP()})}function am(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ac(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function uP(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a=oa.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(ch({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=oa.Pop;let x=c(),p=x==null?null:x-u;u=x,l&&l({action:a,location:y.location,delta:p})}function d(x,p){a=oa.Push;let v=c2(y.location,x,p);u=c()+1;let b=Dx(v,u),w=y.createHref(v);try{o.pushState(b,"",w)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(w)}s&&l&&l({action:a,location:y.location,delta:1})}function f(x,p){a=oa.Replace;let v=c2(y.location,x,p);u=c();let b=Dx(v,u),w=y.createHref(v);o.replaceState(b,"",w),s&&l&&l({action:a,location:y.location,delta:0})}function g(x){let p=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof x=="string"?x:am(x);return v=v.replace(/ $/,"%20"),Br(p,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,p)}let y={get action(){return a},get location(){return t(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Mx,h),l=x,()=>{i.removeEventListener(Mx,h),l=null}},createHref(x){return e(i,x)},createURL:g,encodeLocation(x){let p=g(x);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:d,replace:f,go(x){return o.go(x)}};return y}var Fx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Fx||(Fx={}));function cP(t,e,r){return r===void 0&&(r="/"),fP(t,e,r)}function fP(t,e,r,n){let i=typeof e=="string"?Ac(e):e,s=Yw(i.pathname||"/",r);if(s==null)return null;let o=nE(t);hP(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=_P(s);a=xP(o[l],u)}return a}function nE(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Br(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=wa([n,l.relativePath]),c=r.concat(l);s.children&&s.children.length>0&&(Br(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),nE(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:wP(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of iE(s.path))i(s,o,l)}),e}function iE(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=iE(n.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function hP(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:bP(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const dP=/^:[\w-]+$/,pP=3,mP=2,gP=1,yP=10,vP=-2,Bx=t=>t==="*";function wP(t,e){let r=t.split("/"),n=r.length;return r.some(Bx)&&(n+=vP),e&&(n+=mP),r.filter(i=>!Bx(i)).reduce((i,s)=>i+(dP.test(s)?pP:s===""?gP:yP),n)}function bP(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function xP(t,e,r){let{routesMeta:n}=t,i={},s="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",h=SP({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:wa([s,h.pathname]),pathnameBase:TP(wa([s,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(s=wa([s,h.pathnameBase]))}return o}function SP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=kP(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((u,c,h)=>{let{paramName:d,isOptional:f}=c;if(d==="*"){let y=a[h]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const g=a[h];return f&&!g?u[d]=void 0:u[d]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function kP(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Jw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function _P(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Yw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const AP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,EP=t=>AP.test(t);function NP(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Ac(t):t,s;if(r)if(EP(r))s=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Jw(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?s=jx(r.substring(1),"/"):s=jx(r,e)}else s=e;return{pathname:s,search:LP(n),hash:OP(i)}}function jx(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function E1(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function CP(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function sE(t,e){let r=CP(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function oE(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Ac(t):(i=ch({},t),Br(!i.pathname||!i.pathname.includes("?"),E1("?","pathname","search",i)),Br(!i.pathname||!i.pathname.includes("#"),E1("#","pathname","hash",i)),Br(!i.search||!i.search.includes("#"),E1("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=r;else{let h=e.length-1;if(!n&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=NP(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const wa=t=>t.join("/").replace(/\/\/+/g,"/"),TP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),LP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,OP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function PP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const aE=["post","put","patch","delete"];new Set(aE);const RP=["get",...aE];new Set(RP);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fh(){return fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fh.apply(this,arguments)}const Xw=Ue.createContext(null),IP=Ue.createContext(null),ql=Ue.createContext(null),Gm=Ue.createContext(null),Pa=Ue.createContext({outlet:null,matches:[],isDataRoute:!1}),lE=Ue.createContext(null);function MP(t,e){let{relative:r}=e===void 0?{}:e;Lh()||Br(!1);let{basename:n,navigator:i}=Ue.useContext(ql),{hash:s,pathname:o,search:a}=cE(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:wa([n,o])),i.createHref({pathname:l,search:a,hash:s})}function Lh(){return Ue.useContext(Gm)!=null}function Jm(){return Lh()||Br(!1),Ue.useContext(Gm).location}function uE(t){Ue.useContext(ql).static||Ue.useLayoutEffect(t)}function DP(){let{isDataRoute:t}=Ue.useContext(Pa);return t?YP():FP()}function FP(){Lh()||Br(!1);let t=Ue.useContext(Xw),{basename:e,future:r,navigator:n}=Ue.useContext(ql),{matches:i}=Ue.useContext(Pa),{pathname:s}=Jm(),o=JSON.stringify(sE(i,r.v7_relativeSplatPath)),a=Ue.useRef(!1);return uE(()=>{a.current=!0}),Ue.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let h=oE(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:wa([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,o,s,t])}function BP(){let{matches:t}=Ue.useContext(Pa),e=t[t.length-1];return e?e.params:{}}function cE(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=Ue.useContext(ql),{matches:i}=Ue.useContext(Pa),{pathname:s}=Jm(),o=JSON.stringify(sE(i,n.v7_relativeSplatPath));return Ue.useMemo(()=>oE(t,JSON.parse(o),s,r==="path"),[t,o,s,r])}function jP(t,e){return zP(t,e)}function zP(t,e,r,n){Lh()||Br(!1);let{navigator:i}=Ue.useContext(ql),{matches:s}=Ue.useContext(Pa),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Jm(),c;if(e){var h;let x=typeof e=="string"?Ac(e):e;l==="/"||(h=x.pathname)!=null&&h.startsWith(l)||Br(!1),c=x}else c=u;let d=c.pathname||"/",f=d;if(l!=="/"){let x=l.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=cP(t,{pathname:f}),y=VP(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:wa([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:wa([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,r,n);return e&&y?Ue.createElement(Gm.Provider,{value:{location:fh({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:oa.Pop}},y):y}function UP(){let t=JP(),e=PP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Ue.createElement(Ue.Fragment,null,Ue.createElement("h2",null,"Unexpected Application Error!"),Ue.createElement("h3",{style:{fontStyle:"italic"}},e),r?Ue.createElement("pre",{style:i},r):null,null)}const qP=Ue.createElement(UP,null);class WP extends Ue.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?Ue.createElement(Pa.Provider,{value:this.props.routeContext},Ue.createElement(lE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function HP(t){let{routeContext:e,match:r,children:n}=t,i=Ue.useContext(Xw);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),Ue.createElement(Pa.Provider,{value:e},n)}function VP(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,a=(i=r)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);c>=0||Br(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<o.length;c++){let h=o[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:d,errors:f}=r,g=h.route.loader&&d[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||g){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,h,d)=>{let f,g=!1,y=null,x=null;r&&(f=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||qP,l&&(u<0&&d===0?(XP("route-fallback"),g=!0,x=null):u===d&&(g=!0,x=h.route.hydrateFallbackElement||null)));let p=e.concat(o.slice(0,d+1)),v=()=>{let b;return f?b=y:g?b=x:h.route.Component?b=Ue.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=c,Ue.createElement(HP,{match:h,routeContext:{outlet:c,matches:p,isDataRoute:r!=null},children:b})};return r&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?Ue.createElement(WP,{location:r.location,revalidation:r.revalidation,component:y,error:f,children:v(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):v()},null)}var fE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(fE||{}),hE=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(hE||{});function $P(t){let e=Ue.useContext(Xw);return e||Br(!1),e}function KP(t){let e=Ue.useContext(IP);return e||Br(!1),e}function GP(t){let e=Ue.useContext(Pa);return e||Br(!1),e}function dE(t){let e=GP(),r=e.matches[e.matches.length-1];return r.route.id||Br(!1),r.route.id}function JP(){var t;let e=Ue.useContext(lE),r=KP(),n=dE();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function YP(){let{router:t}=$P(fE.UseNavigateStable),e=dE(hE.UseNavigateStable),r=Ue.useRef(!1);return uE(()=>{r.current=!0}),Ue.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,fh({fromRouteId:e},s)))},[t,e])}const zx={};function XP(t,e,r){zx[t]||(zx[t]=!0)}function ZP(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function wu(t){Br(!1)}function QP(t){let{basename:e="/",children:r=null,location:n,navigationType:i=oa.Pop,navigator:s,static:o=!1,future:a}=t;Lh()&&Br(!1);let l=e.replace(/^\/*/,"/"),u=Ue.useMemo(()=>({basename:l,navigator:s,static:o,future:fh({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof n=="string"&&(n=Ac(n));let{pathname:c="/",search:h="",hash:d="",state:f=null,key:g="default"}=n,y=Ue.useMemo(()=>{let x=Yw(c,l);return x==null?null:{location:{pathname:x,search:h,hash:d,state:f,key:g},navigationType:i}},[l,c,h,d,f,g,i]);return y==null?null:Ue.createElement(ql.Provider,{value:u},Ue.createElement(Gm.Provider,{children:r,value:y}))}function eR(t){let{children:e,location:r}=t;return jP(f2(e),r)}new Promise(()=>{});function f2(t,e){e===void 0&&(e=[]);let r=[];return Ue.Children.forEach(t,(n,i)=>{if(!Ue.isValidElement(n))return;let s=[...e,i];if(n.type===Ue.Fragment){r.push.apply(r,f2(n.props.children,s));return}n.type!==wu&&Br(!1),!n.props.index||!n.props.children||Br(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=f2(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function h2(){return h2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},h2.apply(this,arguments)}function tR(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function rR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function nR(t,e){return t.button===0&&(!e||e==="_self")&&!rR(t)}const iR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],sR="6";try{window.__reactRouterVersion=sR}catch{}const oR="startTransition",Ux=JT[oR];function aR(t){let{basename:e,children:r,future:n,window:i}=t,s=Ue.useRef();s.current==null&&(s.current=aP({window:i,v5Compat:!0}));let o=s.current,[a,l]=Ue.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},c=Ue.useCallback(h=>{u&&Ux?Ux(()=>l(h)):l(h)},[l,u]);return Ue.useLayoutEffect(()=>o.listen(c),[o,c]),Ue.useEffect(()=>ZP(n),[n]),Ue.createElement(QP,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const lR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wo=Ue.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:h}=e,d=tR(e,iR),{basename:f}=Ue.useContext(ql),g,y=!1;if(typeof u=="string"&&uR.test(u)&&(g=u,lR))try{let b=new URL(window.location.href),w=u.startsWith("//")?new URL(b.protocol+u):new URL(u),N=Yw(w.pathname,f);w.origin===b.origin&&N!=null?u=N+w.search+w.hash:y=!0}catch{}let x=MP(u,{relative:i}),p=cR(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:h});function v(b){n&&n(b),b.defaultPrevented||p(b)}return Ue.createElement("a",h2({},d,{href:g||x,onClick:y||s?n:v,ref:r,target:l}))});var qx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(qx||(qx={}));var Wx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Wx||(Wx={}));function cR(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=DP(),u=Jm(),c=cE(t,{relative:o});return Ue.useCallback(h=>{if(nR(h,r)){h.preventDefault();let d=n!==void 0?n:am(u)===am(c);l(t,{replace:d,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,c,n,i,r,t,s,o,a])}const vt=t=>typeof t=="string",pf=()=>{let t,e;const r=new Promise((n,i)=>{t=n,e=i});return r.resolve=t,r.reject=e,r},Hx=t=>t==null?"":""+t,fR=(t,e,r)=>{t.forEach(n=>{e[n]&&(r[n]=e[n])})},hR=/###/g,Vx=t=>t&&t.indexOf("###")>-1?t.replace(hR,"."):t,$x=t=>!t||vt(t),jf=(t,e,r)=>{const n=vt(e)?e.split("."):e;let i=0;for(;i<n.length-1;){if($x(t))return{};const s=Vx(n[i]);!t[s]&&r&&(t[s]=new r),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={},++i}return $x(t)?{}:{obj:t,k:Vx(n[i])}},Kx=(t,e,r)=>{const{obj:n,k:i}=jf(t,e,Object);if(n!==void 0||e.length===1){n[i]=r;return}let s=e[e.length-1],o=e.slice(0,e.length-1),a=jf(t,o,Object);for(;a.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),a=jf(t,o,Object),a&&a.obj&&typeof a.obj[`${a.k}.${s}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${s}`]=r},dR=(t,e,r,n)=>{const{obj:i,k:s}=jf(t,e,Object);i[s]=i[s]||[],i[s].push(r)},lm=(t,e)=>{const{obj:r,k:n}=jf(t,e);if(r)return r[n]},pR=(t,e,r)=>{const n=lm(t,r);return n!==void 0?n:lm(e,r)},pE=(t,e,r)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?vt(t[n])||t[n]instanceof String||vt(e[n])||e[n]instanceof String?r&&(t[n]=e[n]):pE(t[n],e[n],r):t[n]=e[n]);return t},lu=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var mR={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const gR=t=>vt(t)?t.replace(/[&<>"'\/]/g,e=>mR[e]):t;class yR{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const vR=[" ",",","?","!",";"],wR=new yR(20),bR=(t,e,r)=>{e=e||"",r=r||"";const n=vR.filter(o=>e.indexOf(o)<0&&r.indexOf(o)<0);if(n.length===0)return!0;const i=wR.getRegExp(`(${n.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!i.test(t);if(!s){const o=t.indexOf(r);o>0&&!i.test(t.substring(0,o))&&(s=!0)}return s},d2=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const n=e.split(r);let i=t;for(let s=0;s<n.length;){if(!i||typeof i!="object")return;let o,a="";for(let l=s;l<n.length;++l)if(l!==s&&(a+=r),a+=n[l],o=i[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<n.length-1)continue;s+=l-s+1;break}i=o}return i},um=t=>t&&t.replace("_","-"),xR={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class cm{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,r)}init(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=e||xR,this.options=r,this.debug=r.debug}log(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"log","",!0)}warn(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"warn","",!0)}error(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"error","")}deprecate(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,i){return i&&!this.debug?null:(vt(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new cm(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new cm(this.logger,e)}}var Ts=new cm;let Ym=class{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const i=this.observers[n].get(r)||0;this.observers[n].set(r,i+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[a,l]=o;for(let u=0;u<l;u++)a(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[a,l]=o;for(let u=0;u<l;u++)a.apply(a,[e,...n])})}};class Gx extends Ym{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,r],n&&(Array.isArray(n)?a.push(...n):vt(n)&&s?a.push(...n.split(s)):a.push(n)));const l=lm(this.data,a);return!l&&!r&&!n&&e.indexOf(".")>-1&&(e=a[0],r=a[1],n=a.slice(2).join(".")),l||!o||!vt(n)?l:d2(this.data&&this.data[e]&&this.data[e][r],n,s)}addResource(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let a=[e,r];n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(a=e.split("."),i=r,r=a[1]),this.addNamespaces(r),Kx(this.data,a,i),s.silent||this.emit("added",e,r,n,i)}addResources(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const s in n)(vt(n[s])||Array.isArray(n[s]))&&this.addResource(e,r,s,n[s],{silent:!0});i.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[e,r];e.indexOf(".")>-1&&(a=e.split("."),i=n,n=r,r=a[1]),this.addNamespaces(r);let l=lm(this.data,a)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?pE(l,n,s):l={...l,...n},Kx(this.data,a,l),o.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,r)}:this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(i=>r[i]&&Object.keys(r[i]).length>0)}toJSON(){return this.data}}var mE={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,n,i){return t.forEach(s=>{this.processors[s]&&(e=this.processors[s].process(e,r,n,i))}),e}};const Jx={};class fm extends Ym{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),fR(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Ts.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const n=this.resolve(e,r);return n&&n.res!==void 0}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let s=r.ns||this.options.defaultNS||[];const o=n&&e.indexOf(n)>-1,a=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!bR(e,n,i);if(o&&!a){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:vt(s)?[s]:s};const u=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),e=u.join(i)}return{key:e,namespaces:vt(s)?[s]:s}}translate(e,r,n){if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(e[e.length-1],r),l=a[a.length-1],u=r.lng||this.language,c=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(c){const w=r.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${w}${o}`,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:`${l}${w}${o}`}return i?{res:o,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:o}const h=this.resolve(e,r);let d=h&&h.res;const f=h&&h.usedKey||o,g=h&&h.exactUsedKey||o,y=Object.prototype.toString.apply(d),x=["[object Number]","[object Function]","[object RegExp]"],p=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject,b=!vt(d)&&typeof d!="boolean"&&typeof d!="number";if(v&&d&&b&&x.indexOf(y)<0&&!(vt(p)&&Array.isArray(d))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const w=this.options.returnedObjectHandler?this.options.returnedObjectHandler(f,d,{...r,ns:a}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(h.res=w,h.usedParams=this.getUsedParamsDetails(r),h):w}if(s){const w=Array.isArray(d),N=w?[]:{},j=w?g:f;for(const F in d)if(Object.prototype.hasOwnProperty.call(d,F)){const z=`${j}${s}${F}`;N[F]=this.translate(z,{...r,joinArrays:!1,ns:a}),N[F]===z&&(N[F]=d[F])}d=N}}else if(v&&vt(p)&&Array.isArray(d))d=d.join(p),d&&(d=this.extendTranslation(d,e,r,n));else{let w=!1,N=!1;const j=r.count!==void 0&&!vt(r.count),F=fm.hasDefaultValue(r),z=j?this.pluralResolver.getSuffix(u,r.count,r):"",T=r.ordinal&&j?this.pluralResolver.getSuffix(u,r.count,{ordinal:!1}):"",Z=j&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),H=Z&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${z}`]||r[`defaultValue${T}`]||r.defaultValue;!this.isValidLookup(d)&&F&&(w=!0,d=H),this.isValidLookup(d)||(N=!0,d=o);const U=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&N?void 0:d,A=F&&H!==d&&this.options.updateMissing;if(N||w||A){if(this.logger.log(A?"updateKey":"missingKey",u,l,o,A?H:d),s){const re=this.resolve(o,{...r,keySeparator:!1});re&&re.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ie=[];const he=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&he&&he[0])for(let re=0;re<he.length;re++)ie.push(he[re]);else this.options.saveMissingTo==="all"?ie=this.languageUtils.toResolveHierarchy(r.lng||this.language):ie.push(r.lng||this.language);const te=(re,ae,ve)=>{const le=F&&ve!==d?ve:U;this.options.missingKeyHandler?this.options.missingKeyHandler(re,l,ae,le,A,r):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(re,l,ae,le,A,r),this.emit("missingKey",re,l,ae,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&j?ie.forEach(re=>{const ae=this.pluralResolver.getSuffixes(re,r);Z&&r[`defaultValue${this.options.pluralSeparator}zero`]&&ae.indexOf(`${this.options.pluralSeparator}zero`)<0&&ae.push(`${this.options.pluralSeparator}zero`),ae.forEach(ve=>{te([re],o+ve,r[`defaultValue${ve}`]||H)})}):te(ie,o,H))}d=this.extendTranslation(d,e,r,h,n),N&&d===o&&this.options.appendNamespaceToMissingKey&&(d=`${l}:${o}`),(N||w)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${o}`:o,w?d:void 0):d=this.options.parseMissingKeyHandler(d))}return i?(h.res=d,h.usedParams=this.getUsedParamsDetails(r),h):d}extendTranslation(e,r,n,i,s){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const u=vt(e)&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let c;if(u){const d=e.match(this.interpolator.nestingRegexp);c=d&&d.length}let h=n.replace&&!vt(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,n.lng||this.language||i.usedLng,n),u){const d=e.match(this.interpolator.nestingRegexp),f=d&&d.length;c<f&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var d=arguments.length,f=new Array(d),g=0;g<d;g++)f[g]=arguments[g];return s&&s[0]===f[0]&&!n.context?(o.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${r[0]}`),null):o.translate(...f,r)},n)),n.interpolation&&this.interpolator.reset()}const a=n.postProcess||this.options.postProcess,l=vt(a)?[a]:a;return e!=null&&l&&l.length&&n.applyPostProcessor!==!1&&(e=mE.handle(l,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,i,s,o,a;return vt(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(l,r),c=u.key;i=c;let h=u.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const d=r.count!==void 0&&!vt(r.count),f=d&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),g=r.context!==void 0&&(vt(r.context)||typeof r.context=="number")&&r.context!=="",y=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);h.forEach(x=>{this.isValidLookup(n)||(a=x,!Jx[`${y[0]}-${x}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(Jx[`${y[0]}-${x}`]=!0,this.logger.warn(`key "${i}" for languages "${y.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(p=>{if(this.isValidLookup(n))return;o=p;const v=[c];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(v,c,p,x,r);else{let w;d&&(w=this.pluralResolver.getSuffix(p,r.count,r));const N=`${this.options.pluralSeparator}zero`,j=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(v.push(c+w),r.ordinal&&w.indexOf(j)===0&&v.push(c+w.replace(j,this.options.pluralSeparator)),f&&v.push(c+N)),g){const F=`${c}${this.options.contextSeparator}${r.context}`;v.push(F),d&&(v.push(F+w),r.ordinal&&w.indexOf(j)===0&&v.push(F+w.replace(j,this.options.pluralSeparator)),f&&v.push(F+N))}}let b;for(;b=v.pop();)this.isValidLookup(n)||(s=b,n=this.getResource(p,x,b,r))}))})}),{res:n,usedKey:i,exactUsedKey:s,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,r,n,i):this.resourceStore.getResource(e,r,n,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!vt(e.replace);let i=n?e.replace:e;if(n&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const s of r)delete i[s]}return i}static hasDefaultValue(e){const r="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}}const N1=t=>t.charAt(0).toUpperCase()+t.slice(1);class Yx{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ts.create("languageUtils")}getScriptPartFromCode(e){if(e=um(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=um(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(vt(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let i=Intl.getCanonicalLocales(e)[0];if(i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i)return i}catch{}const r=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map(i=>i.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=N1(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=N1(n[1].toLowerCase())),r.indexOf(n[2].toLowerCase())>-1&&(n[2]=N1(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;const i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(r=i)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;const i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return r=i;r=this.options.supportedLngs.find(s=>{if(s===i)return s;if(!(s.indexOf("-")<0&&i.indexOf("-")<0)&&(s.indexOf("-")>0&&i.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===i||s.indexOf(i)===0&&i.length>1))return s})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),vt(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes(r||this.options.fallbackLng||[],e),i=[],s=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return vt(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):vt(e)&&s(this.formatLanguageCode(e)),n.forEach(o=>{i.indexOf(o)<0&&s(this.formatLanguageCode(o))}),i}}let SR=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],kR={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const _R=["v1","v2","v3"],AR=["v4"],Xx={zero:0,one:1,two:2,few:3,many:4,other:5},ER=()=>{const t={};return SR.forEach(e=>{e.lngs.forEach(r=>{t[r]={numbers:e.nr,plurals:kR[e.fc]}})}),t};class NR{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=r,this.logger=Ts.create("pluralResolver"),(!this.options.compatibilityJSON||AR.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=ER(),this.pluralRulesCache={}}addRule(e,r){this.rules[e]=r}clearCache(){this.pluralRulesCache={}}getRule(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const n=um(e==="dev"?"en":e),i=r.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:n,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let o;try{o=new Intl.PluralRules(n,{type:i})}catch{if(!e.match(/-|_/))return;const l=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(l,r)}return this.pluralRulesCache[s]=o,o}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,r);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,n).map(i=>`${r}${i}`)}getSuffixes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,r);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((i,s)=>Xx[i]-Xx[s]).map(i=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i}`):n.numbers.map(i=>this.getSuffix(e,i,r)):[]}getSuffix(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,n);return i?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(r)}`:this.getSuffixRetroCompatible(i,r):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,r){const n=e.noAbs?e.plurals(r):e.plurals(Math.abs(r));let i=e.numbers[n];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const s=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?s():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!_R.includes(this.options.compatibilityJSON)}}const Zx=function(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=pR(t,e,r);return!s&&i&&vt(r)&&(s=d2(t,r,n),s===void 0&&(s=d2(e,r,n))),s},C1=t=>t.replace(/\$/g,"$$$$");class CR{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Ts.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(r=>r),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:i,prefix:s,prefixEscaped:o,suffix:a,suffixEscaped:l,formatSeparator:u,unescapeSuffix:c,unescapePrefix:h,nestingPrefix:d,nestingPrefixEscaped:f,nestingSuffix:g,nestingSuffixEscaped:y,nestingOptionsSeparator:x,maxReplaces:p,alwaysFormat:v}=e.interpolation;this.escape=r!==void 0?r:gR,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?lu(s):o||"{{",this.suffix=a?lu(a):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=c?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=d?lu(d):f||lu("$t("),this.nestingSuffix=g?lu(g):y||lu(")"),this.nestingOptionsSeparator=x||",",this.maxReplaces=p||1e3,this.alwaysFormat=v!==void 0?v:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,n)=>r&&r.source===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,r,n,i){let s,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=f=>{if(f.indexOf(this.formatSeparator)<0){const p=Zx(r,l,f,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(p,void 0,n,{...i,...r,interpolationkey:f}):p}const g=f.split(this.formatSeparator),y=g.shift().trim(),x=g.join(this.formatSeparator).trim();return this.format(Zx(r,l,y,this.options.keySeparator,this.options.ignoreJSONStructure),x,n,{...i,...r,interpolationkey:y})};this.resetRegExp();const c=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,h=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:f=>C1(f)},{regex:this.regexp,safeValue:f=>this.escapeValue?C1(this.escape(f)):C1(f)}].forEach(f=>{for(a=0;s=f.regex.exec(e);){const g=s[1].trim();if(o=u(g),o===void 0)if(typeof c=="function"){const x=c(e,s,i);o=vt(x)?x:""}else if(i&&Object.prototype.hasOwnProperty.call(i,g))o="";else if(h){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${g} for interpolating ${e}`),o="";else!vt(o)&&!this.useRawValueToEscape&&(o=Hx(o));const y=f.safeValue(o);if(e=e.replace(s[0],y),h?(f.regex.lastIndex+=o.length,f.regex.lastIndex-=s[0].length):f.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,s,o;const a=(l,u)=>{const c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;const h=l.split(new RegExp(`${c}[ ]*{`));let d=`{${h[1]}`;l=h[0],d=this.interpolate(d,o);const f=d.match(/'/g),g=d.match(/"/g);(f&&f.length%2===0&&!g||g.length%2!==0)&&(d=d.replace(/'/g,'"'));try{o=JSON.parse(d),u&&(o={...u,...o})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,y),`${l}${c}${d}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];o={...n},o=o.replace&&!vt(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let u=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const c=i[1].split(this.formatSeparator).map(h=>h.trim());i[1]=c.shift(),l=c,u=!0}if(s=r(a.call(this,i[1].trim(),o),o),s&&i[0]===e&&!vt(s))return s;vt(s)||(s=Hx(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),u&&(s=l.reduce((c,h)=>this.format(c,h,n.lng,{...n,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}const TR=t=>{let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);e==="currency"&&i.indexOf(":")<0?r.currency||(r.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?r.range||(r.range=i.trim()):i.split(";").forEach(o=>{if(o){const[a,...l]=o.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),c=a.trim();r[c]||(r[c]=u),u==="false"&&(r[c]=!1),u==="true"&&(r[c]=!0),isNaN(u)||(r[c]=parseInt(u,10))}})}return{formatName:e,formatOptions:r}},uu=t=>{const e={};return(r,n,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const o=n+JSON.stringify(s);let a=e[o];return a||(a=t(um(n),i),e[o]=a),a(r)}};let LR=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Ts.create("formatter"),this.options=e,this.formats={number:uu((r,n)=>{const i=new Intl.NumberFormat(r,{...n});return s=>i.format(s)}),currency:uu((r,n)=>{const i=new Intl.NumberFormat(r,{...n,style:"currency"});return s=>i.format(s)}),datetime:uu((r,n)=>{const i=new Intl.DateTimeFormat(r,{...n});return s=>i.format(s)}),relativetime:uu((r,n)=>{const i=new Intl.RelativeTimeFormat(r,{...n});return s=>i.format(s,n.range||"day")}),list:uu((r,n)=>{const i=new Intl.ListFormat(r,{...n});return s=>i.format(s)})},this.init(e)}init(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=r.interpolation.formatSeparator||","}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=uu(r)}format(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=r.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(a=>a.indexOf(")")>-1)){const a=s.findIndex(l=>l.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,a)].join(this.formatSeparator)}return s.reduce((a,l)=>{const{formatName:u,formatOptions:c}=TR(l);if(this.formats[u]){let h=a;try{const d=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},f=d.locale||d.lng||i.locale||i.lng||n;h=this.formats[u](a,f,{...c,...i,...d})}catch(d){this.logger.warn(d)}return h}else this.logger.warn(`there was no format function for ${u}`);return a},e)}};const OR=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class PR extends Ym{constructor(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=Ts.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,i.backend,i)}queueLoad(e,r,n,i){const s={},o={},a={},l={};return e.forEach(u=>{let c=!0;r.forEach(h=>{const d=`${u}|${h}`;!n.reload&&this.store.hasResourceBundle(u,h)?this.state[d]=2:this.state[d]<0||(this.state[d]===1?o[d]===void 0&&(o[d]=!0):(this.state[d]=1,c=!1,o[d]===void 0&&(o[d]=!0),s[d]===void 0&&(s[d]=!0),l[h]===void 0&&(l[h]=!0)))}),c||(a[u]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,r,n){const i=e.split("|"),s=i[0],o=i[1];r&&this.emit("failedLoading",s,o,r),!r&&n&&this.store.addResourceBundle(s,o,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&n&&(this.state[e]=0);const a={};this.queue.forEach(l=>{dR(l.loaded,[s],o),OR(l,e),r&&l.errors.push(r),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{a[u]||(a[u]={});const c=l.loaded[u];c.length&&c.forEach(h=>{a[u][h]===void 0&&(a[u][h]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:i,wait:s,callback:o});return}this.readingCalls++;const a=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(u&&c&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,i+1,s*2,o)},s);return}o(u,c)},l=this.backend[n].bind(this.backend);if(l.length===2){try{const u=l(e,r);u&&typeof u.then=="function"?u.then(c=>a(null,c)).catch(a):a(null,u)}catch(u){a(u)}return}return l(e,r,a)}prepareLoading(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();vt(e)&&(e=this.languageUtils.toResolveHierarchy(e)),vt(r)&&(r=[r]);const s=this.queueLoad(e,r,n,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e.split("|"),i=n[0],s=n[1];this.read(i,s,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${r}loading namespace ${s} for language ${i} failed`,o),!o&&a&&this.logger.log(`${r}loaded namespace ${s} for language ${i}`,a),this.loaded(e,o,a)})}saveMissing(e,r,n,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){const l={...o,isUpdate:s},u=this.backend.create.bind(this.backend);if(u.length<6)try{let c;u.length===5?c=u(e,r,n,i,l):c=u(e,r,n,i),c&&typeof c.then=="function"?c.then(h=>a(null,h)).catch(a):a(null,c)}catch(c){a(c)}else u(e,r,n,i,a,l)}!e||!e[0]||this.store.addResource(e[0],r,n,i)}}}const Qx=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),vt(t[1])&&(e.defaultValue=t[1]),vt(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(n=>{e[n]=r[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),eS=t=>(vt(t.ns)&&(t.ns=[t.ns]),vt(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),vt(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),jd=()=>{},RR=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})};class hh extends Ym{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(super(),this.options=eS(e),this.services={},this.logger=Ts,this.modules={external:[]},RR(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(){var e=this;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof r=="function"&&(n=r,r={}),!r.defaultNS&&r.defaultNS!==!1&&r.ns&&(vt(r.ns)?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const i=Qx();this.options={...i,...this.options,...eS(r)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);const s=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?Ts.init(s(this.modules.logger),this.options):Ts.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:typeof Intl<"u"&&(c=LR);const h=new Yx(this.options);this.store=new Gx(this.options.resources,this.options);const d=this.services;d.logger=Ts,d.resourceStore=this.store,d.languageUtils=h,d.pluralResolver=new NR(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(d.formatter=s(c),d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new CR(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new PR(s(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",function(f){for(var g=arguments.length,y=new Array(g>1?g-1:0),x=1;x<g;x++)y[x-1]=arguments[x];e.emit(f,...y)}),this.modules.languageDetector&&(d.languageDetector=s(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=s(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new fm(this.services,this.options),this.translator.on("*",function(f){for(var g=arguments.length,y=new Array(g>1?g-1:0),x=1;x<g;x++)y[x-1]=arguments[x];e.emit(f,...y)}),this.modules.external.forEach(f=>{f.init&&f.init(this)})}if(this.format=this.options.interpolation.format,n||(n=jd),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=function(){return e.store[c](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=function(){return e.store[c](...arguments),e}});const l=pf(),u=()=>{const c=(h,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(d),n(h,d)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}loadResources(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jd;const i=vt(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const s=[],o=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(u=>{u!=="cimode"&&s.indexOf(u)<0&&s.push(u)})};i?o(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>o(l)),this.options.preload&&this.options.preload.forEach(a=>o(a)),this.services.backendConnector.load(s,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(a)})}else n(null)}reloadResources(e,r,n){const i=pf();return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),n||(n=jd),this.services.backendConnector.reload(e,r,s=>{i.resolve(),n(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&mE.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(e,r){var n=this;this.isLanguageChangingTo=e;const i=pf();this.emit("languageChanging",e);const s=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,u)=>{u?(s(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,i.resolve(function(){return n.t(...arguments)}),r&&r(l,function(){return n.t(...arguments)})},a=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const u=vt(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||s(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,c=>{o(c,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),i}getFixedT(e,r,n){var i=this;const s=function(o,a){let l;if(typeof a!="object"){for(var u=arguments.length,c=new Array(u>2?u-2:0),h=2;h<u;h++)c[h-2]=arguments[h];l=i.options.overloadTranslationOptionHandler([o,a].concat(c))}else l={...a};l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||n||s.keyPrefix);const d=i.options.keySeparator||".";let f;return l.keyPrefix&&Array.isArray(o)?f=o.map(g=>`${l.keyPrefix}${d}${g}`):f=l.keyPrefix?`${l.keyPrefix}${d}${o}`:o,i.t(f,l)};return vt(e)?s.lng=e:s.lngs=e,s.ns=r,s.keyPrefix=n,s}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const u=this.services.backendConnector.state[`${a}|${l}`];return u===-1||u===0||u===2};if(r.precheck){const a=r.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,e)&&(!i||o(s,e)))}loadNamespaces(e,r){const n=pf();return this.options.ns?(vt(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),r&&r(i)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){const n=pf();vt(e)&&(e=[e]);const i=this.options.preload||[],s=e.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return s.length?(this.options.preload=i.concat(s),this.loadResources(o=>{n.resolve(),r&&r(o)}),n):(r&&r(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new Yx(Qx());return r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new hh(e,r)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jd;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new hh(i);return(e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(a=>{s[a]=this[a]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},n&&(s.store=new Gx(this.store.data,i),s.services.resourceStore=s.store),s.translator=new fm(s.services,i),s.translator.on("*",function(a){for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];s.emit(a,...u)}),s.init(i,r),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ln=hh.createInstance();Ln.createInstance=hh.createInstance;Ln.createInstance;Ln.dir;Ln.init;Ln.loadResources;Ln.reloadResources;Ln.use;Ln.changeLanguage;Ln.getFixedT;Ln.t;Ln.exists;Ln.setDefaultNamespace;Ln.hasLoadedNamespace;Ln.loadNamespaces;Ln.loadLanguages;function IR(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];Sl(e[0])&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const tS={};function p2(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];Sl(e[0])&&tS[e[0]]||(Sl(e[0])&&(tS[e[0]]=new Date),IR(...e))}const gE=(t,e)=>()=>{if(t.isInitialized)e();else{const r=()=>{setTimeout(()=>{t.off("initialized",r)},0),e()};t.on("initialized",r)}},rS=(t,e,r)=>{t.loadNamespaces(e,gE(t,r))},nS=(t,e,r,n)=>{Sl(r)&&(r=[r]),r.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,gE(t,n))},MR=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=e.languages[0],i=e.options?e.options.fallbackLng:!1,s=e.languages[e.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const u=e.services.backendConnector.state[`${a}|${l}`];return u===-1||u===2};return r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(n,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(n,t)&&(!i||o(s,t)))},DR=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(p2("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(t,{lng:r.lng,precheck:(i,s)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!s(i.isLanguageChangingTo,t))return!1}}):MR(t,e,r)},Sl=t=>typeof t=="string",FR=t=>typeof t=="object"&&t!==null,BR=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,jR={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},zR=t=>jR[t],UR=t=>t.replace(BR,zR);let m2={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:UR};const qR=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};m2={...m2,...t}},WR=()=>m2;let yE;const HR=t=>{yE=t},VR=()=>yE,$R={type:"3rdParty",init(t){qR(t.options.react),HR(t)}},KR=Ue.createContext();class GR{constructor(){Ut(this,"getUsedNamespaces",()=>Object.keys(this.usedNamespaces));this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}}const JR=(t,e)=>{const r=Ue.useRef();return Ue.useEffect(()=>{r.current=t},[t,e]),r.current},vE=(t,e,r,n)=>t.getFixedT(e,r,n),YR=(t,e,r,n)=>Ue.useCallback(vE(t,e,r,n),[t,e,r,n]),Co=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:r}=e,{i18n:n,defaultNS:i}=Ue.useContext(KR)||{},s=r||n||VR();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new GR),!s){p2("You will need to pass in an i18next instance by using initReactI18next");const w=(j,F)=>Sl(F)?F:FR(F)&&Sl(F.defaultValue)?F.defaultValue:Array.isArray(j)?j[j.length-1]:j,N=[w,{},!1];return N.t=w,N.i18n={},N.ready=!1,N}s.options.react&&s.options.react.wait!==void 0&&p2("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...WR(),...s.options.react,...e},{useSuspense:a,keyPrefix:l}=o;let u=i||s.options&&s.options.defaultNS;u=Sl(u)?[u]:u||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(u);const c=(s.isInitialized||s.initializedStoreOnce)&&u.every(w=>DR(w,s,o)),h=YR(s,e.lng||null,o.nsMode==="fallback"?u:u[0],l),d=()=>h,f=()=>vE(s,e.lng||null,o.nsMode==="fallback"?u:u[0],l),[g,y]=Ue.useState(d);let x=u.join();e.lng&&(x=`${e.lng}${x}`);const p=JR(x),v=Ue.useRef(!0);Ue.useEffect(()=>{const{bindI18n:w,bindI18nStore:N}=o;v.current=!0,!c&&!a&&(e.lng?nS(s,e.lng,u,()=>{v.current&&y(f)}):rS(s,u,()=>{v.current&&y(f)})),c&&p&&p!==x&&v.current&&y(f);const j=()=>{v.current&&y(f)};return w&&s&&s.on(w,j),N&&s&&s.store.on(N,j),()=>{v.current=!1,w&&s&&w.split(" ").forEach(F=>s.off(F,j)),N&&s&&N.split(" ").forEach(F=>s.store.off(F,j))}},[s,x]),Ue.useEffect(()=>{v.current&&c&&y(d)},[s,l,c]);const b=[g,s,c];if(b.t=g,b.i18n=s,b.ready=c,c||!c&&!a)return b;throw new Promise(w=>{e.lng?nS(s,e.lng,u,()=>w()):rS(s,u,()=>w())})},{slice:XR,forEach:ZR}=[];function QR(t){return ZR.call(XR.call(arguments,1),e=>{if(e)for(const r in e)t[r]===void 0&&(t[r]=e[r])}),t}function e7(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(r=>r.test(t))}const iS=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,t7=function(t,e){const n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let s=`${t}=${i}`;if(n.maxAge>0){const o=n.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");s+=`; Max-Age=${Math.floor(o)}`}if(n.domain){if(!iS.test(n.domain))throw new TypeError("option domain is invalid");s+=`; Domain=${n.domain}`}if(n.path){if(!iS.test(n.path))throw new TypeError("option path is invalid");s+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");s+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(s+="; Partitioned"),s},sS={create(t,e,r,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+r*60*1e3)),n&&(i.domain=n),document.cookie=t7(t,e,i)},read(t){const e=`${t}=`,r=document.cookie.split(";");for(let n=0;n<r.length;n++){let i=r[n];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var r7={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return sS.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:r,cookieMinutes:n,cookieDomain:i,cookieOptions:s}=e;r&&typeof document<"u"&&sS.create(r,t,n,i,s)}},n7={name:"querystring",lookup(t){var n;let{lookupQuerystring:e}=t,r;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((n=window.location.hash)==null?void 0:n.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const o=i.substring(1).split("&");for(let a=0;a<o.length;a++){const l=o[a].indexOf("=");l>0&&o[a].substring(0,l)===e&&(r=o[a].substring(l+1))}}return r}},i7={name:"hash",lookup(t){var i;let{lookupHash:e,lookupFromHashIndex:r}=t,n;if(typeof window<"u"){const{hash:s}=window.location;if(s&&s.length>2){const o=s.substring(1);if(e){const a=o.split("&");for(let l=0;l<a.length;l++){const u=a[l].indexOf("=");u>0&&a[l].substring(0,u)===e&&(n=a[l].substring(u+1))}}if(n)return n;if(!n&&r>-1){const a=s.match(/\/([a-zA-Z-]*)/g);return Array.isArray(a)?(i=a[typeof r=="number"?r:0])==null?void 0:i.replace("/",""):void 0}}}return n}};let cu=null;const oS=()=>{if(cu!==null)return cu;try{if(cu=typeof window<"u"&&window.localStorage!==null,!cu)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{cu=!1}return cu};var s7={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&oS())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:r}=e;r&&oS()&&window.localStorage.setItem(r,t)}};let fu=null;const aS=()=>{if(fu!==null)return fu;try{if(fu=typeof window<"u"&&window.sessionStorage!==null,!fu)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{fu=!1}return fu};var o7={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&aS())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:r}=e;r&&aS()&&window.sessionStorage.setItem(r,t)}},a7={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:r,userLanguage:n,language:i}=navigator;if(r)for(let s=0;s<r.length;s++)e.push(r[s]);n&&e.push(n),i&&e.push(i)}return e.length>0?e:void 0}},l7={name:"htmlTag",lookup(t){let{htmlTag:e}=t,r;const n=e||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(r=n.getAttribute("lang")),r}},u7={name:"path",lookup(t){var i;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(r)?(i=r[typeof e=="number"?e:0])==null?void 0:i.replace("/",""):void 0}},c7={name:"subdomain",lookup(t){var i,s;let{lookupFromSubdomainIndex:e}=t;const r=typeof e=="number"?e+1:1,n=typeof window<"u"&&((s=(i=window.location)==null?void 0:i.hostname)==null?void 0:s.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(n)return n[r]}};let wE=!1;try{document.cookie,wE=!0}catch{}const bE=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];wE||bE.splice(1,1);const f7=()=>({order:bE,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class xE{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,r)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=QR(r,this.options||{},f7()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(r7),this.addDetector(n7),this.addDetector(s7),this.addDetector(o7),this.addDetector(a7),this.addDetector(l7),this.addDetector(u7),this.addDetector(c7),this.addDetector(i7)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,r=[];return e.forEach(n=>{if(this.detectors[n]){let i=this.detectors[n].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(r=r.concat(i))}}),r=r.filter(n=>n!=null&&!e7(n)).map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}cacheUserLanguage(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||r.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(e,this.options)}))}}xE.type="languageDetector";const h7={en:{translation:{app:{title:"Film SaaS",dashboard:"Dashboard",login:"Login",register:"Register",editor:"Script Editor",projects:"My Projects",newProject:"New Project",logout:"Logout",settings:"Settings",language:"Language",theme:"Theme",dark:"Dark",light:"Light",rtl:"RTL",ltr:"LTR",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",noProjects:"No projects yet",createFirst:"Create your first project to get started",welcome:"Welcome back",recentWork:"Pick up where you left off"},editor:{left:"Left",center:"Center",right:"Right",sceneHeading:"Scene Heading",action:"Action",character:"Character",dialogue:"Dialogue",parenthetical:"Parenthetical",transition:"Transition",exportPDF:"Export PDF",exportWord:"Export Word",importFile:"Import"}}},ar:{translation:{app:{title:" ",dashboard:" ",login:" ",register:" ",editor:" ",projects:"",newProject:" ",logout:" ",settings:"",language:"",theme:"",dark:"",light:"",rtl:"  ",ltr:"  ",save:"",cancel:"",delete:"",edit:"",noProjects:"   ",createFirst:"    ",welcome:" ",recentWork:"   "},editor:{left:"",center:"",right:"",sceneHeading:" ",action:"",character:"",dialogue:"",parenthetical:" ",transition:"",exportPDF:" PDF",exportWord:" Word",importFile:""}}}};Ln.use(xE).use($R).init({resources:h7,fallbackLng:"en",supportedLngs:["en","ar"],interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]}});const SE=Ue.createContext(void 0);function d7(){if(typeof window<"u"){const t=localStorage.getItem("theme");if(t==="light"||t==="dark")return t}return"dark"}function p7({children:t}){const[e,r]=Ue.useState(d7);Ue.useEffect(()=>{document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e)},[e]);const n=Ue.useCallback(()=>{r(i=>i==="light"?"dark":"light")},[]);return Fe.jsx(SE.Provider,{value:{theme:e,toggleTheme:n},children:t})}function m7(){const t=Ue.useContext(SE);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}const g7=Ue.createContext(void 0);function T1(t){return t==="ar"?"rtl":"ltr"}function y7({children:t}){const{i18n:e}=Co(),[r,n]=Ue.useState(T1(e.language));return Ue.useEffect(()=>{const i=T1(e.language);n(i),document.documentElement.setAttribute("dir",i)},[e.language]),Ue.useEffect(()=>{const i=s=>{const o=T1(s);n(o),document.documentElement.setAttribute("dir",o)};return e.on("languageChanged",i),()=>{e.off("languageChanged",i)}},[e]),Fe.jsx(g7.Provider,{value:{direction:r},children:t})}function v7(){const{t,i18n:e}=Co(),{theme:r,toggleTheme:n}=m7(),i=()=>{const s=e.language==="ar"?"en":"ar";e.changeLanguage(s)};return Fe.jsxs("nav",{style:{position:"sticky",top:0,zIndex:100,display:"flex",justifyContent:"space-between",alignItems:"center",padding:"14px 28px",background:"var(--nav-bg)",borderBottom:"1px solid var(--nav-border)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",transition:"all 0.25s ease"},children:[Fe.jsx(wo,{to:"/",style:{fontSize:"20px",fontWeight:800,background:"var(--accent-gradient)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",textDecoration:"none",letterSpacing:"-0.5px"},children:t("app.title")}),Fe.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[Fe.jsx(wo,{to:"/",style:{textDecoration:"none",color:"var(--text-secondary)",fontSize:"14px",fontWeight:500,padding:"7px 14px",borderRadius:"8px",transition:"all 0.15s ease",background:"transparent"},onMouseEnter:s=>{s.currentTarget.style.color="var(--text-primary)",s.currentTarget.style.background="var(--accent-primary-light)"},onMouseLeave:s=>{s.currentTarget.style.color="var(--text-secondary)",s.currentTarget.style.background="transparent"},children:t("app.dashboard")}),Fe.jsx(wo,{to:"/login",style:{textDecoration:"none",color:"var(--text-secondary)",fontSize:"14px",fontWeight:500,padding:"7px 14px",borderRadius:"8px",transition:"all 0.15s ease",background:"transparent"},onMouseEnter:s=>{s.currentTarget.style.color="var(--text-primary)",s.currentTarget.style.background="var(--accent-primary-light)"},onMouseLeave:s=>{s.currentTarget.style.color="var(--text-secondary)",s.currentTarget.style.background="transparent"},children:t("app.login")}),Fe.jsx("div",{style:{width:"1px",height:"20px",background:"var(--border-primary)",margin:"0 4px"}}),Fe.jsx("button",{type:"button",onClick:i,title:t("app.language"),style:{padding:"7px 12px",border:"1px solid var(--border-primary)",borderRadius:"8px",cursor:"pointer",fontSize:"13px",fontWeight:600,backgroundColor:"var(--toolbar-btn-bg)",color:"var(--text-secondary)",transition:"all 0.15s ease",fontFamily:"var(--font-family)"},onMouseEnter:s=>{s.currentTarget.style.borderColor="var(--accent-primary)",s.currentTarget.style.color="var(--accent-primary)",s.currentTarget.style.background="var(--accent-primary-light)"},onMouseLeave:s=>{s.currentTarget.style.borderColor="var(--border-primary)",s.currentTarget.style.color="var(--text-secondary)",s.currentTarget.style.background="var(--toolbar-btn-bg)"},children:e.language==="ar"?"EN":"AR"}),Fe.jsxs("button",{type:"button",onClick:n,title:t("app.theme"),style:{padding:"7px 12px",border:"1px solid var(--border-primary)",borderRadius:"8px",cursor:"pointer",fontSize:"13px",fontWeight:500,backgroundColor:"var(--toolbar-btn-bg)",color:"var(--text-secondary)",transition:"all 0.15s ease",fontFamily:"var(--font-family)",display:"flex",alignItems:"center",gap:"6px"},onMouseEnter:s=>{s.currentTarget.style.borderColor="var(--accent-primary)",s.currentTarget.style.color="var(--accent-primary)",s.currentTarget.style.background="var(--accent-primary-light)"},onMouseLeave:s=>{s.currentTarget.style.borderColor="var(--border-primary)",s.currentTarget.style.color="var(--text-secondary)",s.currentTarget.style.background="var(--toolbar-btn-bg)"},children:[Fe.jsx("span",{style:{fontSize:"15px"},children:r==="light"?"":""}),t(r==="light"?"app.dark":"app.light")]})]})]})}const lS=[{id:"1",title:"My First Screenplay",updatedAt:"2025-01-15",genre:"Drama"},{id:"2",title:"Action Movie Draft",updatedAt:"2025-02-20",genre:"Action"},{id:"3",title:"Drama Series - Episode 1",updatedAt:"2025-03-10",genre:"Series"}];function w7({project:t}){const e={Drama:"var(--accent-primary)",Action:"var(--warning)",Series:"var(--success)"};return Fe.jsxs(wo,{to:`/editor/${t.id}`,style:{display:"block",textDecoration:"none",color:"inherit",background:"var(--card-bg)",border:"1px solid var(--card-border)",borderRadius:"16px",padding:"24px",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)",boxShadow:"var(--shadow-md)",transition:"all 0.25s ease",cursor:"pointer",position:"relative",overflow:"hidden",animation:"fadeInUp 0.4s ease both"},onMouseEnter:r=>{r.currentTarget.style.boxShadow="var(--shadow-card-hover)",r.currentTarget.style.borderColor="var(--accent-primary-light)",r.currentTarget.style.transform="translateY(-3px)"},onMouseLeave:r=>{r.currentTarget.style.boxShadow="var(--shadow-md)",r.currentTarget.style.borderColor="var(--card-border)",r.currentTarget.style.transform="translateY(0)"},children:[Fe.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,height:"3px",background:"var(--accent-gradient)",borderRadius:"16px 16px 0 0",opacity:.7}}),Fe.jsx("div",{style:{display:"inline-block",padding:"4px 10px",borderRadius:"6px",fontSize:"11px",fontWeight:600,letterSpacing:"0.5px",textTransform:"uppercase",color:e[t.genre]||"var(--accent-primary)",background:t.genre==="Action"?"var(--warning-light)":t.genre==="Series"?"var(--success-light)":"var(--accent-primary-light)",marginBottom:"14px"},children:t.genre}),Fe.jsx("h3",{style:{margin:"0 0 10px 0",fontSize:"17px",fontWeight:700,color:"var(--text-primary)",lineHeight:1.3},children:t.title}),Fe.jsx("p",{style:{margin:0,color:"var(--text-tertiary)",fontSize:"13px",fontWeight:400},children:t.updatedAt})]})}function b7(){const{t}=Co();return Fe.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"28px"},children:[Fe.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",gap:"16px",flexWrap:"wrap"},children:[Fe.jsxs("div",{children:[Fe.jsx("h1",{style:{margin:"0 0 4px 0",fontSize:"28px",fontWeight:800,color:"var(--text-primary)",letterSpacing:"-0.5px"},children:t("app.projects")}),Fe.jsx("p",{style:{margin:0,fontSize:"14px",color:"var(--text-tertiary)"},children:t("app.recentWork")})]}),Fe.jsxs(wo,{to:"/editor/new",style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"11px 22px",background:"var(--accent-gradient)",color:"#fff",border:"none",borderRadius:"10px",cursor:"pointer",fontSize:"14px",fontWeight:600,textDecoration:"none",boxShadow:"var(--shadow-glow)",transition:"all 0.2s ease",letterSpacing:"0.2px"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-1px)",e.currentTarget.style.boxShadow="0 0 40px var(--accent-primary-glow)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="var(--shadow-glow)"},children:["+ ",t("app.newProject")]})]}),lS.length===0?Fe.jsxs("div",{style:{textAlign:"center",padding:"80px 20px",background:"var(--card-bg)",border:"1px solid var(--card-border)",borderRadius:"20px",backdropFilter:"blur(16px)"},children:[Fe.jsx("div",{style:{fontSize:"52px",marginBottom:"16px",opacity:.4},children:""}),Fe.jsx("h2",{style:{fontSize:"20px",color:"var(--text-primary)",fontWeight:700,marginBottom:"8px"},children:t("app.noProjects")}),Fe.jsx("p",{style:{color:"var(--text-tertiary)",fontSize:"15px",marginBottom:"24px"},children:t("app.createFirst")}),Fe.jsxs(wo,{to:"/editor/new",style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"11px 22px",background:"var(--accent-gradient)",color:"#fff",border:"none",borderRadius:"10px",textDecoration:"none",fontSize:"14px",fontWeight:600,boxShadow:"var(--shadow-glow)"},children:["+ ",t("app.newProject")]})]}):Fe.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(290px, 1fr))",gap:"20px"},children:lS.map((e,r)=>Fe.jsx("div",{style:{animationDelay:`${r*.08}s`},children:Fe.jsx(w7,{project:e})},e.id))})]})}function x7(){const{t}=Co(),[e,r]=Ue.useState(""),[n,i]=Ue.useState(""),s=o=>{o.preventDefault(),console.log("Login submitted:",{email:e,password:n})};return Fe.jsxs("div",{style:{maxWidth:"420px",margin:"60px auto",padding:"36px",background:"var(--card-bg)",border:"1px solid var(--card-border)",borderRadius:"20px",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)",boxShadow:"var(--shadow-lg)",position:"relative",overflow:"hidden",animation:"fadeInUp 0.4s ease both"},children:[Fe.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,height:"3px",background:"var(--accent-gradient)"}}),Fe.jsx("h1",{style:{textAlign:"center",marginBottom:"28px",fontSize:"24px",fontWeight:800,color:"var(--text-primary)",letterSpacing:"-0.5px"},children:t("app.login")}),Fe.jsxs("form",{onSubmit:s,children:[Fe.jsxs("div",{style:{marginBottom:"18px"},children:[Fe.jsx("label",{htmlFor:"email",style:{display:"block",marginBottom:"7px",fontSize:"13px",fontWeight:600,color:"var(--text-secondary)",letterSpacing:"0.3px"},children:"Email"}),Fe.jsx("input",{id:"email",type:"email",value:e,onChange:o=>r(o.target.value),required:!0,style:{width:"100%",padding:"11px 14px",border:"1px solid var(--border-primary)",borderRadius:"10px",fontSize:"14px",boxSizing:"border-box",backgroundColor:"var(--bg-input)",color:"var(--text-primary)",outline:"none",transition:"all 0.15s ease",fontFamily:"var(--font-family)"},onFocus:o=>{o.currentTarget.style.borderColor="var(--accent-primary)",o.currentTarget.style.backgroundColor="var(--bg-input-focus)",o.currentTarget.style.boxShadow="0 0 0 3px var(--accent-primary-light)"},onBlur:o=>{o.currentTarget.style.borderColor="var(--border-primary)",o.currentTarget.style.backgroundColor="var(--bg-input)",o.currentTarget.style.boxShadow="none"}})]}),Fe.jsxs("div",{style:{marginBottom:"24px"},children:[Fe.jsx("label",{htmlFor:"password",style:{display:"block",marginBottom:"7px",fontSize:"13px",fontWeight:600,color:"var(--text-secondary)",letterSpacing:"0.3px"},children:"Password"}),Fe.jsx("input",{id:"password",type:"password",value:n,onChange:o=>i(o.target.value),required:!0,style:{width:"100%",padding:"11px 14px",border:"1px solid var(--border-primary)",borderRadius:"10px",fontSize:"14px",boxSizing:"border-box",backgroundColor:"var(--bg-input)",color:"var(--text-primary)",outline:"none",transition:"all 0.15s ease",fontFamily:"var(--font-family)"},onFocus:o=>{o.currentTarget.style.borderColor="var(--accent-primary)",o.currentTarget.style.backgroundColor="var(--bg-input-focus)",o.currentTarget.style.boxShadow="0 0 0 3px var(--accent-primary-light)"},onBlur:o=>{o.currentTarget.style.borderColor="var(--border-primary)",o.currentTarget.style.backgroundColor="var(--bg-input)",o.currentTarget.style.boxShadow="none"}})]}),Fe.jsx("button",{type:"submit",style:{width:"100%",padding:"13px",background:"var(--accent-gradient)",color:"#fff",border:"none",borderRadius:"10px",cursor:"pointer",fontSize:"15px",fontWeight:700,boxShadow:"var(--shadow-glow)",transition:"all 0.2s ease",fontFamily:"var(--font-family)"},onMouseEnter:o=>{o.currentTarget.style.transform="translateY(-1px)",o.currentTarget.style.boxShadow="0 0 35px var(--accent-primary-glow)"},onMouseLeave:o=>{o.currentTarget.style.transform="translateY(0)",o.currentTarget.style.boxShadow="var(--shadow-glow)"},children:t("app.login")})]}),Fe.jsxs("p",{style:{textAlign:"center",marginTop:"20px",fontSize:"14px",color:"var(--text-tertiary)"},children:["Don't have an account?"," ",Fe.jsx(wo,{to:"/register",style:{color:"var(--accent-primary)",textDecoration:"none",fontWeight:600},children:t("app.register")})]})]})}function S7(){const{t}=Co(),[e,r]=Ue.useState(""),[n,i]=Ue.useState(""),[s,o]=Ue.useState(""),a=d=>{d.preventDefault(),console.log("Register submitted:",{name:e,email:n,password:s})},l={width:"100%",padding:"11px 14px",border:"1px solid var(--border-primary)",borderRadius:"10px",fontSize:"14px",boxSizing:"border-box",backgroundColor:"var(--bg-input)",color:"var(--text-primary)",outline:"none",transition:"all 0.15s ease",fontFamily:"var(--font-family)"},u={display:"block",marginBottom:"7px",fontSize:"13px",fontWeight:600,color:"var(--text-secondary)",letterSpacing:"0.3px"},c=d=>{d.currentTarget.style.borderColor="var(--accent-primary)",d.currentTarget.style.backgroundColor="var(--bg-input-focus)",d.currentTarget.style.boxShadow="0 0 0 3px var(--accent-primary-light)"},h=d=>{d.currentTarget.style.borderColor="var(--border-primary)",d.currentTarget.style.backgroundColor="var(--bg-input)",d.currentTarget.style.boxShadow="none"};return Fe.jsxs("div",{style:{maxWidth:"420px",margin:"60px auto",padding:"36px",background:"var(--card-bg)",border:"1px solid var(--card-border)",borderRadius:"20px",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)",boxShadow:"var(--shadow-lg)",position:"relative",overflow:"hidden",animation:"fadeInUp 0.4s ease both"},children:[Fe.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,height:"3px",background:"var(--accent-gradient)"}}),Fe.jsx("h1",{style:{textAlign:"center",marginBottom:"28px",fontSize:"24px",fontWeight:800,color:"var(--text-primary)",letterSpacing:"-0.5px"},children:t("app.register")}),Fe.jsxs("form",{onSubmit:a,children:[Fe.jsxs("div",{style:{marginBottom:"18px"},children:[Fe.jsx("label",{htmlFor:"name",style:u,children:"Name"}),Fe.jsx("input",{id:"name",type:"text",value:e,onChange:d=>r(d.target.value),required:!0,style:l,onFocus:c,onBlur:h})]}),Fe.jsxs("div",{style:{marginBottom:"18px"},children:[Fe.jsx("label",{htmlFor:"email",style:u,children:"Email"}),Fe.jsx("input",{id:"email",type:"email",value:n,onChange:d=>i(d.target.value),required:!0,style:l,onFocus:c,onBlur:h})]}),Fe.jsxs("div",{style:{marginBottom:"24px"},children:[Fe.jsx("label",{htmlFor:"password",style:u,children:"Password"}),Fe.jsx("input",{id:"password",type:"password",value:s,onChange:d=>o(d.target.value),required:!0,style:l,onFocus:c,onBlur:h})]}),Fe.jsx("button",{type:"submit",style:{width:"100%",padding:"13px",background:"var(--accent-gradient)",color:"#fff",border:"none",borderRadius:"10px",cursor:"pointer",fontSize:"15px",fontWeight:700,boxShadow:"var(--shadow-glow)",transition:"all 0.2s ease",fontFamily:"var(--font-family)"},onMouseEnter:d=>{d.currentTarget.style.transform="translateY(-1px)",d.currentTarget.style.boxShadow="0 0 35px var(--accent-primary-glow)"},onMouseLeave:d=>{d.currentTarget.style.transform="translateY(0)",d.currentTarget.style.boxShadow="var(--shadow-glow)"},children:t("app.register")})]}),Fe.jsxs("p",{style:{textAlign:"center",marginTop:"20px",fontSize:"14px",color:"var(--text-tertiary)"},children:["Already have an account?"," ",Fe.jsx(wo,{to:"/login",style:{color:"var(--accent-primary)",textDecoration:"none",fontWeight:600},children:t("app.login")})]})]})}function cn(t){this.content=t}cn.prototype={constructor:cn,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,r){var n=r&&r!=t?this.remove(r):this,i=n.find(t),s=n.content.slice();return i==-1?s.push(r||t,e):(s[i+1]=e,r&&(s[i]=r)),new cn(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var r=this.content.slice();return r.splice(e,2),new cn(r)},addToStart:function(t,e){return new cn([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var r=this.remove(t).content.slice();return r.push(t,e),new cn(r)},addBefore:function(t,e,r){var n=this.remove(e),i=n.content.slice(),s=n.find(t);return i.splice(s==-1?i.length:s,0,e,r),new cn(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=cn.from(t),t.size?new cn(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=cn.from(t),t.size?new cn(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=cn.from(t);for(var r=0;r<t.content.length;r+=2)e=e.remove(t.content[r]);return e},toObject:function(){var t={};return this.forEach(function(e,r){t[e]=r}),t},get size(){return this.content.length>>1}};cn.from=function(t){if(t instanceof cn)return t;var e=[];if(t)for(var r in t)e.push(r,t[r]);return new cn(e)};function kE(t,e,r){for(let n=0;;n++){if(n==t.childCount||n==e.childCount)return t.childCount==e.childCount?null:r;let i=t.child(n),s=e.child(n);if(i==s){r+=i.nodeSize;continue}if(!i.sameMarkup(s))return r;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)r++;return r}if(i.content.size||s.content.size){let o=kE(i.content,s.content,r+1);if(o!=null)return o}r+=i.nodeSize}}function _E(t,e,r,n){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:r,b:n};let o=t.child(--i),a=e.child(--s),l=o.nodeSize;if(o==a){r-=l,n-=l;continue}if(!o.sameMarkup(a))return{a:r,b:n};if(o.isText&&o.text!=a.text){let u=0,c=Math.min(o.text.length,a.text.length);for(;u<c&&o.text[o.text.length-u-1]==a.text[a.text.length-u-1];)u++,r--,n--;return{a:r,b:n}}if(o.content.size||a.content.size){let u=_E(o.content,a.content,r-1,n-1);if(u)return u}r-=l,n-=l}}class ze{constructor(e,r){if(this.content=e,this.size=r||0,r==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,r,n,i=0,s){for(let o=0,a=0;a<r;o++){let l=this.content[o],u=a+l.nodeSize;if(u>e&&n(l,i+a,s||null,o)!==!1&&l.content.size){let c=a+1;l.nodesBetween(Math.max(0,e-c),Math.min(l.content.size,r-c),n,i+c)}a=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,r,n,i){let s="",o=!0;return this.nodesBetween(e,r,(a,l)=>{let u=a.isText?a.text.slice(Math.max(e,l)-l,r-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&u||a.isTextblock)&&n&&(o?o=!1:s+=n),s+=u},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let r=this.lastChild,n=e.firstChild,i=this.content.slice(),s=0;for(r.isText&&r.sameMarkup(n)&&(i[i.length-1]=r.withText(r.text+n.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new ze(i,this.size+e.size)}cut(e,r=this.size){if(e==0&&r==this.size)return this;let n=[],i=0;if(r>e)for(let s=0,o=0;o<r;s++){let a=this.content[s],l=o+a.nodeSize;l>e&&((o<e||l>r)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,r-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,r-o-1))),n.push(a),i+=a.nodeSize),o=l}return new ze(n,i)}cutByIndex(e,r){return e==r?ze.empty:e==0&&r==this.content.length?this:new ze(this.content.slice(e,r))}replaceChild(e,r){let n=this.content[e];if(n==r)return this;let i=this.content.slice(),s=this.size+r.nodeSize-n.nodeSize;return i[e]=r,new ze(i,s)}addToStart(e){return new ze([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ze(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(e.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let r=this.content[e];if(!r)throw new RangeError("Index "+e+" out of range for "+this);return r}maybeChild(e){return this.content[e]||null}forEach(e){for(let r=0,n=0;r<this.content.length;r++){let i=this.content[r];e(i,n,r),n+=i.nodeSize}}findDiffStart(e,r=0){return kE(this,e,r)}findDiffEnd(e,r=this.size,n=e.size){return _E(this,e,r,n)}findIndex(e){if(e==0)return zd(0,e);if(e==this.size)return zd(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,n=0;;r++){let i=this.child(r),s=n+i.nodeSize;if(s>=e)return s==e?zd(r+1,s):zd(r,n);n=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,r){if(!r)return ze.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new ze(r.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ze.empty;let r,n=0;for(let i=0;i<e.length;i++){let s=e[i];n+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(r||(r=e.slice(0,i)),r[r.length-1]=s.withText(r[r.length-1].text+s.text)):r&&r.push(s)}return new ze(r||e,n)}static from(e){if(!e)return ze.empty;if(e instanceof ze)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ze([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ze.empty=new ze([],0);const L1={index:0,offset:0};function zd(t,e){return L1.index=t,L1.offset=e,L1}function hm(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let r=Array.isArray(t);if(Array.isArray(e)!=r)return!1;if(r){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!hm(t[n],e[n]))return!1}else{for(let n in t)if(!(n in e)||!hm(t[n],e[n]))return!1;for(let n in e)if(!(n in t))return!1}return!0}let Qt=class g2{constructor(e,r){this.type=e,this.attrs=r}addToSet(e){let r,n=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))r||(r=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!n&&s.type.rank>this.type.rank&&(r||(r=e.slice(0,i)),r.push(this),n=!0),r&&r.push(s)}}return r||(r=e.slice()),n||r.push(this),r}removeFromSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return e.slice(0,r).concat(e.slice(r+1));return e}isInSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return!0;return!1}eq(e){return this==e||this.type==e.type&&hm(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[r.type];if(!n)throw new RangeError(`There is no mark type ${r.type} in this schema`);let i=n.create(r.attrs);return n.checkAttrs(i.attrs),i}static sameSet(e,r){if(e==r)return!0;if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(r[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return g2.none;if(e instanceof g2)return[e];let r=e.slice();return r.sort((n,i)=>n.type.rank-i.type.rank),r}};Qt.none=[];class dm extends Error{}class Ge{constructor(e,r,n){this.content=e,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,r){let n=EE(this.content,e+this.openStart,r);return n&&new Ge(n,this.openStart,this.openEnd)}removeBetween(e,r){return new Ge(AE(this.content,e+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,r){if(!r)return Ge.empty;let n=r.openStart||0,i=r.openEnd||0;if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Ge(ze.fromJSON(e,r.content),n,i)}static maxOpen(e,r=!0){let n=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(r||!s.type.spec.isolating);s=s.firstChild)n++;for(let s=e.lastChild;s&&!s.isLeaf&&(r||!s.type.spec.isolating);s=s.lastChild)i++;return new Ge(e,n,i)}}Ge.empty=new Ge(ze.empty,0,0);function AE(t,e,r){let{index:n,offset:i}=t.findIndex(e),s=t.maybeChild(n),{index:o,offset:a}=t.findIndex(r);if(i==e||s.isText){if(a!=r&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(r))}if(n!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(n,s.copy(AE(s.content,e-i-1,r-i-1)))}function EE(t,e,r,n){let{index:i,offset:s}=t.findIndex(e),o=t.maybeChild(i);if(s==e||o.isText)return n&&!n.canReplace(i,i,r)?null:t.cut(0,e).append(r).append(t.cut(e));let a=EE(o.content,e-s-1,r,o);return a&&t.replaceChild(i,o.copy(a))}function k7(t,e,r){if(r.openStart>t.depth)throw new dm("Inserted content deeper than insertion position");if(t.depth-r.openStart!=e.depth-r.openEnd)throw new dm("Inconsistent open depths");return NE(t,e,r,0)}function NE(t,e,r,n){let i=t.index(n),s=t.node(n);if(i==e.index(n)&&n<t.depth-r.openStart){let o=NE(t,e,r,n+1);return s.copy(s.content.replaceChild(i,o))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&t.depth==n&&e.depth==n){let o=t.parent,a=o.content;return _l(o,a.cut(0,t.parentOffset).append(r.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=_7(r,t);return _l(s,TE(t,o,a,e,n))}else return _l(s,pm(t,e,n))}function CE(t,e){if(!e.type.compatibleContent(t.type))throw new dm("Cannot join "+e.type.name+" onto "+t.type.name)}function y2(t,e,r){let n=t.node(r);return CE(n,e.node(r)),n}function kl(t,e){let r=e.length-1;r>=0&&t.isText&&t.sameMarkup(e[r])?e[r]=t.withText(e[r].text+t.text):e.push(t)}function zf(t,e,r,n){let i=(e||t).node(r),s=0,o=e?e.index(r):i.childCount;t&&(s=t.index(r),t.depth>r?s++:t.textOffset&&(kl(t.nodeAfter,n),s++));for(let a=s;a<o;a++)kl(i.child(a),n);e&&e.depth==r&&e.textOffset&&kl(e.nodeBefore,n)}function _l(t,e){return t.type.checkContent(e),t.copy(e)}function TE(t,e,r,n,i){let s=t.depth>i&&y2(t,e,i+1),o=n.depth>i&&y2(r,n,i+1),a=[];return zf(null,t,i,a),s&&o&&e.index(i)==r.index(i)?(CE(s,o),kl(_l(s,TE(t,e,r,n,i+1)),a)):(s&&kl(_l(s,pm(t,e,i+1)),a),zf(e,r,i,a),o&&kl(_l(o,pm(r,n,i+1)),a)),zf(n,null,i,a),new ze(a)}function pm(t,e,r){let n=[];if(zf(null,t,r,n),t.depth>r){let i=y2(t,e,r+1);kl(_l(i,pm(t,e,r+1)),n)}return zf(e,null,r,n),new ze(n)}function _7(t,e){let r=e.depth-t.openStart,i=e.node(r).copy(t.content);for(let s=r-1;s>=0;s--)i=e.node(s).copy(ze.from(i));return{start:i.resolveNoCache(t.openStart+r),end:i.resolveNoCache(i.content.size-t.openEnd-r)}}class dh{constructor(e,r,n){this.pos=e,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,r=this.index(this.depth);if(r==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],i=e.child(r);return n?e.child(r).cut(n):i}get nodeBefore(){let e=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(e).cut(0,r):e==0?null:this.parent.child(e-1)}posAtIndex(e,r){r=this.resolveDepth(r);let n=this.path[r*3],i=r==0?0:this.path[r*3-1]+1;for(let s=0;s<e;s++)i+=n.child(s).nodeSize;return i}marks(){let e=this.parent,r=this.index();if(e.content.size==0)return Qt.none;if(this.textOffset)return e.child(r).marks;let n=e.maybeChild(r-1),i=e.maybeChild(r);if(!n){let a=n;n=i,i=a}let s=n.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<n.length;s++)n[s].type.spec.inclusive===!1&&(!i||!n[s].isInSet(i.marks))&&(n=n[s--].removeFromSet(n));return n}sharedDepth(e){for(let r=this.depth;r>0;r--)if(this.start(r)<=e&&this.end(r)>=e)return r;return 0}blockRange(e=this,r){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!r||r(this.node(n))))return new mm(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let r=1;r<=this.depth;r++)e+=(e?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return e+":"+this.parentOffset}static resolve(e,r){if(!(r>=0&&r<=e.content.size))throw new RangeError("Position "+r+" out of range");let n=[],i=0,s=r;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(s),u=s-l;if(n.push(o,a,i+l),!u||(o=o.child(a),o.isText))break;s=u-1,i+=l+1}return new dh(r,n,s)}static resolveCached(e,r){let n=uS.get(e);if(n)for(let s=0;s<n.elts.length;s++){let o=n.elts[s];if(o.pos==r)return o}else uS.set(e,n=new A7);let i=n.elts[n.i]=dh.resolve(e,r);return n.i=(n.i+1)%E7,i}}class A7{constructor(){this.elts=[],this.i=0}}const E7=12,uS=new WeakMap;class mm{constructor(e,r,n){this.$from=e,this.$to=r,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const N7=Object.create(null);let ba=class v2{constructor(e,r,n,i=Qt.none){this.type=e,this.attrs=r,this.marks=i,this.content=n||ze.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,r,n,i=0){this.content.nodesBetween(e,r,n,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,r,n,i){return this.content.textBetween(e,r,n,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,r,n){return this.type==e&&hm(this.attrs,r||e.defaultAttrs||N7)&&Qt.sameSet(this.marks,n||Qt.none)}copy(e=null){return e==this.content?this:new v2(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new v2(this.type,this.attrs,this.content,e)}cut(e,r=this.content.size){return e==0&&r==this.content.size?this:this.copy(this.content.cut(e,r))}slice(e,r=this.content.size,n=!1){if(e==r)return Ge.empty;let i=this.resolve(e),s=this.resolve(r),o=n?0:i.sharedDepth(r),a=i.start(o),u=i.node(o).content.cut(i.pos-a,s.pos-a);return new Ge(u,i.depth-o,s.depth-o)}replace(e,r,n){return k7(this.resolve(e),this.resolve(r),n)}nodeAt(e){for(let r=this;;){let{index:n,offset:i}=r.content.findIndex(e);if(r=r.maybeChild(n),!r)return null;if(i==e||r.isText)return r;e-=i+1}}childAfter(e){let{index:r,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(r),index:r,offset:n};let i=this.content.child(r-1);return{node:i,index:r-1,offset:n-i.nodeSize}}resolve(e){return dh.resolveCached(this,e)}resolveNoCache(e){return dh.resolve(this,e)}rangeHasMark(e,r,n){let i=!1;return r>e&&this.nodesBetween(e,r,s=>(n.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),LE(this.marks,e)}contentMatchAt(e){let r=this.type.contentMatch.matchFragment(this.content,0,e);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(e,r,n=ze.empty,i=0,s=n.childCount){let o=this.contentMatchAt(e).matchFragment(n,i,s),a=o&&o.matchFragment(this.content,r);if(!a||!a.validEnd)return!1;for(let l=i;l<s;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0}canReplaceWith(e,r,n,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(n),o=s&&s.matchFragment(this.content,r);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Qt.none;for(let r=0;r<this.marks.length;r++){let n=this.marks[r];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!Qt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(r=>r.toJSON())),e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(e.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(r.text,n)}let i=ze.fromJSON(e,r.content),s=e.nodeType(r.type).create(r.attrs,i,n);return s.type.checkAttrs(s.attrs),s}};ba.prototype.text=void 0;class gm extends ba{constructor(e,r,n,i){if(super(e,r,null,i),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):LE(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,r){return this.text.slice(e,r)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new gm(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new gm(this.type,this.attrs,e,this.marks)}cut(e=0,r=this.text.length){return e==0&&r==this.text.length?this:this.withText(this.text.slice(e,r))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function LE(t,e){for(let r=t.length-1;r>=0;r--)e=t[r].type.name+"("+e+")";return e}class Il{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,r){let n=new C7(e,r);if(n.next==null)return Il.empty;let i=OE(n);n.next&&n.err("Unexpected trailing text");let s=M7(I7(i));return D7(s,n),s}matchType(e){for(let r=0;r<this.next.length;r++)if(this.next[r].type==e)return this.next[r].next;return null}matchFragment(e,r=0,n=e.childCount){let i=this;for(let s=r;i&&s<n;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:r}=this.next[e];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(e){for(let r=0;r<this.next.length;r++)for(let n=0;n<e.next.length;n++)if(this.next[r].type==e.next[n].type)return!0;return!1}fillBefore(e,r=!1,n=0){let i=[this];function s(o,a){let l=o.matchFragment(e,n);if(l&&(!r||l.validEnd))return ze.from(a.map(u=>u.createAndFill()));for(let u=0;u<o.next.length;u++){let{type:c,next:h}=o.next[u];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(h)==-1){i.push(h);let d=s(h,a.concat(c));if(d)return d}}return null}return s(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let r=this.computeWrapping(e);return this.wrapCache.push(e,r),r}computeWrapping(e){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let i=n.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in r)&&(!i.type||l.validEnd)&&(n.push({match:a.contentMatch,type:a,via:i}),r[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function r(n){e.push(n);for(let i=0;i<n.next.length;i++)e.indexOf(n.next[i].next)==-1&&r(n.next[i].next)}return r(this),e.map((n,i)=>{let s=i+(n.validEnd?"*":" ")+" ";for(let o=0;o<n.next.length;o++)s+=(o?", ":"")+n.next[o].type.name+"->"+e.indexOf(n.next[o].next);return s}).join(`
`)}}Il.empty=new Il(!0);class C7{constructor(e,r){this.string=e,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function OE(t){let e=[];do e.push(T7(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function T7(t){let e=[];do e.push(L7(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function L7(t){let e=R7(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=O7(t,e);else break;return e}function cS(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function O7(t,e){let r=cS(t),n=r;return t.eat(",")&&(t.next!="}"?n=cS(t):n=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}function P7(t,e){let r=t.nodeTypes,n=r[e];if(n)return[n];let i=[];for(let s in r){let o=r[s];o.isInGroup(e)&&i.push(o)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function R7(t){if(t.eat("(")){let e=OE(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=P7(t,t.next).map(r=>(t.inline==null?t.inline=r.isInline:t.inline!=r.isInline&&t.err("Mixing inline and block content"),{type:"name",value:r}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function I7(t){let e=[[]];return i(s(t,0),r()),e;function r(){return e.push([])-1}function n(o,a,l){let u={term:l,to:a};return e[o].push(u),u}function i(o,a){o.forEach(l=>l.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((l,u)=>l.concat(s(u,a)),[]);if(o.type=="seq")for(let l=0;;l++){let u=s(o.exprs[l],a);if(l==o.exprs.length-1)return u;i(u,a=r())}else if(o.type=="star"){let l=r();return n(a,l),i(s(o.expr,l),l),[n(l)]}else if(o.type=="plus"){let l=r();return i(s(o.expr,a),l),i(s(o.expr,l),l),[n(l)]}else{if(o.type=="opt")return[n(a)].concat(s(o.expr,a));if(o.type=="range"){let l=a;for(let u=0;u<o.min;u++){let c=r();i(s(o.expr,l),c),l=c}if(o.max==-1)i(s(o.expr,l),l);else for(let u=o.min;u<o.max;u++){let c=r();n(l,c),i(s(o.expr,l),c),l=c}return[n(l)]}else{if(o.type=="name")return[n(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function PE(t,e){return e-t}function fS(t,e){let r=[];return n(e),r.sort(PE);function n(i){let s=t[i];if(s.length==1&&!s[0].term)return n(s[0].to);r.push(i);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&r.indexOf(l)==-1&&n(l)}}}function M7(t){let e=Object.create(null);return r(fS(t,0));function r(n){let i=[];n.forEach(o=>{t[o].forEach(({term:a,to:l})=>{if(!a)return;let u;for(let c=0;c<i.length;c++)i[c][0]==a&&(u=i[c][1]);fS(t,l).forEach(c=>{u||i.push([a,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let s=e[n.join(",")]=new Il(n.indexOf(t.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(PE);s.next.push({type:i[o][0],next:e[a.join(",")]||r(a)})}return s}}function D7(t,e){for(let r=0,n=[t];r<n.length;r++){let i=n[r],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:l,next:u}=i.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),n.indexOf(u)==-1&&n.push(u)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function RE(t){let e=Object.create(null);for(let r in t){let n=t[r];if(!n.hasDefault)return null;e[r]=n.default}return e}function IE(t,e){let r=Object.create(null);for(let n in t){let i=e&&e[n];if(i===void 0){let s=t[n];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=i}return r}function ME(t,e,r,n){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${r} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function DE(t,e){let r=Object.create(null);if(e)for(let n in e)r[n]=new B7(t,n,e[n]);return r}let hS=class FE{constructor(e,r,n){this.name=e,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=DE(e,n.attrs),this.defaultAttrs=RE(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Il.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:IE(this.attrs,e)}create(e=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ba(this,this.computeAttrs(e),ze.from(r),Qt.setFrom(n))}createChecked(e=null,r,n){return r=ze.from(r),this.checkContent(r),new ba(this,this.computeAttrs(e),r,Qt.setFrom(n))}createAndFill(e=null,r,n){if(e=this.computeAttrs(e),r=ze.from(r),r.size){let o=this.contentMatch.fillBefore(r);if(!o)return null;r=o.append(r)}let i=this.contentMatch.matchFragment(r),s=i&&i.fillBefore(ze.empty,!0);return s?new ba(this,e,r.append(s),Qt.setFrom(n)):null}validContent(e){let r=this.contentMatch.matchFragment(e);if(!r||!r.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){ME(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let r=0;r<e.length;r++)if(!this.allowsMarkType(e[r].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let r;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?r&&r.push(e[n]):r||(r=e.slice(0,n));return r?r.length?r:Qt.none:e}static compile(e,r){let n=Object.create(null);e.forEach((s,o)=>n[s]=new FE(s,r,o));let i=r.spec.topNode||"doc";if(!n[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let s in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function F7(t,e,r){let n=r.split("|");return i=>{let s=i===null?"null":typeof i;if(n.indexOf(s)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${t}, got ${s}`)}}class B7{constructor(e,r,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?F7(e,r,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class Xm{constructor(e,r,n,i){this.name=e,this.rank=r,this.schema=n,this.spec=i,this.attrs=DE(e,i.attrs),this.excluded=null;let s=RE(this.attrs);this.instance=s?new Qt(this,s):null}create(e=null){return!e&&this.instance?this.instance:new Qt(this,IE(this.attrs,e))}static compile(e,r){let n=Object.create(null),i=0;return e.forEach((s,o)=>n[s]=new Xm(s,i++,r,o)),n}removeFromSet(e){for(var r=0;r<e.length;r++)e[r].type==this&&(e=e.slice(0,r).concat(e.slice(r+1)),r--);return e}isInSet(e){for(let r=0;r<e.length;r++)if(e[r].type==this)return e[r]}checkAttrs(e){ME(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class BE{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let i in e)r[i]=e[i];r.nodes=cn.from(e.nodes),r.marks=cn.from(e.marks||{}),this.nodes=hS.compile(this.spec.nodes,this),this.marks=Xm.compile(this.spec.marks,this);let n=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=n[o]||(n[o]=Il.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?dS(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:dS(this,o.split(" "))}this.nodeFromJSON=i=>ba.fromJSON(this,i),this.markFromJSON=i=>Qt.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,r=null,n,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof hS){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(r,n,i)}text(e,r){let n=this.nodes.text;return new gm(n,n.defaultAttrs,e,Qt.setFrom(r))}mark(e,r){return typeof e=="string"&&(e=this.marks[e]),e.create(r)}nodeType(e){let r=this.nodes[e];if(!r)throw new RangeError("Unknown node type: "+e);return r}}function dS(t,e){let r=[];for(let n=0;n<e.length;n++){let i=e[n],s=t.marks[i],o=s;if(s)r.push(s);else for(let a in t.marks){let l=t.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&r.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return r}function j7(t){return t.tag!=null}function z7(t){return t.style!=null}class xa{constructor(e,r){this.schema=e,this.rules=r,this.tags=[],this.styles=[];let n=this.matchedStyles=[];r.forEach(i=>{if(j7(i))this.tags.push(i);else if(z7(i)){let s=/[^=]*/.exec(i.style)[0];n.indexOf(s)<0&&n.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,r={}){let n=new mS(this,r,!1);return n.addAll(e,Qt.none,r.from,r.to),n.finish()}parseSlice(e,r={}){let n=new mS(this,r,!0);return n.addAll(e,Qt.none,r.from,r.to),Ge.maxOpen(n.finish())}matchTag(e,r,n){for(let i=n?this.tags.indexOf(n)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(W7(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||r.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,r,n,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!n.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=r))){if(o.getAttrs){let l=o.getAttrs(r);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let r=[];function n(i){let s=i.priority==null?50:i.priority,o=0;for(;o<r.length;o++){let a=r[o];if((a.priority==null?50:a.priority)<s)break}r.splice(o,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(o=>{n(o=gS(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(o=>{n(o=gS(o)),o.node||o.ignore||o.mark||(o.node=i)})}return r}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new xa(e,xa.schemaRules(e)))}}const jE={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},U7={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},zE={ol:!0,ul:!0},ph=1,w2=2,Uf=4;function pS(t,e,r){return e!=null?(e?ph:0)|(e==="full"?w2:0):t&&t.whitespace=="pre"?ph|w2:r&~Uf}class Ud{constructor(e,r,n,i,s,o){this.type=e,this.attrs=r,this.marks=n,this.solid=i,this.options=o,this.content=[],this.activeMarks=Qt.none,this.match=s||(o&Uf?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(ze.from(e));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let n=this.type.contentMatch,i;return(i=n.findWrapping(e.type))?(this.match=n,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&ph)){let n=this.content[this.content.length-1],i;if(n&&n.isText&&(i=/[ \t\r\n\u000c]+$/.exec(n.text))){let s=n;n.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let r=ze.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(ze.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!jE.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class mS{constructor(e,r,n){this.parser=e,this.options=r,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let i=r.topNode,s,o=pS(null,r.preserveWhitespace,0)|(n?Uf:0);i?s=new Ud(i.type,i.attrs,Qt.none,!0,r.topMatch||i.type.contentMatch,o):n?s=new Ud(null,null,Qt.none,!0,null,o):s=new Ud(e.schema.topNodeType,null,Qt.none,!0,null,o),this.nodes=[s],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,r){e.nodeType==3?this.addTextNode(e,r):e.nodeType==1&&this.addElement(e,r)}addTextNode(e,r){let n=e.nodeValue,i=this.top,s=i.options&w2?"full":this.localPreserveWS||(i.options&ph)>0,{schema:o}=this.parser;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(s)if(s==="full")n=n.replace(/\r\n?/g,`
`);else if(o.linebreakReplacement&&/[\r\n]/.test(n)&&this.top.findWrapping(o.linebreakReplacement.create())){let a=n.split(/\r?\n|\r/);for(let l=0;l<a.length;l++)l&&this.insertNode(o.linebreakReplacement.create(),r,!0),a[l]&&this.insertNode(o.text(a[l]),r,!/\S/.test(a[l]));n=""}else n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let a=i.content[i.content.length-1],l=e.previousSibling;(!a||l&&l.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(n=n.slice(1))}n&&this.insertNode(o.text(n),r,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,r,n){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),a;zE.hasOwnProperty(o)&&this.parser.normalizeLists&&q7(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,n));e:if(l?l.ignore:U7.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,r);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let u,c=this.needsBlock;if(jE.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),u=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,r);break e}let h=l&&l.skip?r:this.readStyles(e,r);h&&this.addAll(e,h),u&&this.sync(s),this.needsBlock=c}else{let u=this.readStyles(e,r);u&&this.addElementByRule(e,l,u,l.consuming===!1?a:void 0)}this.localPreserveWS=i}leafFallback(e,r){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),r)}ignoreFallback(e,r){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),r,!0)}readStyles(e,r){let n=e.style;if(n&&n.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=n.getPropertyValue(s);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(s,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?r=r.filter(u=>!l.clearMark(u)):r=r.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return r}addElementByRule(e,r,n,i){let s,o;if(r.node)if(o=this.parser.schema.nodes[r.node],o.isLeaf)this.insertNode(o.create(r.attrs),n,e.nodeName=="BR")||this.leafFallback(e,n);else{let l=this.enter(o,r.attrs||null,n,r.preserveWhitespace);l&&(s=!0,n=l)}else{let l=this.parser.schema.marks[r.mark];n=n.concat(l.create(r.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,n,i);else if(r.getContent)this.findInside(e),r.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,n,!1));else{let l=e;typeof r.contentElement=="string"?l=e.querySelector(r.contentElement):typeof r.contentElement=="function"?l=r.contentElement(e):r.contentElement&&(l=r.contentElement),this.findAround(e,l,!0),this.addAll(l,n),this.findAround(e,l,!1)}s&&this.sync(a)&&this.open--}addAll(e,r,n,i){let s=n||0;for(let o=n?e.childNodes[n]:e.firstChild,a=i==null?null:e.childNodes[i];o!=a;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,r);this.findAtPoint(e,s)}findPlace(e,r,n){let i,s;for(let o=this.open,a=0;o>=0;o--){let l=this.nodes[o],u=l.findWrapping(e);if(u&&(!i||i.length>u.length+a)&&(i=u,s=l,!u.length))break;if(l.solid){if(n)break;a+=2}}if(!i)return null;this.sync(s);for(let o=0;o<i.length;o++)r=this.enterInner(i[o],null,r,!1);return r}insertNode(e,r,n){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(r=this.enterInner(s,null,r))}let i=this.findPlace(e,r,n);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let o=Qt.none;for(let a of i.concat(e.marks))(s.type?s.type.allowsMarkType(a.type):yS(a.type,e.type))&&(o=a.addToSet(o));return s.content.push(e.mark(o)),!0}return!1}enter(e,r,n,i){let s=this.findPlace(e.create(r),n,!1);return s&&(s=this.enterInner(e,r,n,!0,i)),s}enterInner(e,r,n,i=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=pS(e,s,o.options);o.options&Uf&&o.content.length==0&&(a|=Uf);let l=Qt.none;return n=n.filter(u=>(o.type?o.type.allowsMarkType(u.type):yS(u.type,e))?(l=u.addToSet(l),!1):!0),this.nodes.push(new Ud(e,r,l,i,null,a)),this.open++,n}closeExtra(e=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let r=this.open;r>=0;r--){if(this.nodes[r]==e)return this.open=r,!0;this.localPreserveWS&&(this.nodes[r].options|=ph)}return!1}get currentPos(){this.closeExtra();let e=0;for(let r=this.open;r>=0;r--){let n=this.nodes[r].content;for(let i=n.length-1;i>=0;i--)e+=n[i].nodeSize;r&&e++}return e}findAtPoint(e,r){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(e,r,n){if(e!=r&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&r.compareDocumentPosition(this.find[i].node)&(n?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&(this.find[r].pos=this.currentPos-(e.nodeValue.length-this.find[r].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let r=e.split("/"),n=this.options.context,i=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),s=-(n?n.depth+1:0)+(i?0:1),o=(a,l)=>{for(;a>=0;a--){let u=r[a];if(u==""){if(a==r.length-1||a==0)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}else{let c=l>0||l==0&&i?this.nodes[l].type:n&&l>=s?n.node(l-s).type:null;if(!c||c.name!=u&&!c.isInGroup(u))return!1;l--}}return!0};return o(r.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let r=e.depth;r>=0;r--){let n=e.node(r).contentMatchAt(e.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let r in this.parser.schema.nodes){let n=this.parser.schema.nodes[r];if(n.isTextblock&&n.defaultAttrs)return n}}}function q7(t){for(let e=t.firstChild,r=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&zE.hasOwnProperty(n)&&r?(r.appendChild(e),e=r):n=="li"?r=e:n&&(r=null)}}function W7(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function gS(t){let e={};for(let r in t)e[r]=t[r];return e}function yS(t,e){let r=e.schema.nodes;for(let n in r){let i=r[n];if(!i.allowsMarkType(t))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:u,next:c}=a.edge(l);if(u==e||s.indexOf(c)<0&&o(c))return!0}};if(o(i.contentMatch))return!0}}class Wl{constructor(e,r){this.nodes=e,this.marks=r}serializeFragment(e,r={},n){n||(n=O1(r).createDocumentFragment());let i=n,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let a=0,l=0;for(;a<s.length&&l<o.marks.length;){let u=o.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(s[a][0])||u.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)i=s.pop()[1];for(;l<o.marks.length;){let u=o.marks[l++],c=this.serializeMark(u,o.isInline,r);c&&(s.push([u,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(o,r))}),n}serializeNodeInner(e,r){let{dom:n,contentDOM:i}=Ep(O1(r),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,r,i)}return n}serializeNode(e,r={}){let n=this.serializeNodeInner(e,r);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,r);s&&((s.contentDOM||s.dom).appendChild(n),n=s.dom)}return n}serializeMark(e,r,n={}){let i=this.marks[e.type.name];return i&&Ep(O1(n),i(e,r),null,e.attrs)}static renderSpec(e,r,n=null,i){return Ep(e,r,n,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Wl(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let r=vS(e.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(e){return vS(e.marks)}}function vS(t){let e={};for(let r in t){let n=t[r].spec.toDOM;n&&(e[r]=n)}return e}function O1(t){return t.document||window.document}const wS=new WeakMap;function H7(t){let e=wS.get(t);return e===void 0&&wS.set(t,e=V7(t)),e}function V7(t){let e=null;function r(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let i=0;i<n.length;i++)r(n[i]);else for(let i in n)r(n[i])}return r(t),e}function Ep(t,e,r,n){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(s=H7(n))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(r=i.slice(0,o),i=i.slice(o+1));let a,l=r?t.createElementNS(r,i):t.createElement(i),u=e[1],c=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){c=2;for(let h in u)if(u[h]!=null){let d=h.indexOf(" ");d>0?l.setAttributeNS(h.slice(0,d),h.slice(d+1),u[h]):h=="style"&&l.style?l.style.cssText=u[h]:l.setAttribute(h,u[h])}}for(let h=c;h<e.length;h++){let d=e[h];if(d===0){if(h<e.length-1||h>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:f,contentDOM:g}=Ep(t,d,r,n);if(l.appendChild(f),g){if(a)throw new RangeError("Multiple content holes");a=g}}}return{dom:l,contentDOM:a}}const UE=65535,qE=Math.pow(2,16);function $7(t,e){return t+e*qE}function bS(t){return t&UE}function K7(t){return(t-(t&UE))/qE}const WE=1,HE=2,Np=4,VE=8;class b2{constructor(e,r,n){this.pos=e,this.delInfo=r,this.recover=n}get deleted(){return(this.delInfo&VE)>0}get deletedBefore(){return(this.delInfo&(WE|Np))>0}get deletedAfter(){return(this.delInfo&(HE|Np))>0}get deletedAcross(){return(this.delInfo&Np)>0}}class ui{constructor(e,r=!1){if(this.ranges=e,this.inverted=r,!e.length&&ui.empty)return ui.empty}recover(e){let r=0,n=bS(e);if(!this.inverted)for(let i=0;i<n;i++)r+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[n*3]+r+K7(e)}mapResult(e,r=1){return this._map(e,r,!1)}map(e,r=1){return this._map(e,r,!0)}_map(e,r,n){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let u=this.ranges[a+s],c=this.ranges[a+o],h=l+u;if(e<=h){let d=u?e==l?-1:e==h?1:r:r,f=l+i+(d<0?0:c);if(n)return f;let g=e==(r<0?l:h)?null:$7(a/3,e-l),y=e==l?HE:e==h?WE:Np;return(r<0?e!=l:e!=h)&&(y|=VE),new b2(f,y,g)}i+=c-u}return n?e+i:new b2(e+i,0,null)}touches(e,r){let n=0,i=bS(r),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?n:0);if(l>e)break;let u=this.ranges[a+s],c=l+u;if(e<=c&&a==i*3)return!0;n+=this.ranges[a+o]-u}return!1}forEach(e){let r=this.inverted?2:1,n=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),u=this.ranges[i+r],c=this.ranges[i+n];e(a,a+u,l,l+c),s+=c-u}}invert(){return new ui(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?ui.empty:new ui(e<0?[0,-e,0]:[0,0,e])}}ui.empty=new ui([]);class mh{constructor(e,r,n=0,i=e?e.length:0){this.mirror=r,this.from=n,this.to=i,this._maps=e||[],this.ownData=!(e||r)}get maps(){return this._maps}slice(e=0,r=this.maps.length){return new mh(this._maps,this.mirror,e,r)}appendMap(e,r){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),r!=null&&this.setMirror(this._maps.length-1,r)}appendMapping(e){for(let r=0,n=this._maps.length;r<e._maps.length;r++){let i=e.getMirror(r);this.appendMap(e._maps[r],i!=null&&i<r?n+i:void 0)}}getMirror(e){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==e)return this.mirror[r+(r%2?-1:1)]}}setMirror(e,r){this.mirror||(this.mirror=[]),this.mirror.push(e,r)}appendMappingInverted(e){for(let r=e.maps.length-1,n=this._maps.length+e._maps.length;r>=0;r--){let i=e.getMirror(r);this.appendMap(e._maps[r].invert(),i!=null&&i>r?n-i-1:void 0)}}invert(){let e=new mh;return e.appendMappingInverted(this),e}map(e,r=1){if(this.mirror)return this._map(e,r,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,r);return e}mapResult(e,r=1){return this._map(e,r,!1)}_map(e,r,n){let i=0;for(let s=this.from;s<this.to;s++){let o=this._maps[s],a=o.mapResult(e,r);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,e=this._maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return n?e:new b2(e,i,null)}}const P1=Object.create(null);class On{getMap(){return ui.empty}merge(e){return null}static fromJSON(e,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=P1[r.stepType];if(!n)throw new RangeError(`No step type ${r.stepType} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in P1)throw new RangeError("Duplicate use of step JSON ID "+e);return P1[e]=r,r.prototype.jsonID=e,r}}class Fr{constructor(e,r){this.doc=e,this.failed=r}static ok(e){return new Fr(e,null)}static fail(e){return new Fr(null,e)}static fromReplace(e,r,n,i){try{return Fr.ok(e.replace(r,n,i))}catch(s){if(s instanceof dm)return Fr.fail(s.message);throw s}}}function Zw(t,e,r){let n=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(Zw(s.content,e,s))),s.isInline&&(s=e(s,r,i)),n.push(s)}return ze.fromArray(n)}class aa extends On{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=e.resolve(this.from),i=n.node(n.sharedDepth(this.to)),s=new Ge(Zw(r.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),r.openStart,r.openEnd);return Fr.fromReplace(e,this.from,this.to,s)}invert(){return new Ls(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new aa(r.pos,n.pos,this.mark)}merge(e){return e instanceof aa&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new aa(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new aa(r.from,r.to,e.markFromJSON(r.mark))}}On.jsonID("addMark",aa);class Ls extends On{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=new Ge(Zw(r.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),r.openStart,r.openEnd);return Fr.fromReplace(e,this.from,this.to,n)}invert(){return new aa(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new Ls(r.pos,n.pos,this.mark)}merge(e){return e instanceof Ls&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ls(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ls(r.from,r.to,e.markFromJSON(r.mark))}}On.jsonID("removeMark",Ls);class la extends On{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return Fr.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return Fr.fromReplace(e,this.pos,this.pos+1,new Ge(ze.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);if(r){let n=this.mark.addToSet(r.marks);if(n.length==r.marks.length){for(let i=0;i<r.marks.length;i++)if(!r.marks[i].isInSet(n))return new la(this.pos,r.marks[i]);return new la(this.pos,this.mark)}}return new Ml(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new la(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new la(r.pos,e.markFromJSON(r.mark))}}On.jsonID("addNodeMark",la);class Ml extends On{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return Fr.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return Fr.fromReplace(e,this.pos,this.pos+1,new Ge(ze.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new la(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Ml(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ml(r.pos,e.markFromJSON(r.mark))}}On.jsonID("removeNodeMark",Ml);class Xr extends On{constructor(e,r,n,i=!1){super(),this.from=e,this.to=r,this.slice=n,this.structure=i}apply(e){return this.structure&&x2(e,this.from,this.to)?Fr.fail("Structure replace would overwrite content"):Fr.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new ui([this.from,this.to-this.from,this.slice.size])}invert(e){return new Xr(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new Xr(r.pos,Math.max(r.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Xr)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let r=this.slice.size+e.slice.size==0?Ge.empty:new Ge(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Xr(this.from,this.to+(e.to-e.from),r,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let r=this.slice.size+e.slice.size==0?Ge.empty:new Ge(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Xr(e.from,this.to,r,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Xr(r.from,r.to,Ge.fromJSON(e,r.slice),!!r.structure)}}On.jsonID("replace",Xr);class Qr extends On{constructor(e,r,n,i,s,o,a=!1){super(),this.from=e,this.to=r,this.gapFrom=n,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(e){if(this.structure&&(x2(e,this.from,this.gapFrom)||x2(e,this.gapTo,this.to)))return Fr.fail("Structure gap-replace would overwrite content");let r=e.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return Fr.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?Fr.fromReplace(e,this.from,this.to,n):Fr.fail("Content does not fit in gap")}getMap(){return new ui([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let r=this.gapTo-this.gapFrom;return new Qr(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),i=this.from==this.gapFrom?r.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||i<r.pos||s>n.pos?null:new Qr(r.pos,n.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Qr(r.from,r.to,r.gapFrom,r.gapTo,Ge.fromJSON(e,r.slice),r.insert,!!r.structure)}}On.jsonID("replaceAround",Qr);function x2(t,e,r){let n=t.resolve(e),i=r-e,s=n.depth;for(;i>0&&s>0&&n.indexAfter(s)==n.node(s).childCount;)s--,i--;if(i>0){let o=n.node(s).maybeChild(n.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function G7(t,e,r,n){let i=[],s=[],o,a;t.doc.nodesBetween(e,r,(l,u,c)=>{if(!l.isInline)return;let h=l.marks;if(!n.isInSet(h)&&c.type.allowsMarkType(n.type)){let d=Math.max(u,e),f=Math.min(u+l.nodeSize,r),g=n.addToSet(h);for(let y=0;y<h.length;y++)h[y].isInSet(g)||(o&&o.to==d&&o.mark.eq(h[y])?o.to=f:i.push(o=new Ls(d,f,h[y])));a&&a.to==d?a.to=f:s.push(a=new aa(d,f,n))}}),i.forEach(l=>t.step(l)),s.forEach(l=>t.step(l))}function J7(t,e,r,n){let i=[],s=0;t.doc.nodesBetween(e,r,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(n instanceof Xm){let u=o.marks,c;for(;c=n.isInSet(u);)(l||(l=[])).push(c),u=c.removeFromSet(u)}else n?n.isInSet(o.marks)&&(l=[n]):l=o.marks;if(l&&l.length){let u=Math.min(a+o.nodeSize,r);for(let c=0;c<l.length;c++){let h=l[c],d;for(let f=0;f<i.length;f++){let g=i[f];g.step==s-1&&h.eq(i[f].style)&&(d=g)}d?(d.to=u,d.step=s):i.push({style:h,from:Math.max(a,e),to:u,step:s})}}}),i.forEach(o=>t.step(new Ls(o.from,o.to,o.style)))}function Qw(t,e,r,n=r.contentMatch,i=!0){let s=t.doc.nodeAt(e),o=[],a=e+1;for(let l=0;l<s.childCount;l++){let u=s.child(l),c=a+u.nodeSize,h=n.matchType(u.type);if(!h)o.push(new Xr(a,c,Ge.empty));else{n=h;for(let d=0;d<u.marks.length;d++)r.allowsMarkType(u.marks[d].type)||t.step(new Ls(a,c,u.marks[d]));if(i&&u.isText&&r.whitespace!="pre"){let d,f=/\r?\n|\r/g,g;for(;d=f.exec(u.text);)g||(g=new Ge(ze.from(r.schema.text(" ",r.allowedMarks(u.marks))),0,0)),o.push(new Xr(a+d.index,a+d.index+d[0].length,g))}}a=c}if(!n.validEnd){let l=n.fillBefore(ze.empty,!0);t.replace(a,a,new Ge(l,0,0))}for(let l=o.length-1;l>=0;l--)t.step(o[l])}function Y7(t,e,r){return(e==0||t.canReplace(e,t.childCount))&&(r==t.childCount||t.canReplace(0,r))}function Ec(t){let r=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let n=t.depth,i=0,s=0;;--n){let o=t.$from.node(n),a=t.$from.index(n)+i,l=t.$to.indexAfter(n)-s;if(n<t.depth&&o.canReplace(a,l,r))return n;if(n==0||o.type.spec.isolating||!Y7(o,a,l))break;a&&(i=1),l<o.childCount&&(s=1)}return null}function X7(t,e,r){let{$from:n,$to:i,depth:s}=e,o=n.before(s+1),a=i.after(s+1),l=o,u=a,c=ze.empty,h=0;for(let g=s,y=!1;g>r;g--)y||n.index(g)>0?(y=!0,c=ze.from(n.node(g).copy(c)),h++):l--;let d=ze.empty,f=0;for(let g=s,y=!1;g>r;g--)y||i.after(g+1)<i.end(g)?(y=!0,d=ze.from(i.node(g).copy(d)),f++):u++;t.step(new Qr(l,u,o,a,new Ge(c.append(d),h,f),c.size-h,!0))}function e5(t,e,r=null,n=t){let i=Z7(t,e),s=i&&Q7(n,e);return s?i.map(xS).concat({type:e,attrs:r}).concat(s.map(xS)):null}function xS(t){return{type:t,attrs:null}}function Z7(t,e){let{parent:r,startIndex:n,endIndex:i}=t,s=r.contentMatchAt(n).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return r.canReplaceWith(n,i,o)?s:null}function Q7(t,e){let{parent:r,startIndex:n,endIndex:i}=t,s=r.child(n),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let u=n;l&&u<i;u++)l=l.matchType(r.child(u).type);return!l||!l.validEnd?null:o}function eI(t,e,r){let n=ze.empty;for(let o=r.length-1;o>=0;o--){if(n.size){let a=r[o].type.contentMatch.matchFragment(n);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=ze.from(r[o].type.create(r[o].attrs,n))}let i=e.start,s=e.end;t.step(new Qr(i,s,i,s,new Ge(n,0,0),r.length,!0))}function tI(t,e,r,n,i){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,r,(o,a)=>{let l=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(n,l)&&rI(t.doc,t.mapping.slice(s).map(a),n)){let u=null;if(n.schema.linebreakReplacement){let f=n.whitespace=="pre",g=!!n.contentMatch.matchType(n.schema.linebreakReplacement);f&&!g?u=!1:!f&&g&&(u=!0)}u===!1&&KE(t,o,a,s),Qw(t,t.mapping.slice(s).map(a,1),n,void 0,u===null);let c=t.mapping.slice(s),h=c.map(a,1),d=c.map(a+o.nodeSize,1);return t.step(new Qr(h,d,h+1,d-1,new Ge(ze.from(n.create(l,null,o.marks)),0,0),1,!0)),u===!0&&$E(t,o,a,s),!1}})}function $E(t,e,r,n){e.forEach((i,s)=>{if(i.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(i.text);){let l=t.mapping.slice(n).map(r+1+s+o.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function KE(t,e,r,n){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=t.mapping.slice(n).map(r+1+s);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function rI(t,e,r){let n=t.resolve(e),i=n.index();return n.parent.canReplaceWith(i,i+1,r)}function nI(t,e,r,n,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");r||(r=s.type);let o=r.create(n,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,o);if(!r.validContent(s.content))throw new RangeError("Invalid content for node type "+r.name);t.step(new Qr(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new Ge(ze.from(o),0,0),1,!0))}function bo(t,e,r=1,n){let i=t.resolve(e),s=i.depth-r,o=n&&n[n.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,c=r-2;u>s;u--,c--){let h=i.node(u),d=i.index(u);if(h.type.spec.isolating)return!1;let f=h.content.cutByIndex(d,h.childCount),g=n&&n[c+1];g&&(f=f.replaceChild(0,g.type.create(g.attrs)));let y=n&&n[c]||h;if(!h.canReplace(d+1,h.childCount)||!y.type.validContent(f))return!1}let a=i.indexAfter(s),l=n&&n[0];return i.node(s).canReplaceWith(a,a,l?l.type:i.node(s+1).type)}function iI(t,e,r=1,n){let i=t.doc.resolve(e),s=ze.empty,o=ze.empty;for(let a=i.depth,l=i.depth-r,u=r-1;a>l;a--,u--){s=ze.from(i.node(a).copy(s));let c=n&&n[u];o=ze.from(c?c.type.create(c.attrs,o):i.node(a).copy(o))}t.step(new Xr(e,e,new Ge(s.append(o),r,r),!0))}function Ra(t,e){let r=t.resolve(e),n=r.index();return GE(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function sI(t,e){e.content.size||t.type.compatibleContent(e.type);let r=t.contentMatchAt(t.childCount),{linebreakReplacement:n}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),o=s.type==n?t.type.schema.nodes.text:s.type;if(r=r.matchType(o),!r||!t.type.allowsMarks(s.marks))return!1}return r.validEnd}function GE(t,e){return!!(t&&e&&!t.isLeaf&&sI(t,e))}function Zm(t,e,r=-1){let n=t.resolve(e);for(let i=n.depth;;i--){let s,o,a=n.index(i);if(i==n.depth?(s=n.nodeBefore,o=n.nodeAfter):r>0?(s=n.node(i+1),a++,o=n.node(i).maybeChild(a)):(s=n.node(i).maybeChild(a-1),o=n.node(i+1)),s&&!s.isTextblock&&GE(s,o)&&n.node(i).canReplace(a,a+1))return e;if(i==0)break;e=r<0?n.before(i):n.after(i)}}function oI(t,e,r){let n=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-r),o=s.node().type;if(i&&o.inlineContent){let c=o.whitespace=="pre",h=!!o.contentMatch.matchType(i);c&&!h?n=!1:!c&&h&&(n=!0)}let a=t.steps.length;if(n===!1){let c=t.doc.resolve(e+r);KE(t,c.node(),c.before(),a)}o.inlineContent&&Qw(t,e+r-1,o,s.node().contentMatchAt(s.index()),n==null);let l=t.mapping.slice(a),u=l.map(e-r);if(t.step(new Xr(u,l.map(e+r,-1),Ge.empty,!0)),n===!0){let c=t.doc.resolve(u);$E(t,c.node(),c.before(),t.steps.length)}return t}function aI(t,e,r){let n=t.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),r))return e;if(n.parentOffset==0)for(let i=n.depth-1;i>=0;i--){let s=n.index(i);if(n.node(i).canReplaceWith(s,s,r))return n.before(i+1);if(s>0)return null}if(n.parentOffset==n.parent.content.size)for(let i=n.depth-1;i>=0;i--){let s=n.indexAfter(i);if(n.node(i).canReplaceWith(s,s,r))return n.after(i+1);if(s<n.node(i).childCount)return null}return null}function JE(t,e,r){let n=t.resolve(e);if(!r.content.size)return e;let i=r.content;for(let s=0;s<r.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(r.openStart==0&&r.size?2:1);s++)for(let o=n.depth;o>=0;o--){let a=o==n.depth?0:n.pos<=(n.start(o+1)+n.end(o+1))/2?-1:1,l=n.index(o)+(a>0?1:0),u=n.node(o),c=!1;if(s==1)c=u.canReplace(l,l,i);else{let h=u.contentMatchAt(l).findWrapping(i.firstChild.type);c=h&&u.canReplaceWith(l,l,h[0])}if(c)return a==0?n.pos:a<0?n.before(o+1):n.after(o+1)}return null}function Qm(t,e,r=e,n=Ge.empty){if(e==r&&!n.size)return null;let i=t.resolve(e),s=t.resolve(r);return YE(i,s,n)?new Xr(e,r,n):new lI(i,s,n).fit()}function YE(t,e,r){return!r.openStart&&!r.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),r.content)}class lI{constructor(e,r,n){this.$from=e,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=ze.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=ze.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,i=this.close(e<0?this.$to:n.doc.resolve(e));if(!i)return null;let s=this.placed,o=n.depth,a=i.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let l=new Ge(s,o,a);return e>-1?new Qr(n.pos,e,this.$to.pos,this.$to.end(),l,r):l.size||n.pos!=this.$to.pos?new Xr(n.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let r=this.unplaced.content,n=0,i=this.unplaced.openEnd;n<e;n++){let s=r.firstChild;if(r.childCount>1&&(i=0),s.type.spec.isolating&&i<=n){e=n;break}r=s.content}for(let r=1;r<=2;r++)for(let n=r==1?e:this.unplaced.openStart;n>=0;n--){let i,s=null;n?(s=R1(this.unplaced.content,n-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:u}=this.frontier[a],c,h=null;if(r==1&&(o?u.matchType(o.type)||(h=u.fillBefore(ze.from(o),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:n,frontierDepth:a,parent:s,inject:h};if(r==2&&o&&(c=u.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:a,parent:s,wrap:c};if(s&&u.matchType(s.type))break}}}openMore(){let{content:e,openStart:r,openEnd:n}=this.unplaced,i=R1(e,r);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Ge(e,r+1,Math.max(n,i.size+r>=e.size-n?r+1:0)),!0)}dropNode(){let{content:e,openStart:r,openEnd:n}=this.unplaced,i=R1(e,r);if(i.childCount<=1&&r>0){let s=e.size-r<=r+i.size;this.unplaced=new Ge(Nf(e,r-1,1),r-1,s?r-1:n)}else this.unplaced=new Ge(Nf(e,r,1),r,n)}placeNodes({sliceDepth:e,frontierDepth:r,parent:n,inject:i,wrap:s}){for(;this.depth>r;)this.closeFrontierNode();if(s)for(let y=0;y<s.length;y++)this.openFrontierNode(s[y]);let o=this.unplaced,a=n?n.content:o.content,l=o.openStart-e,u=0,c=[],{match:h,type:d}=this.frontier[r];if(i){for(let y=0;y<i.childCount;y++)c.push(i.child(y));h=h.matchFragment(i)}let f=a.size+e-(o.content.size-o.openEnd);for(;u<a.childCount;){let y=a.child(u),x=h.matchType(y.type);if(!x)break;u++,(u>1||l==0||y.content.size)&&(h=x,c.push(XE(y.mark(d.allowedMarks(y.marks)),u==1?l:0,u==a.childCount?f:-1)))}let g=u==a.childCount;g||(f=-1),this.placed=Cf(this.placed,r,ze.from(c)),this.frontier[r].match=h,g&&f<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let y=0,x=a;y<f;y++){let p=x.lastChild;this.frontier.push({type:p.type,match:p.contentMatchAt(p.childCount)}),x=p.content}this.unplaced=g?e==0?Ge.empty:new Ge(Nf(o.content,e-1,1),e-1,f<0?o.openEnd:e-1):new Ge(Nf(o.content,e,u),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],r;if(!e.type.isTextblock||!I1(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:n}=this.$to,i=this.$to.after(n);for(;n>1&&i==this.$to.end(--n);)++i;return i}findCloseLevel(e){e:for(let r=Math.min(this.depth,e.depth);r>=0;r--){let{match:n,type:i}=this.frontier[r],s=r<e.depth&&e.end(r+1)==e.pos+(e.depth-(r+1)),o=I1(e,r,i,n,s);if(o){for(let a=r-1;a>=0;a--){let{match:l,type:u}=this.frontier[a],c=I1(e,a,u,l,!0);if(!c||c.childCount)continue e}return{depth:r,fit:o,move:s?e.doc.resolve(e.after(r+1)):e}}}}close(e){let r=this.findCloseLevel(e);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=Cf(this.placed,r.depth,r.fit)),e=r.move;for(let n=r.depth+1;n<=e.depth;n++){let i=e.node(n),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(n));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,r=null,n){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Cf(this.placed,this.depth,ze.from(e.create(r,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(ze.empty,!0);r.childCount&&(this.placed=Cf(this.placed,this.frontier.length,r))}}function Nf(t,e,r){return e==0?t.cutByIndex(r,t.childCount):t.replaceChild(0,t.firstChild.copy(Nf(t.firstChild.content,e-1,r)))}function Cf(t,e,r){return e==0?t.append(r):t.replaceChild(t.childCount-1,t.lastChild.copy(Cf(t.lastChild.content,e-1,r)))}function R1(t,e){for(let r=0;r<e;r++)t=t.firstChild.content;return t}function XE(t,e,r){if(e<=0)return t;let n=t.content;return e>1&&(n=n.replaceChild(0,XE(n.firstChild,e-1,n.childCount==1?r-1:0))),e>0&&(n=t.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(t.type.contentMatch.matchFragment(n).fillBefore(ze.empty,!0)))),t.copy(n)}function I1(t,e,r,n,i){let s=t.node(e),o=i?t.indexAfter(e):t.index(e);if(o==s.childCount&&!r.compatibleContent(s.type))return null;let a=n.fillBefore(s.content,!0,o);return a&&!uI(r,s.content,o)?a:null}function uI(t,e,r){for(let n=r;n<e.childCount;n++)if(!t.allowsMarks(e.child(n).marks))return!0;return!1}function cI(t){return t.spec.defining||t.spec.definingForContent}function fI(t,e,r,n){if(!n.size)return t.deleteRange(e,r);let i=t.doc.resolve(e),s=t.doc.resolve(r);if(YE(i,s,n))return t.step(new Xr(e,r,n));let o=QE(i,s);o[o.length-1]==0&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let d=i.depth,f=i.pos-1;d>0;d--,f--){let g=i.node(d).type.spec;if(g.defining||g.definingAsContext||g.isolating)break;o.indexOf(d)>-1?a=d:i.before(d)==f&&o.splice(1,0,-d)}let l=o.indexOf(a),u=[],c=n.openStart;for(let d=n.content,f=0;;f++){let g=d.firstChild;if(u.push(g),f==n.openStart)break;d=g.content}for(let d=c-1;d>=0;d--){let f=u[d],g=cI(f.type);if(g&&!f.sameMarkup(i.node(Math.abs(a)-1)))c=d;else if(g||!f.type.isTextblock)break}for(let d=n.openStart;d>=0;d--){let f=(d+c+1)%(n.openStart+1),g=u[f];if(g)for(let y=0;y<o.length;y++){let x=o[(y+l)%o.length],p=!0;x<0&&(p=!1,x=-x);let v=i.node(x-1),b=i.index(x-1);if(v.canReplaceWith(b,b,g.type,g.marks))return t.replace(i.before(x),p?s.after(x):r,new Ge(ZE(n.content,0,n.openStart,f),f,n.openEnd))}}let h=t.steps.length;for(let d=o.length-1;d>=0&&(t.replace(e,r,n),!(t.steps.length>h));d--){let f=o[d];f<0||(e=i.before(f),r=s.after(f))}}function ZE(t,e,r,n,i){if(e<r){let s=t.firstChild;t=t.replaceChild(0,s.copy(ZE(s.content,e+1,r,n,s)))}if(e>n){let s=i.contentMatchAt(0),o=s.fillBefore(t).append(t);t=o.append(s.matchFragment(o).fillBefore(ze.empty,!0))}return t}function hI(t,e,r,n){if(!n.isInline&&e==r&&t.doc.resolve(e).parent.content.size){let i=aI(t.doc,e,n.type);i!=null&&(e=r=i)}t.replaceRange(e,r,new Ge(ze.from(n),0,0))}function dI(t,e,r){let n=t.doc.resolve(e),i=t.doc.resolve(r),s=QE(n,i);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&a==0||n.node(a).type.contentMatch.validEnd)return t.delete(n.start(a),i.end(a));if(a>0&&(l||n.node(a-1).canReplace(n.index(a-1),i.indexAfter(a-1))))return t.delete(n.before(a),i.after(a))}for(let o=1;o<=n.depth&&o<=i.depth;o++)if(e-n.start(o)==n.depth-o&&r>n.end(o)&&i.end(o)-r!=i.depth-o&&n.start(o-1)==i.start(o-1)&&n.node(o-1).canReplace(n.index(o-1),i.index(o-1)))return t.delete(n.before(o),r);t.delete(e,r)}function QE(t,e){let r=[],n=Math.min(t.depth,e.depth);for(let i=n;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&r.push(i)}return r}class $u extends On{constructor(e,r,n){super(),this.pos=e,this.attr=r,this.value=n}apply(e){let r=e.nodeAt(this.pos);if(!r)return Fr.fail("No node at attribute step's position");let n=Object.create(null);for(let s in r.attrs)n[s]=r.attrs[s];n[this.attr]=this.value;let i=r.type.create(n,null,r.marks);return Fr.fromReplace(e,this.pos,this.pos+1,new Ge(ze.from(i),0,r.isLeaf?0:1))}getMap(){return ui.empty}invert(e){return new $u(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new $u(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new $u(r.pos,r.attr,r.value)}}On.jsonID("attr",$u);class gh extends On{constructor(e,r){super(),this.attr=e,this.value=r}apply(e){let r=Object.create(null);for(let i in e.attrs)r[i]=e.attrs[i];r[this.attr]=this.value;let n=e.type.create(r,e.content,e.marks);return Fr.ok(n)}getMap(){return ui.empty}invert(e){return new gh(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new gh(r.attr,r.value)}}On.jsonID("docAttr",gh);let uc=class extends Error{};uc=function t(e){let r=Error.call(this,e);return r.__proto__=t.prototype,r};uc.prototype=Object.create(Error.prototype);uc.prototype.constructor=uc;uc.prototype.name="TransformError";class pI{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new mh}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let r=this.maybeStep(e);if(r.failed)throw new uc(r.failed);return this}maybeStep(e){let r=e.apply(this.doc);return r.failed||this.addStep(e,r.doc),r}get docChanged(){return this.steps.length>0}changedRange(){let e=1e9,r=-1e9;for(let n=0;n<this.mapping.maps.length;n++){let i=this.mapping.maps[n];n&&(e=i.map(e,1),r=i.map(r,-1)),i.forEach((s,o,a,l)=>{e=Math.min(e,a),r=Math.max(r,l)})}return e==1e9?null:{from:e,to:r}}addStep(e,r){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=r}replace(e,r=e,n=Ge.empty){let i=Qm(this.doc,e,r,n);return i&&this.step(i),this}replaceWith(e,r,n){return this.replace(e,r,new Ge(ze.from(n),0,0))}delete(e,r){return this.replace(e,r,Ge.empty)}insert(e,r){return this.replaceWith(e,e,r)}replaceRange(e,r,n){return fI(this,e,r,n),this}replaceRangeWith(e,r,n){return hI(this,e,r,n),this}deleteRange(e,r){return dI(this,e,r),this}lift(e,r){return X7(this,e,r),this}join(e,r=1){return oI(this,e,r),this}wrap(e,r){return eI(this,e,r),this}setBlockType(e,r=e,n,i=null){return tI(this,e,r,n,i),this}setNodeMarkup(e,r,n=null,i){return nI(this,e,r,n,i),this}setNodeAttribute(e,r,n){return this.step(new $u(e,r,n)),this}setDocAttribute(e,r){return this.step(new gh(e,r)),this}addNodeMark(e,r){return this.step(new la(e,r)),this}removeNodeMark(e,r){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(r instanceof Qt)r.isInSet(n.marks)&&this.step(new Ml(e,r));else{let i=n.marks,s,o=[];for(;s=r.isInSet(i);)o.push(new Ml(e,s)),i=s.removeFromSet(i);for(let a=o.length-1;a>=0;a--)this.step(o[a])}return this}split(e,r=1,n){return iI(this,e,r,n),this}addMark(e,r,n){return G7(this,e,r,n),this}removeMark(e,r,n){return J7(this,e,r,n),this}clearIncompatible(e,r,n){return Qw(this,e,r,n),this}}const M1=Object.create(null);class Ct{constructor(e,r,n){this.$anchor=e,this.$head=r,this.ranges=n||[new mI(e.min(r),e.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let r=0;r<e.length;r++)if(e[r].$from.pos!=e[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,r=Ge.empty){let n=r.content.lastChild,i=null;for(let a=0;a<r.openEnd;a++)i=n,n=n.lastChild;let s=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:u}=o[a],c=e.mapping.slice(s);e.replaceRange(c.map(l.pos),c.map(u.pos),a?Ge.empty:r),a==0&&_S(e,s,(n?n.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,r){let n=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],l=e.mapping.slice(n),u=l.map(o.pos),c=l.map(a.pos);s?e.deleteRange(u,c):(e.replaceRangeWith(u,c,r),_S(e,n,r.isInline?-1:1))}}static findFrom(e,r,n=!1){let i=e.parent.inlineContent?new wt(e):bu(e.node(0),e.parent,e.pos,e.index(),r,n);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=r<0?bu(e.node(0),e.node(s),e.before(s+1),e.index(s),r,n):bu(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,r,n);if(o)return o}return null}static near(e,r=1){return this.findFrom(e,r)||this.findFrom(e,-r)||new pi(e.node(0))}static atStart(e){return bu(e,e,0,0,1)||new pi(e)}static atEnd(e){return bu(e,e,e.content.size,e.childCount,-1)||new pi(e)}static fromJSON(e,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=M1[r.type];if(!n)throw new RangeError(`No selection type ${r.type} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in M1)throw new RangeError("Duplicate use of selection JSON ID "+e);return M1[e]=r,r.prototype.jsonID=e,r}getBookmark(){return wt.between(this.$anchor,this.$head).getBookmark()}}Ct.prototype.visible=!0;class mI{constructor(e,r){this.$from=e,this.$to=r}}let SS=!1;function kS(t){!SS&&!t.parent.inlineContent&&(SS=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class wt extends Ct{constructor(e,r=e){kS(e),kS(r),super(e,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,r){let n=e.resolve(r.map(this.head));if(!n.parent.inlineContent)return Ct.near(n);let i=e.resolve(r.map(this.anchor));return new wt(i.parent.inlineContent?i:n,n)}replace(e,r=Ge.empty){if(super.replace(e,r),r==Ge.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof wt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new eg(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new wt(e.resolve(r.anchor),e.resolve(r.head))}static create(e,r,n=r){let i=e.resolve(r);return new this(i,n==r?i:e.resolve(n))}static between(e,r,n){let i=e.pos-r.pos;if((!n||i)&&(n=i>=0?1:-1),!r.parent.inlineContent){let s=Ct.findFrom(r,n,!0)||Ct.findFrom(r,-n,!0);if(s)r=s.$head;else return Ct.near(r,n)}return e.parent.inlineContent||(i==0?e=r:(e=(Ct.findFrom(e,-n,!0)||Ct.findFrom(e,n,!0)).$anchor,e.pos<r.pos!=i<0&&(e=r))),new wt(e,r)}}Ct.jsonID("text",wt);class eg{constructor(e,r){this.anchor=e,this.head=r}map(e){return new eg(e.map(this.anchor),e.map(this.head))}resolve(e){return wt.between(e.resolve(this.anchor),e.resolve(this.head))}}class ut extends Ct{constructor(e){let r=e.nodeAfter,n=e.node(0).resolve(e.pos+r.nodeSize);super(e,n),this.node=r}map(e,r){let{deleted:n,pos:i}=r.mapResult(this.anchor),s=e.resolve(i);return n?Ct.near(s):new ut(s)}content(){return new Ge(ze.from(this.node),0,0)}eq(e){return e instanceof ut&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new t5(this.anchor)}static fromJSON(e,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ut(e.resolve(r.anchor))}static create(e,r){return new ut(e.resolve(r))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ut.prototype.visible=!1;Ct.jsonID("node",ut);class t5{constructor(e){this.anchor=e}map(e){let{deleted:r,pos:n}=e.mapResult(this.anchor);return r?new eg(n,n):new t5(n)}resolve(e){let r=e.resolve(this.anchor),n=r.nodeAfter;return n&&ut.isSelectable(n)?new ut(r):Ct.near(r)}}class pi extends Ct{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,r=Ge.empty){if(r==Ge.empty){e.delete(0,e.doc.content.size);let n=Ct.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,r)}toJSON(){return{type:"all"}}static fromJSON(e){return new pi(e)}map(e){return new pi(e)}eq(e){return e instanceof pi}getBookmark(){return gI}}Ct.jsonID("all",pi);const gI={map(){return this},resolve(t){return new pi(t)}};function bu(t,e,r,n,i,s=!1){if(e.inlineContent)return wt.create(t,r);for(let o=n-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let a=e.child(o);if(a.isAtom){if(!s&&ut.isSelectable(a))return ut.create(t,r-(i<0?a.nodeSize:0))}else{let l=bu(t,a,r+i,i<0?a.childCount:0,i,s);if(l)return l}r+=a.nodeSize*i}return null}function _S(t,e,r){let n=t.steps.length-1;if(n<e)return;let i=t.steps[n];if(!(i instanceof Xr||i instanceof Qr))return;let s=t.mapping.maps[n],o;s.forEach((a,l,u,c)=>{o==null&&(o=c)}),t.setSelection(Ct.near(t.doc.resolve(o),r))}const AS=1,qd=2,ES=4;class yI extends pI{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|AS)&~qd,this.storedMarks=null,this}get selectionSet(){return(this.updated&AS)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=qd,this}ensureMarks(e){return Qt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&qd)>0}addStep(e,r){super.addStep(e,r),this.updated=this.updated&~qd,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,r=!0){let n=this.selection;return r&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||Qt.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,r,n){let i=this.doc.type.schema;if(r==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(n==null&&(n=r),!e)return this.deleteRange(r,n);let s=this.storedMarks;if(!s){let o=this.doc.resolve(r);s=n==r?o.marks():o.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(r,n,i.text(e,s)),!this.selection.empty&&this.selection.to==r+e.length&&this.setSelection(Ct.near(this.selection.$to)),this}}setMeta(e,r){return this.meta[typeof e=="string"?e:e.key]=r,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=ES,this}get scrolledIntoView(){return(this.updated&ES)>0}}function NS(t,e){return!e||!t?t:t.bind(e)}class Tf{constructor(e,r,n){this.name=e,this.init=NS(r.init,n),this.apply=NS(r.apply,n)}}const vI=[new Tf("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Tf("selection",{init(t,e){return t.selection||Ct.atStart(e.doc)},apply(t){return t.selection}}),new Tf("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,r,n){return n.selection.$cursor?t.storedMarks:null}}),new Tf("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class D1{constructor(e,r){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=vI.slice(),r&&r.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new Tf(n.key,n.spec.state,n))})}}class Fu{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let i=this.config.plugins[n];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let r=[e],n=this.applyInner(e),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=i?i[o].n:0,u=i?i[o].state:this,c=l<r.length&&a.spec.appendTransaction.call(a,l?r.slice(l):r,u,n);if(c&&n.filterTransaction(c,o)){if(c.setMeta("appendedTransaction",e),!i){i=[];for(let h=0;h<this.config.plugins.length;h++)i.push(h<o?{state:n,n:r.length}:{state:this,n:0})}r.push(c),n=n.applyInner(c),s=!0}i&&(i[o]={state:n,n:r.length})}}if(!s)return{state:n,transactions:r}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new Fu(this.config),n=this.config.fields;for(let i=0;i<n.length;i++){let s=n[i];r[s.name]=s.apply(e,this[s.name],this,r)}return r}get tr(){return new yI(this)}static create(e){let r=new D1(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new Fu(r);for(let i=0;i<r.fields.length;i++)n[r.fields[i].name]=r.fields[i].init(e,n);return n}reconfigure(e){let r=new D1(this.schema,e.plugins),n=r.fields,i=new Fu(r);for(let s=0;s<n.length;s++){let o=n[s].name;i[o]=this.hasOwnProperty(o)?this[o]:n[s].init(e,i)}return i}toJSON(e){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[n],s=i.spec.state;s&&s.toJSON&&(r[n]=s.toJSON.call(i,this[i.key]))}return r}static fromJSON(e,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new D1(e.schema,e.plugins),s=new Fu(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=ba.fromJSON(e.schema,r.doc);else if(o.name=="selection")s.selection=Ct.fromJSON(s.doc,r.selection);else if(o.name=="storedMarks")r.storedMarks&&(s.storedMarks=r.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let a in n){let l=n[a],u=l.spec.state;if(l.key==o.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(r,a)){s[o.name]=u.fromJSON.call(l,e,r[a],s);return}}s[o.name]=o.init(e,s)}}),s}}function e8(t,e,r){for(let n in t){let i=t[n];i instanceof Function?i=i.bind(e):n=="handleDOMEvents"&&(i=e8(i,e,{})),r[n]=i}return r}class qn{constructor(e){this.spec=e,this.props={},e.props&&e8(e.props,this,this.props),this.key=e.key?e.key.key:t8("plugin")}getState(e){return e[this.key]}}const F1=Object.create(null);function t8(t){return t in F1?t+"$"+ ++F1[t]:(F1[t]=0,t+"$")}class ls{constructor(e="key"){this.key=t8(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const hn=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},cc=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let S2=null;const co=function(t,e,r){let n=S2||(S2=document.createRange());return n.setEnd(t,r??t.nodeValue.length),n.setStart(t,e||0),n},wI=function(){S2=null},Dl=function(t,e,r,n){return r&&(CS(t,e,r,n,-1)||CS(t,e,r,n,1))},bI=/^(img|br|input|textarea|hr)$/i;function CS(t,e,r,n,i){for(var s;;){if(t==r&&e==n)return!0;if(e==(i<0?0:Pi(t))){let o=t.parentNode;if(!o||o.nodeType!=1||Oh(t)||bI.test(t.nodeName)||t.contentEditable=="false")return!1;e=hn(t)+(i<0?0:1),t=o}else if(t.nodeType==1){let o=t.childNodes[e+(i<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((s=o.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else t=o,e=i<0?Pi(t):0}else return!1}}function Pi(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function xI(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Pi(t)}else if(t.parentNode&&!Oh(t))e=hn(t),t=t.parentNode;else return null}}function SI(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Oh(t))e=hn(t)+1,t=t.parentNode;else return null}}function kI(t,e,r){for(let n=e==0,i=e==Pi(t);n||i;){if(t==r)return!0;let s=hn(t);if(t=t.parentNode,!t)return!1;n=n&&s==0,i=i&&s==Pi(t)}}function Oh(t){let e;for(let r=t;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const tg=function(t){return t.focusNode&&Dl(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function ul(t,e){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=t,r.key=r.code=e,r}function _I(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function AI(t,e,r){if(t.caretPositionFromPoint)try{let n=t.caretPositionFromPoint(e,r);if(n)return{node:n.offsetNode,offset:Math.min(Pi(n.offsetNode),n.offset)}}catch{}if(t.caretRangeFromPoint){let n=t.caretRangeFromPoint(e,r);if(n)return{node:n.startContainer,offset:Math.min(Pi(n.startContainer),n.startOffset)}}}const Ms=typeof navigator<"u"?navigator:null,TS=typeof document<"u"?document:null,Ia=Ms&&Ms.userAgent||"",k2=/Edge\/(\d+)/.exec(Ia),r8=/MSIE \d/.exec(Ia),_2=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ia),Yn=!!(r8||_2||k2),Sa=r8?document.documentMode:_2?+_2[1]:k2?+k2[1]:0,Mi=!Yn&&/gecko\/(\d+)/i.test(Ia);Mi&&+(/Firefox\/(\d+)/.exec(Ia)||[0,0])[1];const A2=!Yn&&/Chrome\/(\d+)/.exec(Ia),pn=!!A2,n8=A2?+A2[1]:0,Tn=!Yn&&!!Ms&&/Apple Computer/.test(Ms.vendor),fc=Tn&&(/Mobile\/\w+/.test(Ia)||!!Ms&&Ms.maxTouchPoints>2),Ti=fc||(Ms?/Mac/.test(Ms.platform):!1),i8=Ms?/Win/.test(Ms.platform):!1,go=/Android \d/.test(Ia),Ph=!!TS&&"webkitFontSmoothing"in TS.documentElement.style,EI=Ph?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function NI(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function io(t,e){return typeof t=="number"?t:t[e]}function CI(t){let e=t.getBoundingClientRect(),r=e.width/t.offsetWidth||1,n=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*r,top:e.top,bottom:e.top+t.clientHeight*n}}function LS(t,e,r){let n=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let o=r||t.dom;o;){if(o.nodeType!=1){o=cc(o);continue}let a=o,l=a==s.body,u=l?NI(s):CI(a),c=0,h=0;if(e.top<u.top+io(n,"top")?h=-(u.top-e.top+io(i,"top")):e.bottom>u.bottom-io(n,"bottom")&&(h=e.bottom-e.top>u.bottom-u.top?e.top+io(i,"top")-u.top:e.bottom-u.bottom+io(i,"bottom")),e.left<u.left+io(n,"left")?c=-(u.left-e.left+io(i,"left")):e.right>u.right-io(n,"right")&&(c=e.right-u.right+io(i,"right")),c||h)if(l)s.defaultView.scrollBy(c,h);else{let f=a.scrollLeft,g=a.scrollTop;h&&(a.scrollTop+=h),c&&(a.scrollLeft+=c);let y=a.scrollLeft-f,x=a.scrollTop-g;e={left:e.left-y,top:e.top-x,right:e.right-y,bottom:e.bottom-x}}let d=l?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(d))break;o=d=="absolute"?o.offsetParent:cc(o)}}function TI(t){let e=t.dom.getBoundingClientRect(),r=Math.max(0,e.top),n,i;for(let s=(e.left+e.right)/2,o=r+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=t.root.elementFromPoint(s,o);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=r-20){n=a,i=l.top;break}}return{refDOM:n,refTop:i,stack:s8(t.dom)}}function s8(t){let e=[],r=t.ownerDocument;for(let n=t;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),t!=r);n=cc(n));return e}function LI({refDOM:t,refTop:e,stack:r}){let n=t?t.getBoundingClientRect().top:0;o8(r,n==0?0:n-e)}function o8(t,e){for(let r=0;r<t.length;r++){let{dom:n,top:i,left:s}=t[r];n.scrollTop!=i+e&&(n.scrollTop=i+e),n.scrollLeft!=s&&(n.scrollLeft=s)}}let hu=null;function OI(t){if(t.setActive)return t.setActive();if(hu)return t.focus(hu);let e=s8(t);t.focus(hu==null?{get preventScroll(){return hu={preventScroll:!0},!0}}:void 0),hu||(hu=!1,o8(e,0))}function a8(t,e){let r,n=2e8,i,s=0,o=e.top,a=e.top,l,u;for(let c=t.firstChild,h=0;c;c=c.nextSibling,h++){let d;if(c.nodeType==1)d=c.getClientRects();else if(c.nodeType==3)d=co(c).getClientRects();else continue;for(let f=0;f<d.length;f++){let g=d[f];if(g.top<=o&&g.bottom>=a){o=Math.max(g.bottom,o),a=Math.min(g.top,a);let y=g.left>e.left?g.left-e.left:g.right<e.left?e.left-g.right:0;if(y<n){r=c,n=y,i=y&&r.nodeType==3?{left:g.right<e.left?g.right:g.left,top:e.top}:e,c.nodeType==1&&y&&(s=h+(e.left>=(g.left+g.right)/2?1:0));continue}}else g.top>e.top&&!l&&g.left<=e.left&&g.right>=e.left&&(l=c,u={left:Math.max(g.left,Math.min(g.right,e.left)),top:g.top});!r&&(e.left>=g.right&&e.top>=g.top||e.left>=g.left&&e.top>=g.bottom)&&(s=h+1)}}return!r&&l&&(r=l,i=u,n=0),r&&r.nodeType==3?PI(r,i):!r||n&&r.nodeType==1?{node:t,offset:s}:a8(r,i)}function PI(t,e){let r=t.nodeValue.length,n=document.createRange(),i;for(let s=0;s<r;s++){n.setEnd(t,s+1),n.setStart(t,s);let o=Yo(n,1);if(o.top!=o.bottom&&r5(e,o)){i={node:t,offset:s+(e.left>=(o.left+o.right)/2?1:0)};break}}return n.detach(),i||{node:t,offset:0}}function r5(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function RI(t,e){let r=t.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<t.getBoundingClientRect().left?r:t}function II(t,e,r){let{node:n,offset:i}=a8(e,r),s=-1;if(n.nodeType==1&&!n.firstChild){let o=n.getBoundingClientRect();s=o.left!=o.right&&r.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(n,i,s)}function MI(t,e,r,n){let i=-1;for(let s=e,o=!1;s!=t.dom;){let a=t.docView.nearestDesc(s,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(a.dom.nodeName)&&(!o&&l.left>n.left||l.top>n.top?i=a.posBefore:(!o&&l.right<n.left||l.bottom<n.top)&&(i=a.posAfter),o=!0),!a.contentDOM&&i<0&&!a.node.isText))return(a.node.isBlock?n.top<(l.top+l.bottom)/2:n.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;s=a.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,r,-1)}function l8(t,e,r){let n=t.childNodes.length;if(n&&r.top<r.bottom)for(let i=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-r.top)/(r.bottom-r.top))-2)),s=i;;){let o=t.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let u=a[l];if(r5(e,u))return l8(o,e,u)}}if((s=(s+1)%n)==i)break}return t}function DI(t,e){let r=t.dom.ownerDocument,n,i=0,s=AI(r,e.left,e.top);s&&({node:n,offset:i}=s);let o=(t.root.elementFromPoint?t.root:r).elementFromPoint(e.left,e.top),a;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let u=t.dom.getBoundingClientRect();if(!r5(e,u)||(o=l8(t.dom,e,u),!o))return null}if(Tn)for(let u=o;n&&u;u=cc(u))u.draggable&&(n=void 0);if(o=RI(o,e),n){if(Mi&&n.nodeType==1&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let c=n.childNodes[i],h;c.nodeName=="IMG"&&(h=c.getBoundingClientRect()).right<=e.left&&h.bottom>e.top&&i++}let u;Ph&&i&&n.nodeType==1&&(u=n.childNodes[i-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&i--,n==t.dom&&i==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(i==0||n.nodeType!=1||n.childNodes[i-1].nodeName!="BR")&&(a=MI(t,n,i,e))}a==null&&(a=II(t,o,e));let l=t.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function OS(t){return t.top<t.bottom||t.left<t.right}function Yo(t,e){let r=t.getClientRects();if(r.length){let n=r[e<0?0:r.length-1];if(OS(n))return n}return Array.prototype.find.call(r,OS)||t.getBoundingClientRect()}const FI=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function u8(t,e,r){let{node:n,offset:i,atom:s}=t.docView.domFromPos(e,r<0?-1:1),o=Ph||Mi;if(n.nodeType==3)if(o&&(FI.test(n.nodeValue)||(r<0?!i:i==n.nodeValue.length))){let l=Yo(co(n,i,i),r);if(Mi&&i&&/\s/.test(n.nodeValue[i-1])&&i<n.nodeValue.length){let u=Yo(co(n,i-1,i-1),-1);if(u.top==l.top){let c=Yo(co(n,i,i+1),-1);if(c.top!=l.top)return mf(c,c.left<u.left)}}return l}else{let l=i,u=i,c=r<0?1:-1;return r<0&&!i?(u++,c=-1):r>=0&&i==n.nodeValue.length?(l--,c=1):r<0?l--:u++,mf(Yo(co(n,l,u),c),c<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(r<0||i==Pi(n))){let l=n.childNodes[i-1];if(l.nodeType==1)return B1(l.getBoundingClientRect(),!1)}if(s==null&&i<Pi(n)){let l=n.childNodes[i];if(l.nodeType==1)return B1(l.getBoundingClientRect(),!0)}return B1(n.getBoundingClientRect(),r>=0)}if(s==null&&i&&(r<0||i==Pi(n))){let l=n.childNodes[i-1],u=l.nodeType==3?co(l,Pi(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return mf(Yo(u,1),!1)}if(s==null&&i<Pi(n)){let l=n.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?co(l,0,o?0:1):l.nodeType==1?l:null:null;if(u)return mf(Yo(u,-1),!0)}return mf(Yo(n.nodeType==3?co(n):n,-r),r>=0)}function mf(t,e){if(t.width==0)return t;let r=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:r,right:r}}function B1(t,e){if(t.height==0)return t;let r=e?t.top:t.bottom;return{top:r,bottom:r,left:t.left,right:t.right}}function c8(t,e,r){let n=t.state,i=t.root.activeElement;n!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return r()}finally{n!=e&&t.updateState(n),i!=t.dom&&i&&i.focus()}}function BI(t,e,r){let n=e.selection,i=r=="up"?n.$from:n.$to;return c8(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,r=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=u8(t,i.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=co(a,0,a.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let c=l[u];if(c.bottom>c.top+1&&(r=="up"?o.top-c.top>(c.bottom-o.top)*2:c.bottom-o.bottom>(o.bottom-c.top)*2))return!1}}return!0})}const jI=/[\u0590-\u08ac]/;function zI(t,e,r){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let i=n.parentOffset,s=!i,o=i==n.parent.content.size,a=t.domSelection();return a?!jI.test(n.parent.textContent)||!a.modify?r=="left"||r=="backward"?s:o:c8(t,e,()=>{let{focusNode:l,focusOffset:u,anchorNode:c,anchorOffset:h}=t.domSelectionRange(),d=a.caretBidiLevel;a.modify("move",r,"character");let f=n.depth?t.docView.domAfterPos(n.before()):t.dom,{focusNode:g,focusOffset:y}=t.domSelectionRange(),x=g&&!f.contains(g.nodeType==1?g:g.parentNode)||l==g&&u==y;try{a.collapse(c,h),l&&(l!=c||u!=h)&&a.extend&&a.extend(l,u)}catch{}return d!=null&&(a.caretBidiLevel=d),x}):n.pos==n.start()||n.pos==n.end()}let PS=null,RS=null,IS=!1;function UI(t,e,r){return PS==e&&RS==r?IS:(PS=e,RS=r,IS=r=="up"||r=="down"?BI(t,e,r):zI(t,e,r))}const Di=0,MS=1,ml=2,Ds=3;class Rh{constructor(e,r,n,i){this.parent=e,this.children=r,this.dom=n,this.contentDOM=i,this.dirty=Di,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,r,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let r=0;r<this.children.length;r++)e+=this.children[r].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let r=0,n=this.posAtStart;;r++){let i=this.children[r];if(i==e)return n;n+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,r,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let s,o;if(e==this.contentDOM)s=e.childNodes[r-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[r];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=r>hn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&r==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,r=!1){for(let n=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!r||s.node))if(n&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))n=!1;else return s}}getDesc(e){let r=e.pmViewDesc;for(let n=r;n;n=n.parent)if(n==this)return r}posFromDOM(e,r,n){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,r,n)}return-1}descAt(e){for(let r=0,n=0;r<this.children.length;r++){let i=this.children[r],s=n+i.size;if(n==e&&s!=n){for(;!i.border&&i.children.length;)for(let o=0;o<i.children.length;o++){let a=i.children[o];if(a.size){i=a;break}}return i}if(e<s)return i.descAt(e-n-i.border);n=s}}domFromPos(e,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,i=0;for(let s=0;n<this.children.length;n++){let o=this.children[n],a=s+o.size;if(a>e||o instanceof h8){i=e-s;break}s=a}if(i)return this.children[n].domFromPos(i-this.children[n].border,r);for(let s;n&&!(s=this.children[n-1]).size&&s instanceof f8&&s.side>=0;n--);if(r<=0){let s,o=!0;for(;s=n?this.children[n-1]:null,!(!s||s.dom.parentNode==this.contentDOM);n--,o=!1);return s&&r&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,r):{node:this.contentDOM,offset:s?hn(s.dom)+1:0}}else{let s,o=!0;for(;s=n<this.children.length?this.children[n]:null,!(!s||s.dom.parentNode==this.contentDOM);n++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,r):{node:this.contentDOM,offset:s?hn(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,r,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=n,a=0;;a++){let l=this.children[a],u=o+l.size;if(i==-1&&e<=u){let c=o+l.border;if(e>=c&&r<=u-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,r,c);e=o;for(let h=a;h>0;h--){let d=this.children[h-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){i=hn(d.dom)+1;break}e-=d.size}i==-1&&(i=0)}if(i>-1&&(u>r||a==this.children.length-1)){r=u;for(let c=a+1;c<this.children.length;c++){let h=this.children[c];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){s=hn(h.dom);break}r+=h.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=u}return{node:this.contentDOM,from:e,to:r,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[e<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(e)}domAfterPos(e){let{node:r,offset:n}=this.domFromPos(e,0);if(r.nodeType!=1||n==r.childNodes.length)throw new RangeError("No node after pos "+e);return r.childNodes[n]}setSelection(e,r,n,i=!1){let s=Math.min(e,r),o=Math.max(e,r);for(let f=0,g=0;f<this.children.length;f++){let y=this.children[f],x=g+y.size;if(s>g&&o<x)return y.setSelection(e-g-y.border,r-g-y.border,n,i);g=x}let a=this.domFromPos(e,e?-1:1),l=r==e?a:this.domFromPos(r,r?-1:1),u=n.root.getSelection(),c=n.domSelectionRange(),h=!1;if((Mi||Tn)&&e==r){let{node:f,offset:g}=a;if(f.nodeType==3){if(h=!!(g&&f.nodeValue[g-1]==`
`),h&&g==f.nodeValue.length)for(let y=f,x;y;y=y.parentNode){if(x=y.nextSibling){x.nodeName=="BR"&&(a=l={node:x.parentNode,offset:hn(x)+1});break}let p=y.pmViewDesc;if(p&&p.node&&p.node.isBlock)break}}else{let y=f.childNodes[g-1];h=y&&(y.nodeName=="BR"||y.contentEditable=="false")}}if(Mi&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let f=c.focusNode.childNodes[c.focusOffset];f&&f.contentEditable=="false"&&(i=!0)}if(!(i||h&&Tn)&&Dl(a.node,a.offset,c.anchorNode,c.anchorOffset)&&Dl(l.node,l.offset,c.focusNode,c.focusOffset))return;let d=!1;if((u.extend||e==r)&&!(h&&Mi)){u.collapse(a.node,a.offset);try{e!=r&&u.extend(l.node,l.offset),d=!0}catch{}}if(!d){if(e>r){let g=a;a=l,l=g}let f=document.createRange();f.setEnd(l.node,l.offset),f.setStart(a.node,a.offset),u.removeAllRanges(),u.addRange(f)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,r){for(let n=0,i=0;i<this.children.length;i++){let s=this.children[i],o=n+s.size;if(n==o?e<=o&&r>=n:e<o&&r>n){let a=n+s.border,l=o-s.border;if(e>=a&&r<=l){this.dirty=e==n||r==o?ml:MS,e==a&&r==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Ds:s.markDirty(e-a,r-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?ml:Ds}n=o}this.dirty=ml}markParentsDirty(){let e=1;for(let r=this.parent;r;r=r.parent,e++){let n=e==1?ml:MS;r.dirty<n&&(r.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class f8 extends Rh{constructor(e,r,n,i){let s,o=r.type.toDOM;if(typeof o=="function"&&(o=o(n,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!r.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=r,this.widget=r,s=this}matchesWidget(e){return this.dirty==Di&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let r=this.widget.spec.stopEvent;return r?r(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class qI extends Rh{constructor(e,r,n,i){super(e,[],r,null),this.textDOM=n,this.text=i}get size(){return this.text.length}localPosFromDOM(e,r){return e!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Fl extends Rh{constructor(e,r,n,i,s){super(e,[],n,i),this.mark=r,this.spec=s}static create(e,r,n,i){let s=i.nodeViews[r.type.name],o=s&&s(r,i,n);return(!o||!o.dom)&&(o=Wl.renderSpec(document,r.type.spec.toDOM(r,n),null,r.attrs)),new Fl(e,r,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&Ds||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Ds&&this.mark.eq(e)}markDirty(e,r){if(super.markDirty(e,r),this.dirty!=Di){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=Di}}slice(e,r,n){let i=Fl.create(this.parent,this.mark,!0,n),s=this.children,o=this.size;r<o&&(s=N2(s,r,o,n)),e>0&&(s=N2(s,0,e,n));for(let a=0;a<s.length;a++)s[a].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class ka extends Rh{constructor(e,r,n,i,s,o,a,l,u){super(e,[],s,o),this.node=r,this.outerDeco=n,this.innerDeco=i,this.nodeDOM=a}static create(e,r,n,i,s,o){let a=s.nodeViews[r.type.name],l,u=a&&a(r,s,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},n,i),c=u&&u.dom,h=u&&u.contentDOM;if(r.isText){if(!c)c=document.createTextNode(r.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:h}=Wl.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!h&&!r.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),r.type.spec.draggable&&(c.draggable=!0));let d=c;return c=m8(c,n,r),u?l=new WI(e,r,n,i,c,h||null,d,u,s,o+1):r.isText?new rg(e,r,n,i,c,d,s):new ka(e,r,n,i,c,h||null,d,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ze.empty)}return e}matchesNode(e,r,n){return this.dirty==Di&&e.eq(this.node)&&ym(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,r){let n=this.node.inlineContent,i=r,s=e.composing?this.localCompositionInfo(e,r):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new VI(this,o&&o.node,e);GI(this.node,this.innerDeco,(u,c,h)=>{u.spec.marks?l.syncToMarks(u.spec.marks,n,e,c):u.type.side>=0&&!h&&l.syncToMarks(c==this.node.childCount?Qt.none:this.node.child(c).marks,n,e,c),l.placeWidget(u,e,i)},(u,c,h,d)=>{l.syncToMarks(u.marks,n,e,d);let f;l.findNodeMatch(u,c,h,d)||a&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(f=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(u,c,h,f,e)||l.updateNextNode(u,c,h,e,d,i)||l.addNode(u,c,h,e,i),i+=u.nodeSize}),l.syncToMarks([],n,e,0),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==ml)&&(o&&this.protectLocalComposition(e,o),d8(this.contentDOM,this.children,e),fc&&JI(this.dom))}localCompositionInfo(e,r){let{from:n,to:i}=e.state.selection;if(!(e.state.selection instanceof wt)||n<r||i>r+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,a=YI(this.node.content,o,n-r,i-r);return a<0?null:{node:s,pos:a,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:r,pos:n,text:i}){if(this.getDesc(r))return;let s=r;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new qI(this,s,r,i);e.input.compositionNodes.push(o),this.children=N2(this.children,n,n+i.length,e,o)}update(e,r,n,i){return this.dirty==Ds||!e.sameMarkup(this.node)?!1:(this.updateInner(e,r,n,i),!0)}updateInner(e,r,n,i){this.updateOuterDeco(r),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Di}updateOuterDeco(e){if(ym(e,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=p8(this.dom,this.nodeDOM,E2(this.outerDeco,this.node,r),E2(e,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function DS(t,e,r,n,i){m8(n,e,t);let s=new ka(void 0,t,e,r,n,n,n,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class rg extends ka{constructor(e,r,n,i,s,o,a){super(e,r,n,i,s,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,r,n,i){return this.dirty==Ds||this.dirty!=Di&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=Di||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Di,!0)}inParent(){let e=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,r,n){return e==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(e,r,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,r,n){let i=this.node.cut(e,r),s=document.createTextNode(i.text);return new rg(this.parent,i,this.outerDeco,this.innerDeco,s,s,n)}markDirty(e,r){super.markDirty(e,r),this.dom!=this.nodeDOM&&(e==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=Ds)}get domAtom(){return!1}isText(e){return this.node.text==e}}class h8 extends Rh{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Di&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class WI extends ka{constructor(e,r,n,i,s,o,a,l,u,c){super(e,r,n,i,s,o,a,u,c),this.spec=l}update(e,r,n,i){if(this.dirty==Ds)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,r,n);return s&&this.updateInner(e,r,n,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,r,n,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,r,n,i){this.spec.setSelection?this.spec.setSelection(e,r,n.root):super.setSelection(e,r,n,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function d8(t,e,r){let n=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let o=e[s],a=o.dom;if(a.parentNode==t){for(;a!=n;)n=FS(n),i=!0;n=n.nextSibling}else i=!0,t.insertBefore(a,n);if(o instanceof Fl){let l=n?n.previousSibling:t.lastChild;d8(o.contentDOM,o.children,r),n=l?l.nextSibling:t.firstChild}}for(;n;)n=FS(n),i=!0;i&&r.trackWrites==t&&(r.trackWrites=null)}const qf=function(t){t&&(this.nodeName=t)};qf.prototype=Object.create(null);const gl=[new qf];function E2(t,e,r){if(t.length==0)return gl;let n=r?gl[0]:new qf,i=[n];for(let s=0;s<t.length;s++){let o=t[s].type.attrs;if(o){o.nodeName&&i.push(n=new qf(o.nodeName));for(let a in o){let l=o[a];l!=null&&(r&&i.length==1&&i.push(n=new qf(e.isInline?"span":"div")),a=="class"?n.class=(n.class?n.class+" ":"")+l:a=="style"?n.style=(n.style?n.style+";":"")+l:a!="nodeName"&&(n[a]=l))}}}return i}function p8(t,e,r,n){if(r==gl&&n==gl)return e;let i=e;for(let s=0;s<n.length;s++){let o=n[s],a=r[s];if(s){let l;a&&a.nodeName==o.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=gl[0]),i=l}HI(i,a||gl[0],o)}return i}function HI(t,e,r){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&t.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=e[n]&&t.setAttribute(n,r[n]);if(e.class!=r.class){let n=e.class?e.class.split(" ").filter(Boolean):[],i=r.class?r.class.split(" ").filter(Boolean):[];for(let s=0;s<n.length;s++)i.indexOf(n[s])==-1&&t.classList.remove(n[s]);for(let s=0;s<i.length;s++)n.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=r.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=n.exec(e.style);)t.style.removeProperty(i[1])}r.style&&(t.style.cssText+=r.style)}}function m8(t,e,r){return p8(t,t,gl,E2(e,r,t.nodeType!=1))}function ym(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].type.eq(e[r].type))return!1;return!0}function FS(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class VI{constructor(e,r,n){this.lock=r,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=$I(e.node.content,e)}destroyBetween(e,r){if(e!=r){for(let n=e;n<r;n++)this.top.children[n].destroy();this.top.children.splice(e,r-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,r,n,i){let s=0,o=this.stack.length>>1,a=Math.min(o,e.length);for(;s<a&&(s==o-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<o;)this.destroyRest(),this.top.dirty=Di,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let l=-1,u=this.top.children.length;i<this.preMatch.index&&(u=Math.min(this.index+3,u));for(let c=this.index;c<u;c++){let h=this.top.children[c];if(h.matchesMark(e[o])&&!this.isLocked(h.dom)){l=c;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let c=Fl.create(this.top,e[o],r,n);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,o++}}findNodeMatch(e,r,n,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,r,n))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let u=this.top.children[a];if(u.matchesNode(e,r,n)&&!this.preMatch.matched.has(u)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,r,n,i,s){let o=this.top.children[i];return o.dirty==Ds&&o.dom==o.contentDOM&&(o.dirty=ml),o.update(e,r,n,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let r=e.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==n)return i}return-1}e=r}}updateNextNode(e,r,n,i,s,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof ka){let u=this.preMatch.matched.get(l);if(u!=null&&u!=s)return!1;let c=l.dom,h,d=this.isLocked(c)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=Ds&&ym(r,l.outerDeco));if(!d&&l.update(e,r,n,i))return this.destroyBetween(this.index,a),l.dom!=c&&(this.changed=!0),this.index++,!0;if(!d&&(h=this.recreateWrapper(l,e,r,n,i,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=h,h.contentDOM&&(h.dirty=ml,h.updateChildren(i,o+1),h.dirty=Di),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,r,n,i,s,o){if(e.dirty||r.isAtom||!e.children.length||!e.node.content.eq(r.content)||!ym(n,e.outerDeco)||!i.eq(e.innerDeco))return null;let a=ka.create(this.top,r,n,i,s,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,r,n,i,s){let o=ka.create(this.top,e,r,n,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,r,n){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new f8(this.top,e,r,n);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],r=this.top;for(;e instanceof Fl;)r=e,e=r.children[r.children.length-1];(!e||!(e instanceof rg)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Tn||pn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(e,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let i=new h8(this.top,[],n,null);r!=this.top?r.children.push(i):r.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function $I(t,e){let r=e,n=r.children.length,i=t.childCount,s=new Map,o=[];e:for(;i>0;){let a;for(;;)if(n){let u=r.children[n-1];if(u instanceof Fl)r=u,n=u.children.length;else{a=u,n--;break}}else{if(r==e)break e;n=r.parent.children.indexOf(r),r=r.parent}let l=a.node;if(l){if(l!=t.child(i-1))break;--i,s.set(a,i),o.push(a)}}return{index:i,matched:s,matches:o.reverse()}}function KI(t,e){return t.type.side-e.type.side}function GI(t,e,r,n){let i=e.locals(t),s=0;if(i.length==0){for(let u=0;u<t.childCount;u++){let c=t.child(u);n(c,i,e.forChild(s,c),u),s+=c.nodeSize}return}let o=0,a=[],l=null;for(let u=0;;){let c,h;for(;o<i.length&&i[o].to==s;){let x=i[o++];x.widget&&(c?(h||(h=[c])).push(x):c=x)}if(c)if(h){h.sort(KI);for(let x=0;x<h.length;x++)r(h[x],u,!!l)}else r(c,u,!!l);let d,f;if(l)f=-1,d=l,l=null;else if(u<t.childCount)f=u,d=t.child(u++);else break;for(let x=0;x<a.length;x++)a[x].to<=s&&a.splice(x--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)a.push(i[o++]);let g=s+d.nodeSize;if(d.isText){let x=g;o<i.length&&i[o].from<x&&(x=i[o].from);for(let p=0;p<a.length;p++)a[p].to<x&&(x=a[p].to);x<g&&(l=d.cut(x-s),d=d.cut(0,x-s),g=x,f=-1)}else for(;o<i.length&&i[o].to<g;)o++;let y=d.isInline&&!d.isLeaf?a.filter(x=>!x.inline):a.slice();n(d,y,e.forChild(s,d),f),s=g}}function JI(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function YI(t,e,r,n){for(let i=0,s=0;i<t.childCount&&s<=n;){let o=t.child(i++),a=s;if(s+=o.nodeSize,!o.isText)continue;let l=o.text;for(;i<t.childCount;){let u=t.child(i++);if(s+=u.nodeSize,!u.isText)break;l+=u.text}if(s>=r){if(s>=n&&l.slice(n-e.length-a,n-a)==e)return n-e.length;let u=a<n?l.lastIndexOf(e,n-a-1):-1;if(u>=0&&u+e.length+a>=r)return a+u;if(r==n&&l.length>=n+e.length-a&&l.slice(n-a,n-a+e.length)==e)return n}}return-1}function N2(t,e,r,n,i){let s=[];for(let o=0,a=0;o<t.length;o++){let l=t[o],u=a,c=a+=l.size;u>=r||c<=e?s.push(l):(u<e&&s.push(l.slice(0,e-u,n)),i&&(s.push(i),i=void 0),c>r&&s.push(l.slice(r-u,l.size,n)))}return s}function n5(t,e=null){let r=t.domSelectionRange(),n=t.state.doc;if(!r.focusNode)return null;let i=t.docView.nearestDesc(r.focusNode),s=i&&i.size==0,o=t.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(o<0)return null;let a=n.resolve(o),l,u;if(tg(r)){for(l=o;i&&!i.node;)i=i.parent;let h=i.node;if(i&&h.isAtom&&ut.isSelectable(h)&&i.parent&&!(h.isInline&&kI(r.focusNode,r.focusOffset,i.dom))){let d=i.posBefore;u=new ut(o==d?a:n.resolve(d))}}else{if(r instanceof t.dom.ownerDocument.defaultView.Selection&&r.rangeCount>1){let h=o,d=o;for(let f=0;f<r.rangeCount;f++){let g=r.getRangeAt(f);h=Math.min(h,t.docView.posFromDOM(g.startContainer,g.startOffset,1)),d=Math.max(d,t.docView.posFromDOM(g.endContainer,g.endOffset,-1))}if(h<0)return null;[l,o]=d==t.state.selection.anchor?[d,h]:[h,d],a=n.resolve(o)}else l=t.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(l<0)return null}let c=n.resolve(l);if(!u){let h=e=="pointer"||t.state.selection.head<a.pos&&!s?1:-1;u=i5(t,c,a,h)}return u}function g8(t){return t.editable?t.hasFocus():v8(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function xo(t,e=!1){let r=t.state.selection;if(y8(t,r),!!g8(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&pn){let n=t.domSelectionRange(),i=t.domObserver.currentSelection;if(n.anchorNode&&i.anchorNode&&Dl(n.anchorNode,n.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)ZI(t);else{let{anchor:n,head:i}=r,s,o;BS&&!(r instanceof wt)&&(r.$from.parent.inlineContent||(s=jS(t,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(o=jS(t,r.to))),t.docView.setSelection(n,i,t,e),BS&&(s&&zS(s),o&&zS(o)),r.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&XI(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const BS=Tn||pn&&n8<63;function jS(t,e){let{node:r,offset:n}=t.docView.domFromPos(e,0),i=n<r.childNodes.length?r.childNodes[n]:null,s=n?r.childNodes[n-1]:null;if(Tn&&i&&i.contentEditable=="false")return j1(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return j1(i);if(s)return j1(s)}}function j1(t){return t.contentEditable="true",Tn&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function zS(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function XI(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let r=t.domSelectionRange(),n=r.anchorNode,i=r.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!g8(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function ZI(t){let e=t.domSelection();if(!e)return;let r=t.cursorWrapper.dom,n=r.nodeName=="IMG";n?e.collapse(r.parentNode,hn(r)+1):e.collapse(r,0),!n&&!t.state.selection.visible&&Yn&&Sa<=11&&(r.disabled=!0,r.disabled=!1)}function y8(t,e){if(e instanceof ut){let r=t.docView.descAt(e.from);r!=t.lastSelectedViewDesc&&(US(t),r&&r.selectNode(),t.lastSelectedViewDesc=r)}else US(t)}function US(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function i5(t,e,r,n){return t.someProp("createSelectionBetween",i=>i(t,e,r))||wt.between(e,r,n)}function qS(t){return t.editable&&!t.hasFocus()?!1:v8(t)}function v8(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function QI(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),r=t.domSelectionRange();return Dl(e.node,e.offset,r.anchorNode,r.anchorOffset)}function C2(t,e){let{$anchor:r,$head:n}=t.selection,i=e>0?r.max(n):r.min(n),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&Ct.findFrom(s,e)}function Qo(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function WS(t,e,r){let n=t.state.selection;if(n instanceof wt)if(r.indexOf("s")>-1){let{$head:i}=n,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return Qo(t,new wt(n.$anchor,o))}else if(n.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=C2(t.state,e);return i&&i instanceof ut?Qo(t,i):!1}else if(!(Ti&&r.indexOf("m")>-1)){let i=n.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let a=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=t.docView.descAt(a))&&!o.contentDOM?ut.isSelectable(s)?Qo(t,new ut(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):Ph?Qo(t,new wt(t.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(n instanceof ut&&n.node.isInline)return Qo(t,new wt(e>0?n.$to:n.$from));{let i=C2(t.state,e);return i?Qo(t,i):!1}}}function vm(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Wf(t,e){let r=t.pmViewDesc;return r&&r.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function du(t,e){return e<0?eM(t):tM(t)}function eM(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let i,s,o=!1;for(Mi&&r.nodeType==1&&n<vm(r)&&Wf(r.childNodes[n],-1)&&(o=!0);;)if(n>0){if(r.nodeType!=1)break;{let a=r.childNodes[n-1];if(Wf(a,-1))i=r,s=--n;else if(a.nodeType==3)r=a,n=r.nodeValue.length;else break}}else{if(w8(r))break;{let a=r.previousSibling;for(;a&&Wf(a,-1);)i=r.parentNode,s=hn(a),a=a.previousSibling;if(a)r=a,n=vm(r);else{if(r=r.parentNode,r==t.dom)break;n=0}}}o?T2(t,r,n):i&&T2(t,i,s)}function tM(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let i=vm(r),s,o;for(;;)if(n<i){if(r.nodeType!=1)break;let a=r.childNodes[n];if(Wf(a,1))s=r,o=++n;else break}else{if(w8(r))break;{let a=r.nextSibling;for(;a&&Wf(a,1);)s=a.parentNode,o=hn(a)+1,a=a.nextSibling;if(a)r=a,n=0,i=vm(r);else{if(r=r.parentNode,r==t.dom)break;n=i=0}}}s&&T2(t,s,o)}function w8(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function rM(t,e){for(;t&&e==t.childNodes.length&&!Oh(t);)e=hn(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let r=t.childNodes[e];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=0}}function nM(t,e){for(;t&&!e&&!Oh(t);)e=hn(t),t=t.parentNode;for(;t&&e;){let r=t.childNodes[e-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=t.childNodes.length}}function T2(t,e,r){if(e.nodeType!=3){let s,o;(o=rM(e,r))?(e=o,r=0):(s=nM(e,r))&&(e=s,r=s.nodeValue.length)}let n=t.domSelection();if(!n)return;if(tg(n)){let s=document.createRange();s.setEnd(e,r),s.setStart(e,r),n.removeAllRanges(),n.addRange(s)}else n.extend&&n.extend(e,r);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&xo(t)},50)}function HS(t,e){let r=t.state.doc.resolve(e);if(!(pn||i8)&&r.parent.inlineContent){let i=t.coordsAtPos(e);if(e>r.start()){let s=t.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<r.end()){let s=t.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function VS(t,e,r){let n=t.state.selection;if(n instanceof wt&&!n.empty||r.indexOf("s")>-1||Ti&&r.indexOf("m")>-1)return!1;let{$from:i,$to:s}=n;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=C2(t.state,e);if(o&&o instanceof ut)return Qo(t,o)}if(!i.parent.inlineContent){let o=e<0?i:s,a=n instanceof pi?Ct.near(o,e):Ct.findFrom(o,e);return a?Qo(t,a):!1}return!1}function $S(t,e){if(!(t.state.selection instanceof wt))return!0;let{$head:r,$anchor:n,empty:i}=t.state.selection;if(!r.sameParent(n))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(s&&!s.isText){let o=t.state.tr;return e<0?o.delete(r.pos-s.nodeSize,r.pos):o.delete(r.pos,r.pos+s.nodeSize),t.dispatch(o),!0}return!1}function KS(t,e,r){t.domObserver.stop(),e.contentEditable=r,t.domObserver.start()}function iM(t){if(!Tn||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:r}=t.domSelectionRange();if(e&&e.nodeType==1&&r==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;KS(t,n,"true"),setTimeout(()=>KS(t,n,"false"),20)}return!1}function sM(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function oM(t,e){let r=e.keyCode,n=sM(e);if(r==8||Ti&&r==72&&n=="c")return $S(t,-1)||du(t,-1);if(r==46&&!e.shiftKey||Ti&&r==68&&n=="c")return $S(t,1)||du(t,1);if(r==13||r==27)return!0;if(r==37||Ti&&r==66&&n=="c"){let i=r==37?HS(t,t.state.selection.from)=="ltr"?-1:1:-1;return WS(t,i,n)||du(t,i)}else if(r==39||Ti&&r==70&&n=="c"){let i=r==39?HS(t,t.state.selection.from)=="ltr"?1:-1:1;return WS(t,i,n)||du(t,i)}else{if(r==38||Ti&&r==80&&n=="c")return VS(t,-1,n)||du(t,-1);if(r==40||Ti&&r==78&&n=="c")return iM(t)||VS(t,1,n)||du(t,1);if(n==(Ti?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function s5(t,e){t.someProp("transformCopied",f=>{e=f(e,t)});let r=[],{content:n,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&n.childCount==1&&n.firstChild.childCount==1;){i--,s--;let f=n.firstChild;r.push(f.type.name,f.attrs!=f.type.defaultAttrs?f.attrs:null),n=f.content}let o=t.someProp("clipboardSerializer")||Wl.fromSchema(t.state.schema),a=A8(),l=a.createElement("div");l.appendChild(o.serializeFragment(n,{document:a}));let u=l.firstChild,c,h=0;for(;u&&u.nodeType==1&&(c=_8[u.nodeName.toLowerCase()]);){for(let f=c.length-1;f>=0;f--){let g=a.createElement(c[f]);for(;l.firstChild;)g.appendChild(l.firstChild);l.appendChild(g),h++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${s}${h?` -${h}`:""} ${JSON.stringify(r)}`);let d=t.someProp("clipboardTextSerializer",f=>f(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:d,slice:e}}function b8(t,e,r,n,i){let s=i.parent.type.spec.code,o,a;if(!r&&!e)return null;let l=!!e&&(n||s||!r);if(l){if(t.someProp("transformPastedText",d=>{e=d(e,s||n,t)}),s)return a=new Ge(ze.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",d=>{a=d(a,t,!0)}),a;let h=t.someProp("clipboardTextParser",d=>d(e,i,n,t));if(h)a=h;else{let d=i.marks(),{schema:f}=t.state,g=Wl.fromSchema(f);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(y=>{let x=o.appendChild(document.createElement("p"));y&&x.appendChild(g.serializeNode(f.text(y,d)))})}}else t.someProp("transformPastedHTML",h=>{r=h(r,t)}),o=cM(r),Ph&&fM(o);let u=o&&o.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let h=+c[3];h>0;h--){let d=o.firstChild;for(;d&&d.nodeType!=1;)d=d.nextSibling;if(!d)break;o=d}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||xa.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||c),context:i,ruleFromNode(d){return d.nodeName=="BR"&&!d.nextSibling&&d.parentNode&&!aM.test(d.parentNode.nodeName)?{ignore:!0}:null}})),c)a=hM(GS(a,+c[1],+c[2]),c[4]);else if(a=Ge.maxOpen(lM(a.content,i),!0),a.openStart||a.openEnd){let h=0,d=0;for(let f=a.content.firstChild;h<a.openStart&&!f.type.spec.isolating;h++,f=f.firstChild);for(let f=a.content.lastChild;d<a.openEnd&&!f.type.spec.isolating;d++,f=f.lastChild);a=GS(a,h,d)}return t.someProp("transformPasted",h=>{a=h(a,t,l)}),a}const aM=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function lM(t,e){if(t.childCount<2)return t;for(let r=e.depth;r>=0;r--){let i=e.node(r).contentMatchAt(e.index(r)),s,o=[];if(t.forEach(a=>{if(!o)return;let l=i.findWrapping(a.type),u;if(!l)return o=null;if(u=o.length&&s.length&&S8(l,s,a,o[o.length-1],0))o[o.length-1]=u;else{o.length&&(o[o.length-1]=k8(o[o.length-1],s.length));let c=x8(a,l);o.push(c),i=i.matchType(c.type),s=l}}),o)return ze.from(o)}return t}function x8(t,e,r=0){for(let n=e.length-1;n>=r;n--)t=e[n].create(null,ze.from(t));return t}function S8(t,e,r,n,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=S8(t,e,r,n.lastChild,i+1);if(s)return n.copy(n.content.replaceChild(n.childCount-1,s));if(n.contentMatchAt(n.childCount).matchType(i==t.length-1?r.type:t[i+1]))return n.copy(n.content.append(ze.from(x8(r,t,i+1))))}}function k8(t,e){if(e==0)return t;let r=t.content.replaceChild(t.childCount-1,k8(t.lastChild,e-1)),n=t.contentMatchAt(t.childCount).fillBefore(ze.empty,!0);return t.copy(r.append(n))}function L2(t,e,r,n,i,s){let o=e<0?t.firstChild:t.lastChild,a=o.content;return t.childCount>1&&(s=0),i<n-1&&(a=L2(a,e,r,n,i+1,s)),i>=r&&(a=e<0?o.contentMatchAt(0).fillBefore(a,s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(ze.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(a))}function GS(t,e,r){return e<t.openStart&&(t=new Ge(L2(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),r<t.openEnd&&(t=new Ge(L2(t.content,1,r,t.openEnd,0,0),t.openStart,r)),t}const _8={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let JS=null;function A8(){return JS||(JS=document.implementation.createHTMLDocument("title"))}let z1=null;function uM(t){let e=window.trustedTypes;return e?(z1||(z1=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:r=>r})),z1.createHTML(t)):t}function cM(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let r=A8().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(t),i;if((i=n&&_8[n[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),r.innerHTML=uM(t),i)for(let s=0;s<i.length;s++)r=r.querySelector(i[s])||r;return r}function fM(t){let e=t.querySelectorAll(pn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<e.length;r++){let n=e[r];n.childNodes.length==1&&n.textContent==""&&n.parentNode&&n.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),n)}}function hM(t,e){if(!t.size)return t;let r=t.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:o}=t;for(let a=n.length-2;a>=0;a-=2){let l=r.nodes[n[a]];if(!l||l.hasRequiredAttrs())break;i=ze.from(l.create(n[a+1],i)),s++,o++}return new Ge(i,s,o)}const Bn={},jn={},dM={touchstart:!0,touchmove:!0};class pM{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function mM(t){for(let e in Bn){let r=Bn[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=n=>{yM(t,n)&&!o5(t,n)&&(t.editable||!(n.type in jn))&&r(t,n)},dM[e]?{passive:!0}:void 0)}Tn&&t.dom.addEventListener("input",()=>null),O2(t)}function ua(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function gM(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function O2(t){t.someProp("handleDOMEvents",e=>{for(let r in e)t.input.eventHandlers[r]||t.dom.addEventListener(r,t.input.eventHandlers[r]=n=>o5(t,n))})}function o5(t,e){return t.someProp("handleDOMEvents",r=>{let n=r[e.type];return n?n(t,e)||e.defaultPrevented:!1})}function yM(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target;r!=t.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}function vM(t,e){!o5(t,e)&&Bn[e.type]&&(t.editable||!(e.type in jn))&&Bn[e.type](t,e)}jn.keydown=(t,e)=>{let r=e;if(t.input.shiftKey=r.keyCode==16||r.shiftKey,!N8(t,r)&&(t.input.lastKeyCode=r.keyCode,t.input.lastKeyCodeTime=Date.now(),!(go&&pn&&r.keyCode==13)))if(r.keyCode!=229&&t.domObserver.forceFlush(),fc&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();t.input.lastIOSEnter=n,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==n&&(t.someProp("handleKeyDown",i=>i(t,ul(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",n=>n(t,r))||oM(t,r)?r.preventDefault():ua(t,"key")};jn.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};jn.keypress=(t,e)=>{let r=e;if(N8(t,r)||!r.charCode||r.ctrlKey&&!r.altKey||Ti&&r.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,r))){r.preventDefault();return}let n=t.state.selection;if(!(n instanceof wt)||!n.$from.sameParent(n.$to)){let i=String.fromCharCode(r.charCode),s=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",o=>o(t,n.$from.pos,n.$to.pos,i,s))&&t.dispatch(s()),r.preventDefault()}};function ng(t){return{left:t.clientX,top:t.clientY}}function wM(t,e){let r=e.x-t.clientX,n=e.y-t.clientY;return r*r+n*n<100}function a5(t,e,r,n,i){if(n==-1)return!1;let s=t.state.doc.resolve(n);for(let o=s.depth+1;o>0;o--)if(t.someProp(e,a=>o>s.depth?a(t,r,s.nodeAfter,s.before(o),i,!0):a(t,r,s.node(o),s.before(o),i,!1)))return!0;return!1}function Ku(t,e,r){if(t.focused||t.focus(),t.state.selection.eq(e))return;let n=t.state.tr.setSelection(e);n.setMeta("pointer",!0),t.dispatch(n)}function bM(t,e){if(e==-1)return!1;let r=t.state.doc.resolve(e),n=r.nodeAfter;return n&&n.isAtom&&ut.isSelectable(n)?(Ku(t,new ut(r)),!0):!1}function xM(t,e){if(e==-1)return!1;let r=t.state.selection,n,i;r instanceof ut&&(n=r.node);let s=t.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(ut.isSelectable(a)){n&&r.$from.depth>0&&o>=r.$from.depth&&s.before(r.$from.depth+1)==r.$from.pos?i=s.before(r.$from.depth):i=s.before(o);break}}return i!=null?(Ku(t,ut.create(t.state.doc,i)),!0):!1}function SM(t,e,r,n,i){return a5(t,"handleClickOn",e,r,n)||t.someProp("handleClick",s=>s(t,e,n))||(i?xM(t,r):bM(t,r))}function kM(t,e,r,n){return a5(t,"handleDoubleClickOn",e,r,n)||t.someProp("handleDoubleClick",i=>i(t,e,n))}function _M(t,e,r,n){return a5(t,"handleTripleClickOn",e,r,n)||t.someProp("handleTripleClick",i=>i(t,e,n))||AM(t,r,n)}function AM(t,e,r){if(r.button!=0)return!1;let n=t.state.doc;if(e==-1)return n.inlineContent?(Ku(t,wt.create(n,0,n.content.size)),!0):!1;let i=n.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)Ku(t,wt.create(n,a+1,a+1+o.content.size));else if(ut.isSelectable(o))Ku(t,ut.create(n,a));else continue;return!0}}function l5(t){return wm(t)}const E8=Ti?"metaKey":"ctrlKey";Bn.mousedown=(t,e)=>{let r=e;t.input.shiftKey=r.shiftKey;let n=l5(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&wM(r,t.input.lastClick)&&!r[E8]&&t.input.lastClick.button==r.button&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:r.clientX,y:r.clientY,type:s,button:r.button};let o=t.posAtCoords(ng(r));o&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new EM(t,o,r,!!n)):(s=="doubleClick"?kM:_M)(t,o.pos,o.inside,r)?r.preventDefault():ua(t,"pointer"))};class EM{constructor(e,r,n,i){this.view=e,this.pos=r,this.event=n,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[E8],this.allowDefault=n.shiftKey;let s,o;if(r.inside>-1)s=e.state.doc.nodeAt(r.inside),o=r.inside;else{let c=e.state.doc.resolve(r.pos);s=c.parent,o=c.depth?c.before():0}const a=i?null:n.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:u}=e.state;(n.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||u instanceof ut&&u.from<=o&&u.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Mi&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),ua(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>xo(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(ng(e))),this.updateAllowDefault(e),this.allowDefault||!r?ua(this.view,"pointer"):SM(this.view,r.pos,r.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Tn&&this.mightDrag&&!this.mightDrag.node.isAtom||pn&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(Ku(this.view,Ct.near(this.view.state.doc.resolve(r.pos))),e.preventDefault()):ua(this.view,"pointer")}move(e){this.updateAllowDefault(e),ua(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Bn.touchstart=t=>{t.input.lastTouch=Date.now(),l5(t),ua(t,"pointer")};Bn.touchmove=t=>{t.input.lastTouch=Date.now(),ua(t,"pointer")};Bn.contextmenu=t=>l5(t);function N8(t,e){return t.composing?!0:Tn&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const NM=go?5e3:-1;jn.compositionstart=jn.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,r=e.selection.$to;if(e.selection instanceof wt&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)||pn&&i8&&CM(t)))t.markCursor=t.state.storedMarks||r.marks(),wm(t,!0),t.markCursor=null;else if(wm(t,!e.selection.empty),Mi&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=t.domSelectionRange();for(let i=n.focusNode,s=n.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){let a=t.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else i=o,s=-1}}t.input.composing=!0}C8(t,NM)};function CM(t){let{focusNode:e,focusOffset:r}=t.domSelectionRange();if(!e||e.nodeType!=1||r>=e.childNodes.length)return!1;let n=e.childNodes[r];return n.nodeType==1&&n.contentEditable=="false"}jn.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.badSafariComposition?t.domObserver.forceFlush():t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,C8(t,20))};function C8(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>wm(t),e))}function T8(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=LM());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function TM(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let r=xI(e.focusNode,e.focusOffset),n=SI(e.focusNode,e.focusOffset);if(r&&n&&r!=n){let i=n.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(r==s||n==s)return s;if(!i||!i.isText(n.nodeValue))return n;if(t.input.compositionNode==n){let o=r.pmViewDesc;if(!(!o||!o.isText(r.nodeValue)))return n}}return r||n}function LM(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function wm(t,e=!1){if(!(go&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),T8(t),e||t.docView&&t.docView.dirty){let r=n5(t),n=t.state.selection;return r&&!r.eq(n)?t.dispatch(t.state.tr.setSelection(r)):(t.markCursor||e)&&!n.$from.node(n.$from.sharedDepth(n.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function OM(t,e){if(!t.dom.parentNode)return;let r=t.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),n.removeAllRanges(),n.addRange(i),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),t.focus()},50)}const yh=Yn&&Sa<15||fc&&EI<604;Bn.copy=jn.cut=(t,e)=>{let r=e,n=t.state.selection,i=r.type=="cut";if(n.empty)return;let s=yh?null:r.clipboardData,o=n.content(),{dom:a,text:l}=s5(t,o);s?(r.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):OM(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function PM(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function RM(t,e){if(!t.dom.parentNode)return;let r=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,n=t.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),n.parentNode&&n.parentNode.removeChild(n),r?vh(t,n.value,null,i,e):vh(t,n.textContent,n.innerHTML,i,e)},50)}function vh(t,e,r,n,i){let s=b8(t,e,r,n,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,s||Ge.empty)))return!0;if(!s)return!1;let o=PM(s),a=o?t.state.tr.replaceSelectionWith(o,n):t.state.tr.replaceSelection(s);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function L8(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let r=t.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}jn.paste=(t,e)=>{let r=e;if(t.composing&&!go)return;let n=yh?null:r.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;n&&vh(t,L8(n),n.getData("text/html"),i,r)?r.preventDefault():RM(t,r)};class O8{constructor(e,r,n){this.slice=e,this.move=r,this.node=n}}const IM=Ti?"altKey":"ctrlKey";function P8(t,e){let r=t.someProp("dragCopies",n=>!n(e));return r??!e[IM]}Bn.dragstart=(t,e)=>{let r=e,n=t.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(ng(r)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof ut?i.to-1:i.to))){if(n&&n.mightDrag)o=ut.create(t.state.doc,n.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let h=t.docView.nearestDesc(r.target,!0);h&&h.node.type.spec.draggable&&h!=t.docView&&(o=ut.create(t.state.doc,h.posBefore))}}let a=(o||t.state.selection).content(),{dom:l,text:u,slice:c}=s5(t,a);(!r.dataTransfer.files.length||!pn||n8>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(yh?"Text":"text/html",l.innerHTML),r.dataTransfer.effectAllowed="copyMove",yh||r.dataTransfer.setData("text/plain",u),t.dragging=new O8(c,P8(t,r),o)};Bn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};jn.dragover=jn.dragenter=(t,e)=>e.preventDefault();jn.drop=(t,e)=>{try{MM(t,e,t.dragging)}finally{t.dragging=null}};function MM(t,e,r){if(!e.dataTransfer)return;let n=t.posAtCoords(ng(e));if(!n)return;let i=t.state.doc.resolve(n.pos),s=r&&r.slice;s?t.someProp("transformPasted",f=>{s=f(s,t,!1)}):s=b8(t,L8(e.dataTransfer),yh?null:e.dataTransfer.getData("text/html"),!1,i);let o=!!(r&&P8(t,e));if(t.someProp("handleDrop",f=>f(t,e,s||Ge.empty,o))){e.preventDefault();return}if(!s)return;e.preventDefault();let a=s?JE(t.state.doc,i.pos,s):i.pos;a==null&&(a=i.pos);let l=t.state.tr;if(o){let{node:f}=r;f?f.replace(l):l.deleteSelection()}let u=l.mapping.map(a),c=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,h=l.doc;if(c?l.replaceRangeWith(u,u,s.content.firstChild):l.replaceRange(u,u,s),l.doc.eq(h))return;let d=l.doc.resolve(u);if(c&&ut.isSelectable(s.content.firstChild)&&d.nodeAfter&&d.nodeAfter.sameMarkup(s.content.firstChild))l.setSelection(new ut(d));else{let f=l.mapping.map(a);l.mapping.maps[l.mapping.maps.length-1].forEach((g,y,x,p)=>f=p),l.setSelection(i5(t,d,l.doc.resolve(f)))}t.focus(),t.dispatch(l.setMeta("uiEvent","drop"))}Bn.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&xo(t)},20))};Bn.blur=(t,e)=>{let r=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),r.relatedTarget&&t.dom.contains(r.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Bn.beforeinput=(t,e)=>{if(pn&&go&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:n}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=n||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,ul(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in jn)Bn[t]=jn[t];function wh(t,e){if(t==e)return!0;for(let r in t)if(t[r]!==e[r])return!1;for(let r in e)if(!(r in t))return!1;return!0}class bm{constructor(e,r){this.toDOM=e,this.spec=r||Al,this.side=this.spec.side||0}map(e,r,n,i){let{pos:s,deleted:o}=e.mapResult(r.from+i,this.side<0?-1:1);return o?null:new fi(s-n,s-n,this)}valid(){return!0}eq(e){return this==e||e instanceof bm&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&wh(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class _a{constructor(e,r){this.attrs=e,this.spec=r||Al}map(e,r,n,i){let s=e.map(r.from+i,this.spec.inclusiveStart?-1:1)-n,o=e.map(r.to+i,this.spec.inclusiveEnd?1:-1)-n;return s>=o?null:new fi(s,o,this)}valid(e,r){return r.from<r.to}eq(e){return this==e||e instanceof _a&&wh(this.attrs,e.attrs)&&wh(this.spec,e.spec)}static is(e){return e.type instanceof _a}destroy(){}}class u5{constructor(e,r){this.attrs=e,this.spec=r||Al}map(e,r,n,i){let s=e.mapResult(r.from+i,1);if(s.deleted)return null;let o=e.mapResult(r.to+i,-1);return o.deleted||o.pos<=s.pos?null:new fi(s.pos-n,o.pos-n,this)}valid(e,r){let{index:n,offset:i}=e.content.findIndex(r.from),s;return i==r.from&&!(s=e.child(n)).isText&&i+s.nodeSize==r.to}eq(e){return this==e||e instanceof u5&&wh(this.attrs,e.attrs)&&wh(this.spec,e.spec)}destroy(){}}class fi{constructor(e,r,n){this.from=e,this.to=r,this.type=n}copy(e,r){return new fi(e,r,this.type)}eq(e,r=0){return this.type.eq(e.type)&&this.from+r==e.from&&this.to+r==e.to}map(e,r,n){return this.type.map(e,this,r,n)}static widget(e,r,n){return new fi(e,e,new bm(r,n))}static inline(e,r,n,i){return new fi(e,r,new _a(n,i))}static node(e,r,n,i){return new fi(e,r,new u5(n,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof _a}get widget(){return this.type instanceof bm}}const xu=[],Al={};class Mr{constructor(e,r){this.local=e.length?e:xu,this.children=r.length?r:xu}static create(e,r){return r.length?xm(r,e,0,Al):En}find(e,r,n){let i=[];return this.findInner(e??0,r??1e9,i,0,n),i}findInner(e,r,n,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=r&&a.to>=e&&(!s||s(a.spec))&&n.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<r&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,r-a,n,i+a,s)}}map(e,r,n){return this==En||e.maps.length==0?this:this.mapInner(e,r,0,0,n||Al)}mapInner(e,r,n,i,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,n,i);l&&l.type.valid(r,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?DM(this.children,o||[],e,r,n,i,s):o?new Mr(o.sort(El),xu):En}add(e,r){return r.length?this==En?Mr.create(e,r):this.addInner(e,r,0):this}addInner(e,r,n){let i,s=0;e.forEach((a,l)=>{let u=l+n,c;if(c=I8(r,a,u)){for(i||(i=this.children.slice());s<i.length&&i[s]<l;)s+=3;i[s]==l?i[s+2]=i[s+2].addInner(a,c,u+1):i.splice(s,0,l,l+a.nodeSize,xm(c,a,u+1,Al)),s+=3}});let o=R8(s?M8(r):r,-n);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new Mr(o.length?this.local.concat(o).sort(El):this.local,i||this.children)}remove(e){return e.length==0||this==En?this:this.removeInner(e,0)}removeInner(e,r){let n=this.children,i=this.local;for(let s=0;s<n.length;s+=3){let o,a=n[s]+r,l=n[s+1]+r;for(let c=0,h;c<e.length;c++)(h=e[c])&&h.from>a&&h.to<l&&(e[c]=null,(o||(o=[])).push(h));if(!o)continue;n==this.children&&(n=this.children.slice());let u=n[s+2].removeInner(o,a+1);u!=En?n[s+2]=u:(n.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let a=0;a<i.length;a++)i[a].eq(o,r)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return n==this.children&&i==this.local?this:i.length||n.length?new Mr(i,n):En}forChild(e,r){if(this==En)return this;if(r.isLeaf)return Mr.empty;let n,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(n=this.children[a+2]);break}let s=e+1,o=s+r.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof _a){let u=Math.max(s,l.from)-s,c=Math.min(o,l.to)-s;u<c&&(i||(i=[])).push(l.copy(u,c))}}if(i){let a=new Mr(i.sort(El),xu);return n?new na([a,n]):a}return n||En}eq(e){if(this==e)return!0;if(!(e instanceof Mr)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(e.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=e.children[r]||this.children[r+1]!=e.children[r+1]||!this.children[r+2].eq(e.children[r+2]))return!1;return!0}locals(e){return c5(this.localsInner(e))}localsInner(e){if(this==En)return xu;if(e.inlineContent||!this.local.some(_a.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof _a||r.push(this.local[n]);return r}forEachSet(e){e(this)}}Mr.empty=new Mr([],[]);Mr.removeOverlap=c5;const En=Mr.empty;class na{constructor(e){this.members=e}map(e,r){const n=this.members.map(i=>i.map(e,r,Al));return na.from(n)}forChild(e,r){if(r.isLeaf)return Mr.empty;let n=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,r);s!=En&&(s instanceof na?n=n.concat(s.members):n.push(s))}return na.from(n)}eq(e){if(!(e instanceof na)||e.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(e.members[r]))return!1;return!0}locals(e){let r,n=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!r)r=s;else{n&&(r=r.slice(),n=!1);for(let o=0;o<s.length;o++)r.push(s[o])}}return r?c5(n?r:r.sort(El)):xu}static from(e){switch(e.length){case 0:return En;case 1:return e[0];default:return new na(e.every(r=>r instanceof Mr)?e:e.reduce((r,n)=>r.concat(n instanceof Mr?n:n.members),[]))}}forEachSet(e){for(let r=0;r<this.members.length;r++)this.members[r].forEachSet(e)}}function DM(t,e,r,n,i,s,o){let a=t.slice();for(let u=0,c=s;u<r.maps.length;u++){let h=0;r.maps[u].forEach((d,f,g,y)=>{let x=y-g-(f-d);for(let p=0;p<a.length;p+=3){let v=a[p+1];if(v<0||d>v+c-h)continue;let b=a[p]+c-h;f>=b?a[p+1]=d<=b?-2:-1:d>=c&&x&&(a[p]+=x,a[p+1]+=x)}h+=x}),c=r.maps[u].map(c,-1)}let l=!1;for(let u=0;u<a.length;u+=3)if(a[u+1]<0){if(a[u+1]==-2){l=!0,a[u+1]=-1;continue}let c=r.map(t[u]+s),h=c-i;if(h<0||h>=n.content.size){l=!0;continue}let d=r.map(t[u+1]+s,-1),f=d-i,{index:g,offset:y}=n.content.findIndex(h),x=n.maybeChild(g);if(x&&y==h&&y+x.nodeSize==f){let p=a[u+2].mapInner(r,x,c+1,t[u]+s+1,o);p!=En?(a[u]=h,a[u+1]=f,a[u+2]=p):(a[u+1]=-2,l=!0)}else l=!0}if(l){let u=FM(a,t,e,r,i,s,o),c=xm(u,n,0,o);e=c.local;for(let h=0;h<a.length;h+=3)a[h+1]<0&&(a.splice(h,3),h-=3);for(let h=0,d=0;h<c.children.length;h+=3){let f=c.children[h];for(;d<a.length&&a[d]<f;)d+=3;a.splice(d,0,c.children[h],c.children[h+1],c.children[h+2])}}return new Mr(e.sort(El),a)}function R8(t,e){if(!e||!t.length)return t;let r=[];for(let n=0;n<t.length;n++){let i=t[n];r.push(new fi(i.from+e,i.to+e,i.type))}return r}function FM(t,e,r,n,i,s,o){function a(l,u){for(let c=0;c<l.local.length;c++){let h=l.local[c].map(n,i,u);h?r.push(h):o.onRemove&&o.onRemove(l.local[c].spec)}for(let c=0;c<l.children.length;c+=3)a(l.children[c+2],l.children[c]+u+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+s+1);return r}function I8(t,e,r){if(e.isLeaf)return null;let n=r+e.nodeSize,i=null;for(let s=0,o;s<t.length;s++)(o=t[s])&&o.from>r&&o.to<n&&((i||(i=[])).push(o),t[s]=null);return i}function M8(t){let e=[];for(let r=0;r<t.length;r++)t[r]!=null&&e.push(t[r]);return e}function xm(t,e,r,n){let i=[],s=!1;e.forEach((a,l)=>{let u=I8(t,a,l+r);if(u){s=!0;let c=xm(u,a,r+l+1,n);c!=En&&i.push(l,l+a.nodeSize,c)}});let o=R8(s?M8(t):t,-r).sort(El);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(n.onRemove&&n.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new Mr(o,i):En}function El(t,e){return t.from-e.from||t.to-e.to}function c5(t){let e=t;for(let r=0;r<e.length-1;r++){let n=e[r];if(n.from!=n.to)for(let i=r+1;i<e.length;i++){let s=e[i];if(s.from==n.from){s.to!=n.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,n.to),YS(e,i+1,s.copy(n.to,s.to)));continue}else{s.from<n.to&&(e==t&&(e=t.slice()),e[r]=n.copy(n.from,s.from),YS(e,i,n.copy(s.from,n.to)));break}}}return e}function YS(t,e,r){for(;e<t.length&&El(r,t[e])>0;)e++;t.splice(e,0,r)}function U1(t){let e=[];return t.someProp("decorations",r=>{let n=r(t.state);n&&n!=En&&e.push(n)}),t.cursorWrapper&&e.push(Mr.create(t.state.doc,[t.cursorWrapper.deco])),na.from(e)}const BM={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},jM=Yn&&Sa<=11;class zM{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class UM{constructor(e,r){this.view=e,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new zM,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let i=0;i<n.length;i++)this.queue.push(n[i]);Yn&&Sa<=11&&n.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():Tn&&e.composing&&n.some(i=>i.type=="childList"&&i.target.nodeName=="TR")?(e.input.badSafariComposition=!0,this.flushSoon()):this.flush()}),jM&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,BM)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let r=0;r<e.length;r++)this.queue.push(e[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(qS(this.view)){if(this.suppressingSelectionUpdates)return xo(this.view);if(Yn&&Sa<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Dl(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let r=new Set,n;for(let s=e.focusNode;s;s=cc(s))r.add(s);for(let s=e.anchorNode;s;s=cc(s))if(r.has(s)){n=s;break}let i=n&&this.view.docView.nearestDesc(n);if(i&&i.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let n=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&qS(e)&&!this.ignoreSelectionChange(n),s=-1,o=-1,a=!1,l=[];if(e.editable)for(let c=0;c<r.length;c++){let h=this.registerMutation(r[c],l);h&&(s=s<0?h.from:Math.min(h.from,s),o=o<0?h.to:Math.max(h.to,o),h.typeOver&&(a=!0))}if(l.some(c=>c.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let c of l)if(c.nodeName=="BR"&&c.parentNode){let h=c.nextSibling;h&&h.nodeType==1&&h.contentEditable=="false"&&c.parentNode.removeChild(c)}}else if(Mi&&l.length){let c=l.filter(h=>h.nodeName=="BR");if(c.length==2){let[h,d]=c;h.parentNode&&h.parentNode.parentNode==d.parentNode?d.remove():h.remove()}else{let{focusNode:h}=this.currentSelection;for(let d of c){let f=d.parentNode;f&&f.nodeName=="LI"&&(!h||HM(e,h)!=f)&&d.remove()}}}let u=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&tg(n)&&(u=n5(e))&&u.eq(Ct.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,xo(e),this.currentSelection.set(n),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,o),qM(e)),e.input.badSafariComposition&&(e.input.badSafariComposition=!1,VM(e,l)),this.handleDOMChange(s,o,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||xo(e),this.currentSelection.set(n))}registerMutation(e,r){if(r.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let c=0;c<e.addedNodes.length;c++){let h=e.addedNodes[c];r.push(h),h.nodeType==3&&(this.lastChangedTextNode=h)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let i=e.previousSibling,s=e.nextSibling;if(Yn&&Sa<=11&&e.addedNodes.length)for(let c=0;c<e.addedNodes.length;c++){let{previousSibling:h,nextSibling:d}=e.addedNodes[c];(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(i=h),(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(s=d)}let o=i&&i.parentNode==e.target?hn(i)+1:0,a=n.localPosFromDOM(e.target,o,-1),l=s&&s.parentNode==e.target?hn(s):e.target.childNodes.length,u=n.localPosFromDOM(e.target,l,1);return{from:a,to:u}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let XS=new WeakMap,ZS=!1;function qM(t){if(!XS.has(t)&&(XS.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Mi,ZS)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),ZS=!0}}function QS(t,e){let r=e.startContainer,n=e.startOffset,i=e.endContainer,s=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return Dl(o.node,o.offset,i,s)&&([r,n,i,s]=[i,s,r,n]),{anchorNode:r,anchorOffset:n,focusNode:i,focusOffset:s}}function WM(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return QS(t,i)}let r;function n(i){i.preventDefault(),i.stopImmediatePropagation(),r=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0),r?QS(t,r):null}function HM(t,e){for(let r=e.parentNode;r&&r!=t.dom;r=r.parentNode){let n=t.docView.nearestDesc(r,!0);if(n&&n.node.isBlock)return r}return null}function VM(t,e){var r;let{focusNode:n,focusOffset:i}=t.domSelectionRange();for(let s of e)if(((r=s.parentNode)===null||r===void 0?void 0:r.nodeName)=="TR"){let o=s.nextSibling;for(;o&&o.nodeName!="TD"&&o.nodeName!="TH";)o=o.nextSibling;if(o){let a=o;for(;;){let l=a.firstChild;if(!l||l.nodeType!=1||l.contentEditable=="false"||/^(BR|IMG)$/.test(l.nodeName))break;a=l}a.insertBefore(s,a.firstChild),n==s&&t.domSelection().collapse(s,i)}else s.parentNode.removeChild(s)}}function $M(t,e,r){let{node:n,fromOffset:i,toOffset:s,from:o,to:a}=t.docView.parseRange(e,r),l=t.domSelectionRange(),u,c=l.anchorNode;if(c&&t.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:l.anchorOffset}],tg(l)||u.push({node:l.focusNode,offset:l.focusOffset})),pn&&t.input.lastKeyCode===8)for(let x=s;x>i;x--){let p=n.childNodes[x-1],v=p.pmViewDesc;if(p.nodeName=="BR"&&!v){s=x;break}if(!v||v.size)break}let h=t.state.doc,d=t.someProp("domParser")||xa.fromSchema(t.state.schema),f=h.resolve(o),g=null,y=d.parse(n,{topNode:f.parent,topMatch:f.parent.contentMatchAt(f.index()),topOpen:!0,from:i,to:s,preserveWhitespace:f.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:KM,context:f});if(u&&u[0].pos!=null){let x=u[0].pos,p=u[1]&&u[1].pos;p==null&&(p=x),g={anchor:x+o,head:p+o}}return{doc:y,sel:g,from:o,to:a}}function KM(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Tn&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(t.parentNode.lastChild==t||Tn&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const GM=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function JM(t,e,r,n,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let F=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,z=n5(t,F);if(z&&!t.state.selection.eq(z)){if(pn&&go&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",Z=>Z(t,ul(13,"Enter"))))return;let T=t.state.tr.setSelection(z);F=="pointer"?T.setMeta("pointer",!0):F=="key"&&T.scrollIntoView(),s&&T.setMeta("composition",s),t.dispatch(T)}return}let o=t.state.doc.resolve(e),a=o.sharedDepth(r);e=o.before(a+1),r=t.state.doc.resolve(r).after(a+1);let l=t.state.selection,u=$M(t,e,r),c=t.state.doc,h=c.slice(u.from,u.to),d,f;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(d=t.state.selection.to,f="end"):(d=t.state.selection.from,f="start"),t.input.lastKeyCode=null;let g=ZM(h.content,u.doc.content,u.from,d,f);if(g&&t.input.domChangeCount++,(fc&&t.input.lastIOSEnter>Date.now()-225||go)&&i.some(F=>F.nodeType==1&&!GM.test(F.nodeName))&&(!g||g.endA>=g.endB)&&t.someProp("handleKeyDown",F=>F(t,ul(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!g)if(n&&l instanceof wt&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))g={start:l.from,endA:l.to,endB:l.to};else{if(u.sel){let F=e3(t,t.state.doc,u.sel);if(F&&!F.eq(t.state.selection)){let z=t.state.tr.setSelection(F);s&&z.setMeta("composition",s),t.dispatch(z)}}return}t.state.selection.from<t.state.selection.to&&g.start==g.endB&&t.state.selection instanceof wt&&(g.start>t.state.selection.from&&g.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?g.start=t.state.selection.from:g.endA<t.state.selection.to&&g.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(g.endB+=t.state.selection.to-g.endA,g.endA=t.state.selection.to)),Yn&&Sa<=11&&g.endB==g.start+1&&g.endA==g.start&&g.start>u.from&&u.doc.textBetween(g.start-u.from-1,g.start-u.from+1)==" "&&(g.start--,g.endA--,g.endB--);let y=u.doc.resolveNoCache(g.start-u.from),x=u.doc.resolveNoCache(g.endB-u.from),p=c.resolve(g.start),v=y.sameParent(x)&&y.parent.inlineContent&&p.end()>=g.endA;if((fc&&t.input.lastIOSEnter>Date.now()-225&&(!v||i.some(F=>F.nodeName=="DIV"||F.nodeName=="P"))||!v&&y.pos<u.doc.content.size&&(!y.sameParent(x)||!y.parent.inlineContent)&&y.pos<x.pos&&!/\S/.test(u.doc.textBetween(y.pos,x.pos,"","")))&&t.someProp("handleKeyDown",F=>F(t,ul(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>g.start&&XM(c,g.start,g.endA,y,x)&&t.someProp("handleKeyDown",F=>F(t,ul(8,"Backspace")))){go&&pn&&t.domObserver.suppressSelectionUpdates();return}pn&&g.endB==g.start&&(t.input.lastChromeDelete=Date.now()),go&&!v&&y.start()!=x.start()&&x.parentOffset==0&&y.depth==x.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==g.endA&&(g.endB-=2,x=u.doc.resolveNoCache(g.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(F){return F(t,ul(13,"Enter"))})},20));let b=g.start,w=g.endA,N=F=>{let z=F||t.state.tr.replace(b,w,u.doc.slice(g.start-u.from,g.endB-u.from));if(u.sel){let T=e3(t,z.doc,u.sel);T&&!(pn&&t.composing&&T.empty&&(g.start!=g.endB||t.input.lastChromeDelete<Date.now()-100)&&(T.head==b||T.head==z.mapping.map(w)-1)||Yn&&T.empty&&T.head==b)&&z.setSelection(T)}return s&&z.setMeta("composition",s),z.scrollIntoView()},j;if(v)if(y.pos==x.pos){Yn&&Sa<=11&&y.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>xo(t),20));let F=N(t.state.tr.delete(b,w)),z=c.resolve(g.start).marksAcross(c.resolve(g.endA));z&&F.ensureMarks(z),t.dispatch(F)}else if(g.endA==g.endB&&(j=YM(y.parent.content.cut(y.parentOffset,x.parentOffset),p.parent.content.cut(p.parentOffset,g.endA-p.start())))){let F=N(t.state.tr);j.type=="add"?F.addMark(b,w,j.mark):F.removeMark(b,w,j.mark),t.dispatch(F)}else if(y.parent.child(y.index()).isText&&y.index()==x.index()-(x.textOffset?0:1)){let F=y.parent.textBetween(y.parentOffset,x.parentOffset),z=()=>N(t.state.tr.insertText(F,b,w));t.someProp("handleTextInput",T=>T(t,b,w,F,z))||t.dispatch(z())}else t.dispatch(N());else t.dispatch(N())}function e3(t,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:i5(t,e.resolve(r.anchor),e.resolve(r.head))}function YM(t,e){let r=t.firstChild.marks,n=e.firstChild.marks,i=r,s=n,o,a,l;for(let c=0;c<n.length;c++)i=n[c].removeFromSet(i);for(let c=0;c<r.length;c++)s=r[c].removeFromSet(s);if(i.length==1&&s.length==0)a=i[0],o="add",l=c=>c.mark(a.addToSet(c.marks));else if(i.length==0&&s.length==1)a=s[0],o="remove",l=c=>c.mark(a.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<e.childCount;c++)u.push(l(e.child(c)));if(ze.from(u).eq(t))return{mark:a,type:o}}function XM(t,e,r,n,i){if(r-e<=i.pos-n.pos||q1(n,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!n.parent.isTextblock){let a=s.nodeAfter;return a!=null&&r==e+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=t.resolve(q1(s,!0,!0));return!o.parent.isTextblock||o.pos>r||q1(o,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(o.parent.content)}function q1(t,e,r){let n=t.depth,i=e?t.end():t.pos;for(;n>0&&(e||t.indexAfter(n)==t.node(n).childCount);)n--,i++,e=!1;if(r){let s=t.node(n).maybeChild(t.indexAfter(n));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function ZM(t,e,r,n,i){let s=t.findDiffStart(e,r);if(s==null)return null;let{a:o,b:a}=t.findDiffEnd(e,r+t.size,r+e.size);if(i=="end"){let l=Math.max(0,s-Math.min(o,a));n-=o+l-s}if(o<s&&t.size<e.size){let l=n<=s&&n>=o?s-n:0;s-=l,s&&s<e.size&&t3(e.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-o),o=s}else if(a<s){let l=n<=s&&n>=a?s-n:0;s-=l,s&&s<t.size&&t3(t.textBetween(s-1,s+1))&&(s+=l?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function t3(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),r=t.charCodeAt(1);return e>=56320&&e<=57343&&r>=55296&&r<=56319}class D8{constructor(e,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new pM,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(o3),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=i3(this),n3(this),this.nodeViews=s3(this),this.docView=DS(this.state.doc,r3(this),U1(this),this.dom,this),this.domObserver=new UM(this,(n,i,s,o)=>JM(this,n,i,s,o)),this.domObserver.start(),mM(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let r in e)this._props[r]=e[r];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&O2(this);let r=this._props;this._props=e,e.plugins&&(e.plugins.forEach(o3),this.directPlugins=e.plugins),this.updateStateInner(e.state,r)}setProps(e){let r={};for(let n in this._props)r[n]=this._props[n];r.state=this.state;for(let n in e)r[n]=e[n];this.update(r)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,r){var n;let i=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(T8(this),o=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=r.plugins;if(a||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let f=s3(this);eD(f,this.nodeViews)&&(this.nodeViews=f,s=!0)}(a||r.handleDOMEvents!=this._props.handleDOMEvents)&&O2(this),this.editable=i3(this),n3(this);let l=U1(this),u=r3(this),c=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",h=s||!this.docView.matchesNode(e.doc,u,l);(h||!e.selection.eq(i.selection))&&(o=!0);let d=c=="preserve"&&o&&this.dom.style.overflowAnchor==null&&TI(this);if(o){this.domObserver.stop();let f=h&&(Yn||pn)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&QM(i.selection,e.selection);if(h){let g=pn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=TM(this)),(s||!this.docView.update(e.doc,u,l,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=DS(e.doc,u,l,this.dom,this)),g&&(!this.trackWrites||!this.dom.contains(this.trackWrites))&&(f=!0)}f||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&QI(this))?xo(this,f):(y8(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((n=this.dragging)===null||n===void 0)&&n.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),c=="reset"?this.dom.scrollTop=0:c=="to selection"?this.scrollToSelection():d&&LI(d)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof ut){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&LS(this,r.getBoundingClientRect(),e)}else LS(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let n=this.state.plugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let n=this.pluginViews[r];n.update&&n.update(this,e)}}updateDraggedNode(e,r){let n=e.node,i=-1;if(this.state.doc.nodeAt(n.from)==n.node)i=n.from;else{let s=n.from+(this.state.doc.content.size-r.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==n.node&&(i=s)}this.dragging=new O8(e.slice,e.move,i<0?void 0:ut.create(this.state.doc,i))}someProp(e,r){let n=this._props&&this._props[e],i;if(n!=null&&(i=r?r(n):n))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(i=r?r(a):a))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[e];if(a!=null&&(i=r?r(a):a))return i}}hasFocus(){if(Yn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&OI(this.dom),xo(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return e||document}updateRoot(){this._root=null}posAtCoords(e){return DI(this,e)}coordsAtPos(e,r=1){return u8(this,e,r)}domAtPos(e,r=0){return this.docView.domFromPos(e,r)}nodeDOM(e){let r=this.docView.descAt(e);return r?r.nodeDOM:null}posAtDOM(e,r,n=-1){let i=this.docView.posFromDOM(e,r,n);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,r){return UI(this,r||this.state,e)}pasteHTML(e,r){return vh(this,"",e,!1,r||new ClipboardEvent("paste"))}pasteText(e,r){return vh(this,e,null,!0,r||new ClipboardEvent("paste"))}serializeForClipboard(e){return s5(this,e)}destroy(){this.docView&&(gM(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],U1(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,wI())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return vM(this,e)}domSelectionRange(){let e=this.domSelection();return e?Tn&&this.root.nodeType===11&&_I(this.dom.ownerDocument)==this.dom&&WM(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}D8.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function r3(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(t.state)),r)for(let n in r)n=="class"?e.class+=" "+r[n]:n=="style"?e.style=(e.style?e.style+";":"")+r[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(r[n]))}),e.translate||(e.translate="no"),[fi.node(0,t.state.doc.content.size,e)]}function n3(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:fi.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function i3(t){return!t.someProp("editable",e=>e(t.state)===!1)}function QM(t,e){let r=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(r)!=e.$anchor.start(r)}function s3(t){let e=Object.create(null);function r(n){for(let i in n)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=n[i])}return t.someProp("nodeViews",r),t.someProp("markViews",r),e}function eD(t,e){let r=0,n=0;for(let i in t){if(t[i]!=e[i])return!0;r++}for(let i in e)n++;return r!=n}function o3(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Na={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Sm={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},tD=typeof navigator<"u"&&/Mac/.test(navigator.platform),rD=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var dn=0;dn<10;dn++)Na[48+dn]=Na[96+dn]=String(dn);for(var dn=1;dn<=24;dn++)Na[dn+111]="F"+dn;for(var dn=65;dn<=90;dn++)Na[dn]=String.fromCharCode(dn+32),Sm[dn]=String.fromCharCode(dn);for(var W1 in Na)Sm.hasOwnProperty(W1)||(Sm[W1]=Na[W1]);function nD(t){var e=tD&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||rD&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!e&&t.key||(t.shiftKey?Sm:Na)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}const iD=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),sD=typeof navigator<"u"&&/Win/.test(navigator.platform);function oD(t){let e=t.split(/-(?!$)/),r=e[e.length-1];r=="Space"&&(r=" ");let n,i,s,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))iD?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return n&&(r="Alt-"+r),i&&(r="Ctrl-"+r),o&&(r="Meta-"+r),s&&(r="Shift-"+r),r}function aD(t){let e=Object.create(null);for(let r in t)e[oD(r)]=t[r];return e}function H1(t,e,r=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r&&e.shiftKey&&(t="Shift-"+t),t}function lD(t){return new qn({props:{handleKeyDown:F8(t)}})}function F8(t){let e=aD(t);return function(r,n){let i=nD(n),s,o=e[H1(i,n)];if(o&&o(r.state,r.dispatch,r))return!0;if(i.length==1&&i!=" "){if(n.shiftKey){let a=e[H1(i,n,!1)];if(a&&a(r.state,r.dispatch,r))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(sD&&n.ctrlKey&&n.altKey)&&(s=Na[n.keyCode])&&s!=i){let a=e[H1(s,n)];if(a&&a(r.state,r.dispatch,r))return!0}}return!1}}const f5=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function B8(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("backward",t):r.parentOffset>0)?null:r}const j8=(t,e,r)=>{let n=B8(t,r);if(!n)return!1;let i=h5(n);if(!i){let o=n.blockRange(),a=o&&Ec(o);return a==null?!1:(e&&e(t.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(G8(t,i,e,-1))return!0;if(n.parent.content.size==0&&(hc(s,"end")||ut.isSelectable(s)))for(let o=n.depth;;o--){let a=Qm(t.doc,n.before(o),n.after(o),Ge.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(hc(s,"end")?Ct.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):ut.create(l.doc,i.pos-s.nodeSize)),e(l.scrollIntoView())}return!0}if(o==1||n.node(o-1).childCount>1)break}return s.isAtom&&i.depth==n.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},uD=(t,e,r)=>{let n=B8(t,r);if(!n)return!1;let i=h5(n);return i?z8(t,i,e):!1},cD=(t,e,r)=>{let n=q8(t,r);if(!n)return!1;let i=d5(n);return i?z8(t,i,e):!1};function z8(t,e,r){let n=e.nodeBefore,i=n,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let c=i.lastChild;if(!c)return!1;i=c}let o=e.nodeAfter,a=o,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let c=a.firstChild;if(!c)return!1;a=c}let u=Qm(t.doc,s,l,Ge.empty);if(!u||u.from!=s||u instanceof Xr&&u.slice.size>=l-s)return!1;if(r){let c=t.tr.step(u);c.setSelection(wt.create(c.doc,s)),r(c.scrollIntoView())}return!0}function hc(t,e,r=!1){for(let n=t;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}const U8=(t,e,r)=>{let{$head:n,empty:i}=t.selection,s=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",t):n.parentOffset>0)return!1;s=h5(n)}let o=s&&s.nodeBefore;return!o||!ut.isSelectable(o)?!1:(e&&e(t.tr.setSelection(ut.create(t.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function h5(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function q8(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)?null:r}const W8=(t,e,r)=>{let n=q8(t,r);if(!n)return!1;let i=d5(n);if(!i)return!1;let s=i.nodeAfter;if(G8(t,i,e,1))return!0;if(n.parent.content.size==0&&(hc(s,"start")||ut.isSelectable(s))){let o=Qm(t.doc,n.before(),n.after(),Ge.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=t.tr.step(o);a.setSelection(hc(s,"start")?Ct.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):ut.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==n.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},H8=(t,e,r)=>{let{$head:n,empty:i}=t.selection,s=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)return!1;s=d5(n)}let o=s&&s.nodeAfter;return!o||!ut.isSelectable(o)?!1:(e&&e(t.tr.setSelection(ut.create(t.doc,s.pos)).scrollIntoView()),!0)};function d5(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let r=t.node(e);if(t.index(e)+1<r.childCount)return t.doc.resolve(t.after(e+1));if(r.type.spec.isolating)break}return null}const fD=(t,e)=>{let r=t.selection,n=r instanceof ut,i;if(n){if(r.node.isTextblock||!Ra(t.doc,r.from))return!1;i=r.from}else if(i=Zm(t.doc,r.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);n&&s.setSelection(ut.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},hD=(t,e)=>{let r=t.selection,n;if(r instanceof ut){if(r.node.isTextblock||!Ra(t.doc,r.to))return!1;n=r.to}else if(n=Zm(t.doc,r.to,1),n==null)return!1;return e&&e(t.tr.join(n).scrollIntoView()),!0},dD=(t,e)=>{let{$from:r,$to:n}=t.selection,i=r.blockRange(n),s=i&&Ec(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},V8=(t,e)=>{let{$head:r,$anchor:n}=t.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function p5(t){for(let e=0;e<t.edgeCount;e++){let{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const pD=(t,e)=>{let{$head:r,$anchor:n}=t.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let i=r.node(-1),s=r.indexAfter(-1),o=p5(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(e){let a=r.after(),l=t.tr.replaceWith(a,a,o.createAndFill());l.setSelection(Ct.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},$8=(t,e)=>{let r=t.selection,{$from:n,$to:i}=r;if(r instanceof pi||n.parent.inlineContent||i.parent.inlineContent)return!1;let s=p5(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!n.parentOffset&&i.index()<i.parent.childCount?n:i).pos,a=t.tr.insert(o,s.createAndFill());a.setSelection(wt.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},K8=(t,e)=>{let{$cursor:r}=t.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let s=r.before();if(bo(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let n=r.blockRange(),i=n&&Ec(n);return i==null?!1:(e&&e(t.tr.lift(n,i).scrollIntoView()),!0)};function mD(t){return(e,r)=>{let{$from:n,$to:i}=e.selection;if(e.selection instanceof ut&&e.selection.node.isBlock)return!n.parentOffset||!bo(e.doc,n.pos)?!1:(r&&r(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let s=[],o,a,l=!1,u=!1;for(let f=n.depth;;f--)if(n.node(f).isBlock){l=n.end(f)==n.pos+(n.depth-f),u=n.start(f)==n.pos-(n.depth-f),a=p5(n.node(f-1).contentMatchAt(n.indexAfter(f-1))),s.unshift(l&&a?{type:a}:null),o=f;break}else{if(f==1)return!1;s.unshift(null)}let c=e.tr;(e.selection instanceof wt||e.selection instanceof pi)&&c.deleteSelection();let h=c.mapping.map(n.pos),d=bo(c.doc,h,s.length,s);if(d||(s[0]=a?{type:a}:null,d=bo(c.doc,h,s.length,s)),!d)return!1;if(c.split(h,s.length,s),!l&&u&&n.node(o).type!=a){let f=c.mapping.map(n.before(o)),g=c.doc.resolve(f);a&&n.node(o-1).canReplaceWith(g.index(),g.index()+1,a)&&c.setNodeMarkup(c.mapping.map(n.before(o)),a)}return r&&r(c.scrollIntoView()),!0}}const gD=mD(),yD=(t,e)=>{let{$from:r,to:n}=t.selection,i,s=r.sharedDepth(n);return s==0?!1:(i=r.before(s),e&&e(t.tr.setSelection(ut.create(t.doc,i))),!0)};function vD(t,e,r){let n=e.nodeBefore,i=e.nodeAfter,s=e.index();return!n||!i||!n.type.compatibleContent(i.type)?!1:!n.content.size&&e.parent.canReplace(s-1,s)?(r&&r(t.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||Ra(t.doc,e.pos))?!1:(r&&r(t.tr.join(e.pos).scrollIntoView()),!0)}function G8(t,e,r,n){let i=e.nodeBefore,s=e.nodeAfter,o,a,l=i.type.spec.isolating||s.type.spec.isolating;if(!l&&vD(t,e,r))return!0;let u=!l&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(o=(a=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&a.matchType(o[0]||s.type).validEnd){if(r){let f=e.pos+s.nodeSize,g=ze.empty;for(let p=o.length-1;p>=0;p--)g=ze.from(o[p].create(null,g));g=ze.from(i.copy(g));let y=t.tr.step(new Qr(e.pos-1,f,e.pos,f,new Ge(g,1,0),o.length,!0)),x=y.doc.resolve(f+2*o.length);x.nodeAfter&&x.nodeAfter.type==i.type&&Ra(y.doc,x.pos)&&y.join(x.pos),r(y.scrollIntoView())}return!0}let c=s.type.spec.isolating||n>0&&l?null:Ct.findFrom(e,1),h=c&&c.$from.blockRange(c.$to),d=h&&Ec(h);if(d!=null&&d>=e.depth)return r&&r(t.tr.lift(h,d).scrollIntoView()),!0;if(u&&hc(s,"start",!0)&&hc(i,"end")){let f=i,g=[];for(;g.push(f),!f.isTextblock;)f=f.lastChild;let y=s,x=1;for(;!y.isTextblock;y=y.firstChild)x++;if(f.canReplace(f.childCount,f.childCount,y.content)){if(r){let p=ze.empty;for(let b=g.length-1;b>=0;b--)p=ze.from(g[b].copy(p));let v=t.tr.step(new Qr(e.pos-g.length,e.pos+s.nodeSize,e.pos+x,e.pos+s.nodeSize-x,new Ge(p,g.length,0),0,!0));r(v.scrollIntoView())}return!0}}return!1}function J8(t){return function(e,r){let n=e.selection,i=t<0?n.$from:n.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(r&&r(e.tr.setSelection(wt.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const wD=J8(-1),bD=J8(1);function xD(t,e=null){return function(r,n){let{$from:i,$to:s}=r.selection,o=i.blockRange(s),a=o&&e5(o,t,e);return a?(n&&n(r.tr.wrap(o,a).scrollIntoView()),!0):!1}}function a3(t,e=null){return function(r,n){let i=!1;for(let s=0;s<r.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:a}}=r.selection.ranges[s];r.doc.nodesBetween(o,a,(l,u)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let c=r.doc.resolve(u),h=c.index();i=c.parent.canReplaceWith(h,h+1,t)}})}if(!i)return!1;if(n){let s=r.tr;for(let o=0;o<r.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=r.selection.ranges[o];s.setBlockType(a,l,t,e)}n(s.scrollIntoView())}return!0}}function m5(...t){return function(e,r,n){for(let i=0;i<t.length;i++)if(t[i](e,r,n))return!0;return!1}}m5(f5,j8,U8);m5(f5,W8,H8);m5(V8,$8,K8,gD);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function SD(t,e=null){return function(r,n){let{$from:i,$to:s}=r.selection,o=i.blockRange(s);if(!o)return!1;let a=n?r.tr:null;return kD(a,o,t,e)?(n&&n(a.scrollIntoView()),!0):!1}}function kD(t,e,r,n=null){let i=!1,s=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(r)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=o.resolve(e.start-2);s=new mm(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new mm(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let a=e5(s,r,n,e);return a?(t&&_D(t,e,a,i,r),!0):!1}function _D(t,e,r,n,i){let s=ze.empty;for(let c=r.length-1;c>=0;c--)s=ze.from(r[c].type.create(r[c].attrs,s));t.step(new Qr(e.start-(n?2:0),e.end,e.start,e.end,new Ge(s,0,0),r.length,!0));let o=0;for(let c=0;c<r.length;c++)r[c].type==i&&(o=c+1);let a=r.length-o,l=e.start+r.length-(n?2:0),u=e.parent;for(let c=e.startIndex,h=e.endIndex,d=!0;c<h;c++,d=!1)!d&&bo(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=u.child(c).nodeSize;return t}function AD(t){return function(e,r){let{$from:n,$to:i}=e.selection,s=n.blockRange(i,o=>o.childCount>0&&o.firstChild.type==t);return s?r?n.node(s.depth-1).type==t?ED(e,r,t,s):ND(e,r,s):!0:!1}}function ED(t,e,r,n){let i=t.tr,s=n.end,o=n.$to.end(n.depth);s<o&&(i.step(new Qr(s-1,o,s,o,new Ge(ze.from(r.create(null,n.parent.copy())),1,0),1,!0)),n=new mm(i.doc.resolve(n.$from.pos),i.doc.resolve(o),n.depth));const a=Ec(n);if(a==null)return!1;i.lift(n,a);let l=i.doc.resolve(i.mapping.map(s,-1)-1);return Ra(i.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&i.join(l.pos),e(i.scrollIntoView()),!0}function ND(t,e,r){let n=t.tr,i=r.parent;for(let f=r.end,g=r.endIndex-1,y=r.startIndex;g>y;g--)f-=i.child(g).nodeSize,n.delete(f-1,f+1);let s=n.doc.resolve(r.start),o=s.nodeAfter;if(n.mapping.map(r.end)!=r.start+s.nodeAfter.nodeSize)return!1;let a=r.startIndex==0,l=r.endIndex==i.childCount,u=s.node(-1),c=s.index(-1);if(!u.canReplace(c+(a?0:1),c+1,o.content.append(l?ze.empty:ze.from(i))))return!1;let h=s.pos,d=h+o.nodeSize;return n.step(new Qr(h-(a?1:0),d+(l?1:0),h+1,d-1,new Ge((a?ze.empty:ze.from(i.copy(ze.empty))).append(l?ze.empty:ze.from(i.copy(ze.empty))),a?0:1,l?0:1),a?0:1)),e(n.scrollIntoView()),!0}function CD(t){return function(e,r){let{$from:n,$to:i}=e.selection,s=n.blockRange(i,u=>u.childCount>0&&u.firstChild.type==t);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let a=s.parent,l=a.child(o-1);if(l.type!=t)return!1;if(r){let u=l.lastChild&&l.lastChild.type==a.type,c=ze.from(u?t.create():null),h=new Ge(ze.from(t.create(null,ze.from(a.type.create(null,c)))),u?3:1,0),d=s.start,f=s.end;r(e.tr.step(new Qr(d-(u?3:1),f,d,f,h,1,!0)).scrollIntoView())}return!0}}function ig(t){const{state:e,transaction:r}=t;let{selection:n}=r,{doc:i}=r,{storedMarks:s}=r;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return n},get doc(){return i},get tr(){return n=r.selection,i=r.doc,s=r.storedMarks,r}}}class sg{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:r,state:n}=this,{view:i}=r,{tr:s}=n,o=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...c)=>{const h=l(...c)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),h}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,r=!0){const{rawCommands:n,editor:i,state:s}=this,{view:o}=i,a=[],l=!!e,u=e||s.tr,c=()=>(!l&&r&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(u),a.every(d=>d===!0)),h={...Object.fromEntries(Object.entries(n).map(([d,f])=>[d,(...y)=>{const x=this.buildProps(u,r),p=f(...y)(x);return a.push(p),h}])),run:c};return h}createCan(e){const{rawCommands:r,state:n}=this,i=!1,s=e||n.tr,o=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(r).map(([l,u])=>[l,(...c)=>u(...c)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,i)}}buildProps(e,r=!0){const{rawCommands:n,editor:i,state:s}=this,{view:o}=i,a={tr:e,editor:i,view:o,state:ig({state:s,transaction:e}),dispatch:r?()=>{}:void 0,chain:()=>this.createChain(e,r),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([l,u])=>[l,(...c)=>u(...c)(a)]))}};return a}}class TD{constructor(){this.callbacks={}}on(e,r){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(r),this}emit(e,...r){const n=this.callbacks[e];return n&&n.forEach(i=>i.apply(this,r)),this}off(e,r){const n=this.callbacks[e];return n&&(r?this.callbacks[e]=n.filter(i=>i!==r):delete this.callbacks[e]),this}once(e,r){const n=(...i)=>{this.off(e,n),r.apply(this,i)};return this.on(e,n)}removeAllListeners(){this.callbacks={}}}function et(t,e,r){return t.config[e]===void 0&&t.parent?et(t.parent,e,r):typeof t.config[e]=="function"?t.config[e].bind({...r,parent:t.parent?et(t.parent,e,r):null}):t.config[e]}function og(t){const e=t.filter(i=>i.type==="extension"),r=t.filter(i=>i.type==="node"),n=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:r,markExtensions:n}}function Y8(t){const e=[],{nodeExtensions:r,markExtensions:n}=og(t),i=[...r,...n],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:i},l=et(o,"addGlobalAttributes",a);if(!l)return;l().forEach(c=>{c.types.forEach(h=>{Object.entries(c.attributes).forEach(([d,f])=>{e.push({type:h,name:d,attribute:{...s,...f}})})})})}),i.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=et(o,"addAttributes",a);if(!l)return;const u=l();Object.entries(u).forEach(([c,h])=>{const d={...s,...h};typeof(d==null?void 0:d.default)=="function"&&(d.default=d.default()),d!=null&&d.isRequired&&(d==null?void 0:d.default)===void 0&&delete d.default,e.push({type:o.name,name:c,attribute:d})})}),e}function tn(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function xr(...t){return t.filter(e=>!!e).reduce((e,r)=>{const n={...e};return Object.entries(r).forEach(([i,s])=>{if(!n[i]){n[i]=s;return}if(i==="class"){const a=s?String(s).split(" "):[],l=n[i]?n[i].split(" "):[],u=a.filter(c=>!l.includes(c));n[i]=[...l,...u].join(" ")}else if(i==="style"){const a=s?s.split(";").map(c=>c.trim()).filter(Boolean):[],l=n[i]?n[i].split(";").map(c=>c.trim()).filter(Boolean):[],u=new Map;l.forEach(c=>{const[h,d]=c.split(":").map(f=>f.trim());u.set(h,d)}),a.forEach(c=>{const[h,d]=c.split(":").map(f=>f.trim());u.set(h,d)}),n[i]=Array.from(u.entries()).map(([c,h])=>`${c}: ${h}`).join("; ")}else n[i]=s}),n},{})}function P2(t,e){return e.filter(r=>r.type===t.type.name).filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(t.attrs)||{}:{[r.name]:t.attrs[r.name]}).reduce((r,n)=>xr(r,n),{})}function X8(t){return typeof t=="function"}function Tt(t,e=void 0,...r){return X8(t)?e?t.bind(e)(...r):t(...r):t}function LD(t={}){return Object.keys(t).length===0&&t.constructor===Object}function OD(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function l3(t,e){return"style"in t?t:{...t,getAttrs:r=>{const n=t.getAttrs?t.getAttrs(r):t.attrs;if(n===!1)return!1;const i=e.reduce((s,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(r):OD(r.getAttribute(o.name));return a==null?s:{...s,[o.name]:a}},{});return{...n,...i}}}}function u3(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>e==="attrs"&&LD(r)?!1:r!=null))}function PD(t,e){var r;const n=Y8(t),{nodeExtensions:i,markExtensions:s}=og(t),o=(r=i.find(u=>et(u,"topNode")))===null||r===void 0?void 0:r.name,a=Object.fromEntries(i.map(u=>{const c=n.filter(p=>p.type===u.name),h={name:u.name,options:u.options,storage:u.storage,editor:e},d=t.reduce((p,v)=>{const b=et(v,"extendNodeSchema",h);return{...p,...b?b(u):{}}},{}),f=u3({...d,content:Tt(et(u,"content",h)),marks:Tt(et(u,"marks",h)),group:Tt(et(u,"group",h)),inline:Tt(et(u,"inline",h)),atom:Tt(et(u,"atom",h)),selectable:Tt(et(u,"selectable",h)),draggable:Tt(et(u,"draggable",h)),code:Tt(et(u,"code",h)),whitespace:Tt(et(u,"whitespace",h)),linebreakReplacement:Tt(et(u,"linebreakReplacement",h)),defining:Tt(et(u,"defining",h)),isolating:Tt(et(u,"isolating",h)),attrs:Object.fromEntries(c.map(p=>{var v;return[p.name,{default:(v=p==null?void 0:p.attribute)===null||v===void 0?void 0:v.default}]}))}),g=Tt(et(u,"parseHTML",h));g&&(f.parseDOM=g.map(p=>l3(p,c)));const y=et(u,"renderHTML",h);y&&(f.toDOM=p=>y({node:p,HTMLAttributes:P2(p,c)}));const x=et(u,"renderText",h);return x&&(f.toText=x),[u.name,f]})),l=Object.fromEntries(s.map(u=>{const c=n.filter(x=>x.type===u.name),h={name:u.name,options:u.options,storage:u.storage,editor:e},d=t.reduce((x,p)=>{const v=et(p,"extendMarkSchema",h);return{...x,...v?v(u):{}}},{}),f=u3({...d,inclusive:Tt(et(u,"inclusive",h)),excludes:Tt(et(u,"excludes",h)),group:Tt(et(u,"group",h)),spanning:Tt(et(u,"spanning",h)),code:Tt(et(u,"code",h)),attrs:Object.fromEntries(c.map(x=>{var p;return[x.name,{default:(p=x==null?void 0:x.attribute)===null||p===void 0?void 0:p.default}]}))}),g=Tt(et(u,"parseHTML",h));g&&(f.parseDOM=g.map(x=>l3(x,c)));const y=et(u,"renderHTML",h);return y&&(f.toDOM=x=>y({mark:x,HTMLAttributes:P2(x,c)})),[u.name,f]}));return new BE({topNode:o,nodes:a,marks:l})}function V1(t,e){return e.nodes[t]||e.marks[t]||null}function c3(t,e){return Array.isArray(e)?e.some(r=>(typeof r=="string"?r:r.name)===t.name):e}function g5(t,e){const r=Wl.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(r),i.innerHTML}const RD=(t,e=500)=>{let r="";const n=t.parentOffset;return t.parent.nodesBetween(Math.max(0,n-e),n,(i,s,o,a)=>{var l,u;const c=((u=(l=i.type.spec).toText)===null||u===void 0?void 0:u.call(l,{node:i,pos:s,parent:o,index:a}))||i.textContent||"%leaf%";r+=i.isAtom&&!i.isText?c:c.slice(0,Math.max(0,n-s))}),r};function y5(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class Ih{constructor(e){this.find=e.find,this.handler=e.handler}}const ID=(t,e)=>{if(y5(e))return e.exec(t);const r=e(t);if(!r)return null;const n=[r.text];return n.index=r.index,n.input=t,n.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(r.replaceWith)),n};function Wd(t){var e;const{editor:r,from:n,to:i,text:s,rules:o,plugin:a}=t,{view:l}=r;if(l.composing)return!1;const u=l.state.doc.resolve(n);if(u.parent.type.spec.code||!((e=u.nodeBefore||u.nodeAfter)===null||e===void 0)&&e.marks.find(d=>d.type.spec.code))return!1;let c=!1;const h=RD(u)+s;return o.forEach(d=>{if(c)return;const f=ID(h,d.find);if(!f)return;const g=l.state.tr,y=ig({state:l.state,transaction:g}),x={from:n-(f[0].length-s.length),to:i},{commands:p,chain:v,can:b}=new sg({editor:r,state:y});d.handler({state:y,range:x,match:f,commands:p,chain:v,can:b})===null||!g.steps.length||(g.setMeta(a,{transform:g,from:n,to:i,text:s}),l.dispatch(g),c=!0)}),c}function MD(t){const{editor:e,rules:r}=t,n=new qn({state:{init(){return null},apply(i,s,o){const a=i.getMeta(n);if(a)return a;const l=i.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:c}=l;typeof c=="string"?c=c:c=g5(ze.from(c),o.schema);const{from:h}=l,d=h+c.length;Wd({editor:e,from:h,to:d,text:c,rules:r,plugin:n})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,o,a){return Wd({editor:e,from:s,to:o,text:a,rules:r,plugin:n})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&Wd({editor:e,from:s.pos,to:s.pos,text:"",rules:r,plugin:n})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:o}=i.state.selection;return o?Wd({editor:e,from:o.pos,to:o.pos,text:`
`,rules:r,plugin:n}):!1}},isInputRules:!0});return n}function DD(t){return Object.prototype.toString.call(t).slice(8,-1)}function Hd(t){return DD(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function ag(t,e){const r={...t};return Hd(t)&&Hd(e)&&Object.keys(e).forEach(n=>{Hd(e[n])&&Hd(t[n])?r[n]=ag(t[n],e[n]):r[n]=e[n]}),r}class Eo{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Tt(et(this,"addOptions",{name:this.name}))),this.storage=Tt(et(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Eo(e)}configure(e={}){const r=this.extend({...this.config,addOptions:()=>ag(this.options,e)});return r.name=this.name,r.parent=this.parent,r}extend(e={}){const r=new Eo(e);return r.parent=this,this.child=r,r.name=e.name?e.name:r.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=Tt(et(r,"addOptions",{name:r.name})),r.storage=Tt(et(r,"addStorage",{name:r.name,options:r.options})),r}static handleExit({editor:e,mark:r}){const{tr:n}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const o=i.marks();if(!!!o.find(u=>(u==null?void 0:u.type.name)===r.name))return!1;const l=o.find(u=>(u==null?void 0:u.type.name)===r.name);return l&&n.removeStoredMark(l),n.insertText(" ",i.pos),e.view.dispatch(n),!0}return!1}}function FD(t){return typeof t=="number"}class BD{constructor(e){this.find=e.find,this.handler=e.handler}}const jD=(t,e,r)=>{if(y5(e))return[...t.matchAll(e)];const n=e(t,r);return n?n.map(i=>{const s=[i.text];return s.index=i.index,s.input=t,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function zD(t){const{editor:e,state:r,from:n,to:i,rule:s,pasteEvent:o,dropEvent:a}=t,{commands:l,chain:u,can:c}=new sg({editor:e,state:r}),h=[];return r.doc.nodesBetween(n,i,(f,g)=>{if(!f.isTextblock||f.type.spec.code)return;const y=Math.max(n,g),x=Math.min(i,g+f.content.size),p=f.textBetween(y-g,x-g,void 0,"");jD(p,s.find,o).forEach(b=>{if(b.index===void 0)return;const w=y+b.index+1,N=w+b[0].length,j={from:r.tr.mapping.map(w),to:r.tr.mapping.map(N)},F=s.handler({state:r,range:j,match:b,commands:l,chain:u,can:c,pasteEvent:o,dropEvent:a});h.push(F)})}),h.every(f=>f!==null)}let Vd=null;const UD=t=>{var e;const r=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=r.clipboardData)===null||e===void 0||e.setData("text/html",t),r};function qD(t){const{editor:e,rules:r}=t;let n=null,i=!1,s=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:c,from:h,to:d,rule:f,pasteEvt:g})=>{const y=c.tr,x=ig({state:c,transaction:y});if(!(!zD({editor:e,state:x,from:Math.max(h-1,0),to:d.b-1,rule:f,pasteEvent:g,dropEvent:a})||!y.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,y}};return r.map(c=>new qn({view(h){const d=g=>{var y;n=!((y=h.dom.parentElement)===null||y===void 0)&&y.contains(g.target)?h.dom.parentElement:null,n&&(Vd=e)},f=()=>{Vd&&(Vd=null)};return window.addEventListener("dragstart",d),window.addEventListener("dragend",f),{destroy(){window.removeEventListener("dragstart",d),window.removeEventListener("dragend",f)}}},props:{handleDOMEvents:{drop:(h,d)=>{if(s=n===h.dom.parentElement,a=d,!s){const f=Vd;f!=null&&f.isEditable&&setTimeout(()=>{const g=f.state.selection;g&&f.commands.deleteRange({from:g.from,to:g.to})},10)}return!1},paste:(h,d)=>{var f;const g=(f=d.clipboardData)===null||f===void 0?void 0:f.getData("text/html");return o=d,i=!!(g!=null&&g.includes("data-pm-slice")),!1}}},appendTransaction:(h,d,f)=>{const g=h[0],y=g.getMeta("uiEvent")==="paste"&&!i,x=g.getMeta("uiEvent")==="drop"&&!s,p=g.getMeta("applyPasteRules"),v=!!p;if(!y&&!x&&!v)return;if(v){let{text:N}=p;typeof N=="string"?N=N:N=g5(ze.from(N),f.schema);const{from:j}=p,F=j+N.length,z=UD(N);return l({rule:c,state:f,from:j,to:{b:F},pasteEvt:z})}const b=d.doc.content.findDiffStart(f.doc.content),w=d.doc.content.findDiffEnd(f.doc.content);if(!(!FD(b)||!w||b===w.b))return l({rule:c,state:f,from:b,to:w,pasteEvt:o})}}))}function WD(t){const e=t.filter((r,n)=>t.indexOf(r)!==n);return Array.from(new Set(e))}class Bu{constructor(e,r){this.splittableMarks=[],this.editor=r,this.extensions=Bu.resolve(e),this.schema=PD(this.extensions,r),this.setupExtensions()}static resolve(e){const r=Bu.sort(Bu.flatten(e)),n=WD(r.map(i=>i.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),r}static flatten(e){return e.map(r=>{const n={name:r.name,options:r.options,storage:r.storage},i=et(r,"addExtensions",n);return i?[r,...this.flatten(i())]:r}).flat(10)}static sort(e){return e.sort((n,i)=>{const s=et(n,"priority")||100,o=et(i,"priority")||100;return s>o?-1:s<o?1:0})}get commands(){return this.extensions.reduce((e,r)=>{const n={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:V1(r.name,this.schema)},i=et(r,"addCommands",n);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,r=Bu.sort([...this.extensions].reverse()),n=[],i=[],s=r.map(o=>{const a={name:o.name,options:o.options,storage:o.storage,editor:e,type:V1(o.name,this.schema)},l=[],u=et(o,"addKeyboardShortcuts",a);let c={};if(o.type==="mark"&&et(o,"exitable",a)&&(c.ArrowRight=()=>Eo.handleExit({editor:e,mark:o})),u){const y=Object.fromEntries(Object.entries(u()).map(([x,p])=>[x,()=>p({editor:e})]));c={...c,...y}}const h=lD(c);l.push(h);const d=et(o,"addInputRules",a);c3(o,e.options.enableInputRules)&&d&&n.push(...d());const f=et(o,"addPasteRules",a);c3(o,e.options.enablePasteRules)&&f&&i.push(...f());const g=et(o,"addProseMirrorPlugins",a);if(g){const y=g();l.push(...y)}return l}).flat();return[MD({editor:e,rules:n}),...qD({editor:e,rules:i}),...s]}get attributes(){return Y8(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:r}=og(this.extensions);return Object.fromEntries(r.filter(n=>!!et(n,"addNodeView")).map(n=>{const i=this.attributes.filter(l=>l.type===n.name),s={name:n.name,options:n.options,storage:n.storage,editor:e,type:tn(n.name,this.schema)},o=et(n,"addNodeView",s);if(!o)return[];const a=(l,u,c,h,d)=>{const f=P2(l,i);return o()({node:l,view:u,getPos:c,decorations:h,innerDecorations:d,editor:e,extension:n,HTMLAttributes:f})};return[n.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var r;this.editor.extensionStorage[e.name]=e.storage;const n={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:V1(e.name,this.schema)};e.type==="mark"&&(!((r=Tt(et(e,"keepOnSplit",n)))!==null&&r!==void 0)||r)&&this.splittableMarks.push(e.name);const i=et(e,"onBeforeCreate",n),s=et(e,"onCreate",n),o=et(e,"onUpdate",n),a=et(e,"onSelectionUpdate",n),l=et(e,"onTransaction",n),u=et(e,"onFocus",n),c=et(e,"onBlur",n),h=et(e,"onDestroy",n);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),u&&this.editor.on("focus",u),c&&this.editor.on("blur",c),h&&this.editor.on("destroy",h)})}}class yn{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Tt(et(this,"addOptions",{name:this.name}))),this.storage=Tt(et(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new yn(e)}configure(e={}){const r=this.extend({...this.config,addOptions:()=>ag(this.options,e)});return r.name=this.name,r.parent=this.parent,r}extend(e={}){const r=new yn({...this.config,...e});return r.parent=this,this.child=r,r.name=e.name?e.name:r.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=Tt(et(r,"addOptions",{name:r.name})),r.storage=Tt(et(r,"addStorage",{name:r.name,options:r.options})),r}}function Z8(t,e,r){const{from:n,to:i}=e,{blockSeparator:s=`

`,textSerializers:o={}}=r||{};let a="";return t.nodesBetween(n,i,(l,u,c,h)=>{var d;l.isBlock&&u>n&&(a+=s);const f=o==null?void 0:o[l.type.name];if(f)return c&&(a+=f({node:l,pos:u,parent:c,index:h,range:e})),!1;l.isText&&(a+=(d=l==null?void 0:l.text)===null||d===void 0?void 0:d.slice(Math.max(n,u)-u,i-u))}),a}function Q8(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,r])=>[e,r.spec.toText]))}const HD=yn.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new qn({key:new ls("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:r}=t,{doc:n,selection:i}=e,{ranges:s}=i,o=Math.min(...s.map(c=>c.$from.pos)),a=Math.max(...s.map(c=>c.$to.pos)),l=Q8(r);return Z8(n,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),VD=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var r;t.isDestroyed||(e.dom.blur(),(r=window==null?void 0:window.getSelection())===null||r===void 0||r.removeAllRanges())}),!0),$D=(t=!1)=>({commands:e})=>e.setContent("",t),KD=()=>({state:t,tr:e,dispatch:r})=>{const{selection:n}=e,{ranges:i}=n;return r&&i.forEach(({$from:s,$to:o})=>{t.doc.nodesBetween(s.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:u,mapping:c}=e,h=u.resolve(c.map(l)),d=u.resolve(c.map(l+a.nodeSize)),f=h.blockRange(d);if(!f)return;const g=Ec(f);if(a.type.isTextblock){const{defaultType:y}=h.parent.contentMatchAt(h.index());e.setNodeMarkup(f.start,y)}(g||g===0)&&e.lift(f,g)})}),!0},GD=t=>e=>t(e),JD=()=>({state:t,dispatch:e})=>$8(t,e),YD=(t,e)=>({editor:r,tr:n})=>{const{state:i}=r,s=i.doc.slice(t.from,t.to);n.deleteRange(t.from,t.to);const o=n.mapping.map(e);return n.insert(o,s.content),n.setSelection(new wt(n.doc.resolve(Math.max(o-1,0)))),!0},XD=()=>({tr:t,dispatch:e})=>{const{selection:r}=t,n=r.$anchor.node();if(n.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===n.type){if(e){const a=i.before(s),l=i.after(s);t.delete(a,l).scrollIntoView()}return!0}return!1},ZD=t=>({tr:e,state:r,dispatch:n})=>{const i=tn(t,r.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===i){if(n){const l=s.before(o),u=s.after(o);e.delete(l,u).scrollIntoView()}return!0}return!1},QD=t=>({tr:e,dispatch:r})=>{const{from:n,to:i}=t;return r&&e.delete(n,i),!0},eF=()=>({state:t,dispatch:e})=>f5(t,e),tF=()=>({commands:t})=>t.keyboardShortcut("Enter"),rF=()=>({state:t,dispatch:e})=>pD(t,e);function km(t,e,r={strict:!0}){const n=Object.keys(e);return n.length?n.every(i=>r.strict?e[i]===t[i]:y5(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function eN(t,e,r={}){return t.find(n=>n.type===e&&km(Object.fromEntries(Object.keys(r).map(i=>[i,n.attrs[i]])),r))}function f3(t,e,r={}){return!!eN(t,e,r)}function v5(t,e,r){var n;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(c=>c.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(c=>c.type===e)||(r=r||((n=i.node.marks[0])===null||n===void 0?void 0:n.attrs),!eN([...i.node.marks],e,r)))return;let o=i.index,a=t.start()+i.offset,l=o+1,u=a+i.node.nodeSize;for(;o>0&&f3([...t.parent.child(o-1).marks],e,r);)o-=1,a-=t.parent.child(o).nodeSize;for(;l<t.parent.childCount&&f3([...t.parent.child(l).marks],e,r);)u+=t.parent.child(l).nodeSize,l+=1;return{from:a,to:u}}function Ma(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const nF=(t,e={})=>({tr:r,state:n,dispatch:i})=>{const s=Ma(t,n.schema),{doc:o,selection:a}=r,{$from:l,from:u,to:c}=a;if(i){const h=v5(l,s,e);if(h&&h.from<=u&&h.to>=c){const d=wt.create(o,h.from,h.to);r.setSelection(d)}}return!0},iF=t=>e=>{const r=typeof t=="function"?t(e):t;for(let n=0;n<r.length;n+=1)if(r[n](e))return!0;return!1};function tN(t){return t instanceof wt}function yl(t=0,e=0,r=0){return Math.min(Math.max(t,e),r)}function rN(t,e=null){if(!e)return null;const r=Ct.atStart(t),n=Ct.atEnd(t);if(e==="start"||e===!0)return r;if(e==="end")return n;const i=r.from,s=n.to;return e==="all"?wt.create(t,yl(0,i,s),yl(t.content.size,i,s)):wt.create(t,yl(e,i,s),yl(e,i,s))}function h3(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function _m(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function sF(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}const oF=(t=null,e={})=>({editor:r,view:n,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{(_m()||h3())&&n.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(n.focus(),sF()&&!_m()&&!h3()&&n.dom.focus({preventScroll:!0}))})};if(n.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!tN(r.state.selection))return o(),!0;const a=rN(i.doc,t)||r.state.selection,l=r.state.selection.eq(a);return s&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},aF=(t,e)=>r=>t.every((n,i)=>e(n,{...r,index:i})),lF=(t,e)=>({tr:r,commands:n})=>n.insertContentAt({from:r.selection.from,to:r.selection.to},t,e),nN=t=>{const e=t.childNodes;for(let r=e.length-1;r>=0;r-=1){const n=e[r];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?t.removeChild(n):n.nodeType===1&&nN(n)}return t};function $d(t){const e=`<body>${t}</body>`,r=new window.DOMParser().parseFromString(e,"text/html").body;return nN(r)}function bh(t,e,r){if(t instanceof ba||t instanceof ze)return t;r={slice:!0,parseOptions:{},...r};const n=typeof t=="object"&&t!==null,i=typeof t=="string";if(n)try{if(Array.isArray(t)&&t.length>0)return ze.fromArray(t.map(a=>e.nodeFromJSON(a)));const o=e.nodeFromJSON(t);return r.errorOnInvalidContent&&o.check(),o}catch(s){if(r.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),bh("",e,r)}if(i){if(r.errorOnInvalidContent){let o=!1,a="";const l=new BE({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(o=!0,a=typeof u=="string"?u:u.outerHTML,null)}]}})});if(r.slice?xa.fromSchema(l).parseSlice($d(t),r.parseOptions):xa.fromSchema(l).parse($d(t),r.parseOptions),r.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const s=xa.fromSchema(e);return r.slice?s.parseSlice($d(t),r.parseOptions).content:s.parse($d(t),r.parseOptions)}return bh("",e,r)}function uF(t,e,r){const n=t.steps.length-1;if(n<e)return;const i=t.steps[n];if(!(i instanceof Xr||i instanceof Qr))return;const s=t.mapping.maps[n];let o=0;s.forEach((a,l,u,c)=>{o===0&&(o=c)}),t.setSelection(Ct.near(t.doc.resolve(o),r))}const cF=t=>!("type"in t),fF=(t,e,r)=>({tr:n,dispatch:i,editor:s})=>{var o;if(i){r={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...r};let a;const l=x=>{s.emit("contentError",{editor:s,error:x,disableCollaboration:()=>{s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},u={preserveWhitespace:"full",...r.parseOptions};if(!r.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{bh(e,s.schema,{parseOptions:u,errorOnInvalidContent:!0})}catch(x){l(x)}try{a=bh(e,s.schema,{parseOptions:u,errorOnInvalidContent:(o=r.errorOnInvalidContent)!==null&&o!==void 0?o:s.options.enableContentCheck})}catch(x){return l(x),!1}let{from:c,to:h}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},d=!0,f=!0;if((cF(a)?a:[a]).forEach(x=>{x.check(),d=d?x.isText&&x.marks.length===0:!1,f=f?x.isBlock:!1}),c===h&&f){const{parent:x}=n.doc.resolve(c);x.isTextblock&&!x.type.spec.code&&!x.childCount&&(c-=1,h+=1)}let y;if(d){if(Array.isArray(e))y=e.map(x=>x.text||"").join("");else if(e instanceof ze){let x="";e.forEach(p=>{p.text&&(x+=p.text)}),y=x}else typeof e=="object"&&e&&e.text?y=e.text:y=e;n.insertText(y,c,h)}else y=a,n.replaceWith(c,h,y);r.updateSelection&&uF(n,n.steps.length-1,-1),r.applyInputRules&&n.setMeta("applyInputRules",{from:c,text:y}),r.applyPasteRules&&n.setMeta("applyPasteRules",{from:c,text:y})}return!0},hF=()=>({state:t,dispatch:e})=>fD(t,e),dF=()=>({state:t,dispatch:e})=>hD(t,e),pF=()=>({state:t,dispatch:e})=>j8(t,e),mF=()=>({state:t,dispatch:e})=>W8(t,e),gF=()=>({state:t,dispatch:e,tr:r})=>{try{const n=Zm(t.doc,t.selection.$from.pos,-1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},yF=()=>({state:t,dispatch:e,tr:r})=>{try{const n=Zm(t.doc,t.selection.$from.pos,1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},vF=()=>({state:t,dispatch:e})=>uD(t,e),wF=()=>({state:t,dispatch:e})=>cD(t,e);function iN(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function bF(t){const e=t.split(/-(?!$)/);let r=e[e.length-1];r==="Space"&&(r=" ");let n,i,s,o;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))_m()||iN()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return n&&(r=`Alt-${r}`),i&&(r=`Ctrl-${r}`),o&&(r=`Meta-${r}`),s&&(r=`Shift-${r}`),r}const xF=t=>({editor:e,view:r,tr:n,dispatch:i})=>{const s=bF(t).split(/-(?!$)/),o=s.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{r.someProp("handleKeyDown",u=>u(r,a))});return l==null||l.steps.forEach(u=>{const c=u.map(n.mapping);c&&i&&n.maybeStep(c)}),!0};function xh(t,e,r={}){const{from:n,to:i,empty:s}=t.selection,o=e?tn(e,t.schema):null,a=[];t.doc.nodesBetween(n,i,(h,d)=>{if(h.isText)return;const f=Math.max(n,d),g=Math.min(i,d+h.nodeSize);a.push({node:h,from:f,to:g})});const l=i-n,u=a.filter(h=>o?o.name===h.node.type.name:!0).filter(h=>km(h.node.attrs,r,{strict:!1}));return s?!!u.length:u.reduce((h,d)=>h+d.to-d.from,0)>=l}const SF=(t,e={})=>({state:r,dispatch:n})=>{const i=tn(t,r.schema);return xh(r,i,e)?dD(r,n):!1},kF=()=>({state:t,dispatch:e})=>K8(t,e),_F=t=>({state:e,dispatch:r})=>{const n=tn(t,e.schema);return AD(n)(e,r)},AF=()=>({state:t,dispatch:e})=>V8(t,e);function lg(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function d3(t,e){const r=typeof e=="string"?[e]:e;return Object.keys(t).reduce((n,i)=>(r.includes(i)||(n[i]=t[i]),n),{})}const EF=(t,e)=>({tr:r,state:n,dispatch:i})=>{let s=null,o=null;const a=lg(typeof t=="string"?t:t.name,n.schema);return a?(a==="node"&&(s=tn(t,n.schema)),a==="mark"&&(o=Ma(t,n.schema)),i&&r.selection.ranges.forEach(l=>{n.doc.nodesBetween(l.$from.pos,l.$to.pos,(u,c)=>{s&&s===u.type&&r.setNodeMarkup(c,void 0,d3(u.attrs,e)),o&&u.marks.length&&u.marks.forEach(h=>{o===h.type&&r.addMark(c,c+u.nodeSize,o.create(d3(h.attrs,e)))})})}),!0):!1},NF=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),CF=()=>({tr:t,dispatch:e})=>{if(e){const r=new pi(t.doc);t.setSelection(r)}return!0},TF=()=>({state:t,dispatch:e})=>U8(t,e),LF=()=>({state:t,dispatch:e})=>H8(t,e),OF=()=>({state:t,dispatch:e})=>yD(t,e),PF=()=>({state:t,dispatch:e})=>bD(t,e),RF=()=>({state:t,dispatch:e})=>wD(t,e);function R2(t,e,r={},n={}){return bh(t,e,{slice:!1,parseOptions:r,errorOnInvalidContent:n.errorOnInvalidContent})}const IF=(t,e=!1,r={},n={})=>({editor:i,tr:s,dispatch:o,commands:a})=>{var l,u;const{doc:c}=s;if(r.preserveWhitespace!=="full"){const h=R2(t,i.schema,r,{errorOnInvalidContent:(l=n.errorOnInvalidContent)!==null&&l!==void 0?l:i.options.enableContentCheck});return o&&s.replaceWith(0,c.content.size,h).setMeta("preventUpdate",!e),!0}return o&&s.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:c.content.size},t,{parseOptions:r,errorOnInvalidContent:(u=n.errorOnInvalidContent)!==null&&u!==void 0?u:i.options.enableContentCheck})};function sN(t,e){const r=Ma(e,t.schema),{from:n,to:i,empty:s}=t.selection,o=[];s?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(n,i,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===r.name);return a?{...a.attrs}:{}}function MF(t){for(let e=0;e<t.edgeCount;e+=1){const{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function DF(t,e){for(let r=t.depth;r>0;r-=1){const n=t.node(r);if(e(n))return{pos:r>0?t.before(r):0,start:t.start(r),depth:r,node:n}}}function w5(t){return e=>DF(e.$from,t)}function FF(t,e){const r={from:0,to:t.content.size};return Z8(t,r,e)}function BF(t,e){const r=tn(e,t.schema),{from:n,to:i}=t.selection,s=[];t.doc.nodesBetween(n,i,a=>{s.push(a)});const o=s.reverse().find(a=>a.type.name===r.name);return o?{...o.attrs}:{}}function jF(t,e){const r=lg(typeof e=="string"?e:e.name,t.schema);return r==="node"?BF(t,e):r==="mark"?sN(t,e):{}}function oN(t,e,r){const n=[];return t===e?r.resolve(t).marks().forEach(i=>{const s=r.resolve(t),o=v5(s,i.type);o&&n.push({mark:i,...o})}):r.nodesBetween(t,e,(i,s)=>{!i||(i==null?void 0:i.nodeSize)===void 0||n.push(...i.marks.map(o=>({from:s,to:s+i.nodeSize,mark:o})))}),n}function Cp(t,e,r){return Object.fromEntries(Object.entries(r).filter(([n])=>{const i=t.find(s=>s.type===e&&s.name===n);return i?i.attribute.keepOnSplit:!1}))}function I2(t,e,r={}){const{empty:n,ranges:i}=t.selection,s=e?Ma(e,t.schema):null;if(n)return!!(t.storedMarks||t.selection.$from.marks()).filter(h=>s?s.name===h.type.name:!0).find(h=>km(h.attrs,r,{strict:!1}));let o=0;const a=[];if(i.forEach(({$from:h,$to:d})=>{const f=h.pos,g=d.pos;t.doc.nodesBetween(f,g,(y,x)=>{if(!y.isText&&!y.marks.length)return;const p=Math.max(f,x),v=Math.min(g,x+y.nodeSize),b=v-p;o+=b,a.push(...y.marks.map(w=>({mark:w,from:p,to:v})))})}),o===0)return!1;const l=a.filter(h=>s?s.name===h.mark.type.name:!0).filter(h=>km(h.mark.attrs,r,{strict:!1})).reduce((h,d)=>h+d.to-d.from,0),u=a.filter(h=>s?h.mark.type!==s&&h.mark.type.excludes(s):!0).reduce((h,d)=>h+d.to-d.from,0);return(l>0?l+u:l)>=o}function zF(t,e,r={}){if(!e)return xh(t,null,r)||I2(t,null,r);const n=lg(e,t.schema);return n==="node"?xh(t,e,r):n==="mark"?I2(t,e,r):!1}function p3(t,e){const{nodeExtensions:r}=og(e),n=r.find(o=>o.name===t);if(!n)return!1;const i={name:n.name,options:n.options,storage:n.storage},s=Tt(et(n,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function ug(t,{checkChildren:e=!0,ignoreWhitespace:r=!1}={}){var n;if(r){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((n=t.text)!==null&&n!==void 0?n:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&(ug(s,{ignoreWhitespace:r,checkChildren:e})||(i=!1))}),i}return!1}function UF(t){return t instanceof ut}function qF(t,e,r){var n;const{selection:i}=e;let s=null;if(tN(i)&&(s=i.$cursor),s){const a=(n=t.storedMarks)!==null&&n!==void 0?n:s.marks();return!!r.isInSet(a)||!a.some(l=>l.type.excludes(r))}const{ranges:o}=i;return o.some(({$from:a,$to:l})=>{let u=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(r):!1;return t.doc.nodesBetween(a.pos,l.pos,(c,h,d)=>{if(u)return!1;if(c.isInline){const f=!d||d.type.allowsMarkType(r),g=!!r.isInSet(c.marks)||!c.marks.some(y=>y.type.excludes(r));u=f&&g}return!u}),u})}const WF=(t,e={})=>({tr:r,state:n,dispatch:i})=>{const{selection:s}=r,{empty:o,ranges:a}=s,l=Ma(t,n.schema);if(i)if(o){const u=sN(n,l);r.addStoredMark(l.create({...u,...e}))}else a.forEach(u=>{const c=u.$from.pos,h=u.$to.pos;n.doc.nodesBetween(c,h,(d,f)=>{const g=Math.max(f,c),y=Math.min(f+d.nodeSize,h);d.marks.find(p=>p.type===l)?d.marks.forEach(p=>{l===p.type&&r.addMark(g,y,l.create({...p.attrs,...e}))}):r.addMark(g,y,l.create(e))})});return qF(n,r,l)},HF=(t,e)=>({tr:r})=>(r.setMeta(t,e),!0),VF=(t,e={})=>({state:r,dispatch:n,chain:i})=>{const s=tn(t,r.schema);let o;return r.selection.$anchor.sameParent(r.selection.$head)&&(o=r.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:a})=>a3(s,{...o,...e})(r)?!0:a.clearNodes()).command(({state:a})=>a3(s,{...o,...e})(a,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},$F=t=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,i=yl(t,0,n.content.size),s=ut.create(n,i);e.setSelection(s)}return!0},KF=t=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,o=wt.atStart(n).from,a=wt.atEnd(n).to,l=yl(i,o,a),u=yl(s,o,a),c=wt.create(n,l,u);e.setSelection(c)}return!0},GF=t=>({state:e,dispatch:r})=>{const n=tn(t,e.schema);return CD(n)(e,r)};function m3(t,e){const r=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(r){const n=r.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(n)}}const JF=({keepMarks:t=!0}={})=>({tr:e,state:r,dispatch:n,editor:i})=>{const{selection:s,doc:o}=e,{$from:a,$to:l}=s,u=i.extensionManager.attributes,c=Cp(u,a.node().type.name,a.node().attrs);if(s instanceof ut&&s.node.isBlock)return!a.parentOffset||!bo(o,a.pos)?!1:(n&&(t&&m3(r,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const h=l.parentOffset===l.parent.content.size,d=a.depth===0?void 0:MF(a.node(-1).contentMatchAt(a.indexAfter(-1)));let f=h&&d?[{type:d,attrs:c}]:void 0,g=bo(e.doc,e.mapping.map(a.pos),1,f);if(!f&&!g&&bo(e.doc,e.mapping.map(a.pos),1,d?[{type:d}]:void 0)&&(g=!0,f=d?[{type:d,attrs:c}]:void 0),n){if(g&&(s instanceof wt&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,f),d&&!h&&!a.parentOffset&&a.parent.type!==d)){const y=e.mapping.map(a.before()),x=e.doc.resolve(y);a.node(-1).canReplaceWith(x.index(),x.index()+1,d)&&e.setNodeMarkup(e.mapping.map(a.before()),d)}t&&m3(r,i.extensionManager.splittableMarks),e.scrollIntoView()}return g},YF=(t,e={})=>({tr:r,state:n,dispatch:i,editor:s})=>{var o;const a=tn(t,n.schema),{$from:l,$to:u}=n.selection,c=n.selection.node;if(c&&c.isBlock||l.depth<2||!l.sameParent(u))return!1;const h=l.node(-1);if(h.type!==a)return!1;const d=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let p=ze.empty;const v=l.index(-1)?1:l.index(-2)?2:3;for(let z=l.depth-v;z>=l.depth-3;z-=1)p=ze.from(l.node(z).copy(p));const b=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,w={...Cp(d,l.node().type.name,l.node().attrs),...e},N=((o=a.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(w))||void 0;p=p.append(ze.from(a.createAndFill(null,N)||void 0));const j=l.before(l.depth-(v-1));r.replace(j,l.after(-b),new Ge(p,4-v,0));let F=-1;r.doc.nodesBetween(j,r.doc.content.size,(z,T)=>{if(F>-1)return!1;z.isTextblock&&z.content.size===0&&(F=T+1)}),F>-1&&r.setSelection(wt.near(r.doc.resolve(F))),r.scrollIntoView()}return!0}const f=u.pos===l.end()?h.contentMatchAt(0).defaultType:null,g={...Cp(d,h.type.name,h.attrs),...e},y={...Cp(d,l.node().type.name,l.node().attrs),...e};r.delete(l.pos,u.pos);const x=f?[{type:a,attrs:g},{type:f,attrs:y}]:[{type:a,attrs:g}];if(!bo(r.doc,l.pos,2))return!1;if(i){const{selection:p,storedMarks:v}=n,{splittableMarks:b}=s.extensionManager,w=v||p.$to.parentOffset&&p.$from.marks();if(r.split(l.pos,2,x).scrollIntoView(),!w||!i)return!0;const N=w.filter(j=>b.includes(j.type.name));r.ensureMarks(N)}return!0},$1=(t,e)=>{const r=w5(o=>o.type===e)(t.selection);if(!r)return!0;const n=t.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(n===void 0)return!0;const i=t.doc.nodeAt(n);return r.node.type===(i==null?void 0:i.type)&&Ra(t.doc,r.pos)&&t.join(r.pos),!0},K1=(t,e)=>{const r=w5(o=>o.type===e)(t.selection);if(!r)return!0;const n=t.doc.resolve(r.start).after(r.depth);if(n===void 0)return!0;const i=t.doc.nodeAt(n);return r.node.type===(i==null?void 0:i.type)&&Ra(t.doc,n)&&t.join(n),!0},XF=(t,e,r,n={})=>({editor:i,tr:s,state:o,dispatch:a,chain:l,commands:u,can:c})=>{const{extensions:h,splittableMarks:d}=i.extensionManager,f=tn(t,o.schema),g=tn(e,o.schema),{selection:y,storedMarks:x}=o,{$from:p,$to:v}=y,b=p.blockRange(v),w=x||y.$to.parentOffset&&y.$from.marks();if(!b)return!1;const N=w5(j=>p3(j.type.name,h))(y);if(b.depth>=1&&N&&b.depth-N.depth<=1){if(N.node.type===f)return u.liftListItem(g);if(p3(N.node.type.name,h)&&f.validContent(N.node.content)&&a)return l().command(()=>(s.setNodeMarkup(N.pos,f),!0)).command(()=>$1(s,f)).command(()=>K1(s,f)).run()}return!r||!w||!a?l().command(()=>c().wrapInList(f,n)?!0:u.clearNodes()).wrapInList(f,n).command(()=>$1(s,f)).command(()=>K1(s,f)).run():l().command(()=>{const j=c().wrapInList(f,n),F=w.filter(z=>d.includes(z.type.name));return s.ensureMarks(F),j?!0:u.clearNodes()}).wrapInList(f,n).command(()=>$1(s,f)).command(()=>K1(s,f)).run()},ZF=(t,e={},r={})=>({state:n,commands:i})=>{const{extendEmptyMarkRange:s=!1}=r,o=Ma(t,n.schema);return I2(n,o,e)?i.unsetMark(o,{extendEmptyMarkRange:s}):i.setMark(o,e)},QF=(t,e,r={})=>({state:n,commands:i})=>{const s=tn(t,n.schema),o=tn(e,n.schema),a=xh(n,s,r);let l;return n.selection.$anchor.sameParent(n.selection.$head)&&(l=n.selection.$anchor.parent.attrs),a?i.setNode(o,l):i.setNode(s,{...l,...r})},eB=(t,e={})=>({state:r,commands:n})=>{const i=tn(t,r.schema);return xh(r,i,e)?n.lift(i):n.wrapIn(i,e)},tB=()=>({state:t,dispatch:e})=>{const r=t.plugins;for(let n=0;n<r.length;n+=1){const i=r[n];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const o=t.tr,a=s.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(s.text){const l=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,t.schema.text(s.text,l))}else o.delete(s.from,s.to)}return!0}}return!1},rB=()=>({tr:t,dispatch:e})=>{const{selection:r}=t,{empty:n,ranges:i}=r;return n||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},nB=(t,e={})=>({tr:r,state:n,dispatch:i})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=r,l=Ma(t,n.schema),{$from:u,empty:c,ranges:h}=a;if(!i)return!0;if(c&&o){let{from:d,to:f}=a;const g=(s=u.marks().find(x=>x.type===l))===null||s===void 0?void 0:s.attrs,y=v5(u,l,g);y&&(d=y.from,f=y.to),r.removeMark(d,f,l)}else h.forEach(d=>{r.removeMark(d.$from.pos,d.$to.pos,l)});return r.removeStoredMark(l),!0},iB=(t,e={})=>({tr:r,state:n,dispatch:i})=>{let s=null,o=null;const a=lg(typeof t=="string"?t:t.name,n.schema);return a?(a==="node"&&(s=tn(t,n.schema)),a==="mark"&&(o=Ma(t,n.schema)),i&&r.selection.ranges.forEach(l=>{const u=l.$from.pos,c=l.$to.pos;let h,d,f,g;r.selection.empty?n.doc.nodesBetween(u,c,(y,x)=>{s&&s===y.type&&(f=Math.max(x,u),g=Math.min(x+y.nodeSize,c),h=x,d=y)}):n.doc.nodesBetween(u,c,(y,x)=>{x<u&&s&&s===y.type&&(f=Math.max(x,u),g=Math.min(x+y.nodeSize,c),h=x,d=y),x>=u&&x<=c&&(s&&s===y.type&&r.setNodeMarkup(x,void 0,{...y.attrs,...e}),o&&y.marks.length&&y.marks.forEach(p=>{if(o===p.type){const v=Math.max(x,u),b=Math.min(x+y.nodeSize,c);r.addMark(v,b,o.create({...p.attrs,...e}))}}))}),d&&(h!==void 0&&r.setNodeMarkup(h,void 0,{...d.attrs,...e}),o&&d.marks.length&&d.marks.forEach(y=>{o===y.type&&r.addMark(f,g,o.create({...y.attrs,...e}))}))}),!0):!1},sB=(t,e={})=>({state:r,dispatch:n})=>{const i=tn(t,r.schema);return xD(i,e)(r,n)},oB=(t,e={})=>({state:r,dispatch:n})=>{const i=tn(t,r.schema);return SD(i,e)(r,n)};var aB=Object.freeze({__proto__:null,blur:VD,clearContent:$D,clearNodes:KD,command:GD,createParagraphNear:JD,cut:YD,deleteCurrentNode:XD,deleteNode:ZD,deleteRange:QD,deleteSelection:eF,enter:tF,exitCode:rF,extendMarkRange:nF,first:iF,focus:oF,forEach:aF,insertContent:lF,insertContentAt:fF,joinBackward:pF,joinDown:dF,joinForward:mF,joinItemBackward:gF,joinItemForward:yF,joinTextblockBackward:vF,joinTextblockForward:wF,joinUp:hF,keyboardShortcut:xF,lift:SF,liftEmptyBlock:kF,liftListItem:_F,newlineInCode:AF,resetAttributes:EF,scrollIntoView:NF,selectAll:CF,selectNodeBackward:TF,selectNodeForward:LF,selectParentNode:OF,selectTextblockEnd:PF,selectTextblockStart:RF,setContent:IF,setMark:WF,setMeta:HF,setNode:VF,setNodeSelection:$F,setTextSelection:KF,sinkListItem:GF,splitBlock:JF,splitListItem:YF,toggleList:XF,toggleMark:ZF,toggleNode:QF,toggleWrap:eB,undoInputRule:tB,unsetAllMarks:rB,unsetMark:nB,updateAttributes:iB,wrapIn:sB,wrapInList:oB});const lB=yn.create({name:"commands",addCommands(){return{...aB}}}),uB=yn.create({name:"drop",addProseMirrorPlugins(){return[new qn({key:new ls("tiptapDrop"),props:{handleDrop:(t,e,r,n)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:r,moved:n})}}})]}}),cB=yn.create({name:"editable",addProseMirrorPlugins(){return[new qn({key:new ls("editable"),props:{editable:()=>this.editor.options.editable}})]}}),fB=new ls("focusEvents"),hB=yn.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new qn({key:fB,props:{handleDOMEvents:{focus:(e,r)=>{t.isFocused=!0;const n=t.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1},blur:(e,r)=>{t.isFocused=!1;const n=t.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1}}}})]}}),dB=yn.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:u}=a,{empty:c,$anchor:h}=l,{pos:d,parent:f}=h,g=h.parent.isTextblock&&d>0?a.doc.resolve(d-1):h,y=g.parent.type.spec.isolating,x=h.pos-h.parentOffset,p=y&&g.parent.childCount===1?x===h.pos:Ct.atStart(u).from===d;return!c||!f.type.isTextblock||f.textContent.length||!p||p&&h.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...n},s={...n,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return _m()||iN()?s:i},addProseMirrorPlugins(){return[new qn({key:new ls("clearDocument"),appendTransaction:(t,e,r)=>{if(t.some(y=>y.getMeta("composition")))return;const n=t.some(y=>y.docChanged)&&!e.doc.eq(r.doc),i=t.some(y=>y.getMeta("preventClearDocument"));if(!n||i)return;const{empty:s,from:o,to:a}=e.selection,l=Ct.atStart(e.doc).from,u=Ct.atEnd(e.doc).to;if(s||!(o===l&&a===u)||!ug(r.doc))return;const d=r.tr,f=ig({state:r,transaction:d}),{commands:g}=new sg({editor:this.editor,state:f});if(g.clearNodes(),!!d.steps.length)return d}})]}}),pB=yn.create({name:"paste",addProseMirrorPlugins(){return[new qn({key:new ls("tiptapPaste"),props:{handlePaste:(t,e,r)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:r})}}})]}}),mB=yn.create({name:"tabindex",addProseMirrorPlugins(){return[new qn({key:new ls("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class cl{get name(){return this.node.type.name}constructor(e,r,n=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=r,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let r=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}r=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:r,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),r=this.resolvedPos.doc.resolve(e);return new cl(r,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new cl(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new cl(e,this.editor)}get children(){const e=[];return this.node.content.forEach((r,n)=>{const i=r.isBlock&&!r.isTextblock,s=r.isAtom&&!r.isText,o=this.pos+n+(s?0:1);if(o<0||o>this.resolvedPos.doc.nodeSize-2)return;const a=this.resolvedPos.doc.resolve(o);if(!i&&a.depth<=this.depth)return;const l=new cl(a,this.editor,i,i?r:null);i&&(l.actualDepth=this.depth+1),e.push(new cl(a,this.editor,i,i?r:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,r={}){let n=null,i=this.parent;for(;i&&!n;){if(i.node.type.name===e)if(Object.keys(r).length>0){const s=i.node.attrs,o=Object.keys(r);for(let a=0;a<o.length;a+=1){const l=o[a];if(s[l]!==r[l])break}}else n=i;i=i.parent}return n}querySelector(e,r={}){return this.querySelectorAll(e,r,!0)[0]||null}querySelectorAll(e,r={},n=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(r);return this.children.forEach(o=>{n&&i.length>0||(o.node.type.name===e&&s.every(l=>r[l]===o.node.attrs[l])&&i.push(o),!(n&&i.length>0)&&(i=i.concat(o.querySelectorAll(e,r,n))))}),i}setAttribute(e){const{tr:r}=this.editor.state;r.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(r)}}const gB=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function yB(t,e,r){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}class vB extends TD{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:n,moved:i})=>this.options.onDrop(r,n,i)),this.on("paste",({event:r,slice:n})=>this.options.onPaste(r,n)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=yB(gB,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,r=!0){this.setOptions({editable:e}),r&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,r){const n=X8(r)?r(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:n});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const r=this.state.plugins;let n=r;if([].concat(e).forEach(s=>{const o=typeof s=="string"?`${s}$`:s.key;n=n.filter(a=>!a.key.startsWith(o))}),r.length===n.length)return;const i=this.state.reconfigure({plugins:n});return this.view.updateState(i),i}createExtensionManager(){var e,r;const i=[...this.options.enableCoreExtensions?[cB,HD.configure({blockSeparator:(r=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||r===void 0?void 0:r.blockSeparator}),lB,hB,dB,mB,uB,pB].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new Bu(i,this)}createCommandManager(){this.commandManager=new sg({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let r;try{r=R2(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(o){if(!(o instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(o.message))throw o;this.emit("contentError",{editor:this,error:o,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(a=>a.name!=="collaboration"),this.createExtensionManager()}}),r=R2(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const n=rN(r,this.options.autofocus);this.view=new D8(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:Fu.create({doc:r,selection:n||void 0})});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const r=this.capturedTransaction;return this.capturedTransaction=null,r}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(o)});return}const r=this.state.apply(e),n=!this.state.selection.eq(r.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:r}),this.view.updateState(r),this.emit("transaction",{editor:this,transaction:e}),n&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),s=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return jF(this.state,e)}isActive(e,r){const n=typeof e=="string"?e:null,i=typeof e=="string"?r:e;return zF(this.state,n,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return g5(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:r=`

`,textSerializers:n={}}=e||{};return FF(this.state.doc,{blockSeparator:r,textSerializers:{...Q8(this.schema),...n}})}get isEmpty(){return ug(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,r){var n;return((n=this.$doc)===null||n===void 0?void 0:n.querySelector(e,r))||null}$nodes(e,r){var n;return((n=this.$doc)===null||n===void 0?void 0:n.querySelectorAll(e,r))||null}$pos(e){const r=this.state.doc.resolve(e);return new cl(r,this)}get $doc(){return this.$pos(0)}}function dc(t){return new Ih({find:t.find,handler:({state:e,range:r,match:n})=>{const i=Tt(t.getAttributes,void 0,n);if(i===!1||i===null)return null;const{tr:s}=e,o=n[n.length-1],a=n[0];if(o){const l=a.search(/\S/),u=r.from+a.indexOf(o),c=u+o.length;if(oN(r.from,r.to,e.doc).filter(f=>f.mark.type.excluded.find(y=>y===t.type&&y!==f.mark.type)).filter(f=>f.to>u).length)return null;c<r.to&&s.delete(c,r.to),u>r.from&&s.delete(r.from+l,u);const d=r.from+l+o.length;s.addMark(r.from+l,d,t.type.create(i||{})),s.removeStoredMark(t.type)}}})}function wB(t){return new Ih({find:t.find,handler:({state:e,range:r,match:n})=>{const i=Tt(t.getAttributes,void 0,n)||{},{tr:s}=e,o=r.from;let a=r.to;const l=t.type.create(i);if(n[1]){const u=n[0].lastIndexOf(n[1]);let c=o+u;c>a?c=a:a=c+n[1].length;const h=n[0][n[0].length-1];s.insertText(h,o+n[0].length-1),s.replaceWith(c,a,l)}else if(n[0]){const u=t.type.isInline?o:o-1;s.insert(u,t.type.create(i)).delete(s.mapping.map(o),s.mapping.map(a))}s.scrollIntoView()}})}function pc(t){return new Ih({find:t.find,handler:({state:e,range:r,match:n})=>{const i=e.doc.resolve(r.from),s=Tt(t.getAttributes,void 0,n)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(r.from,r.to).setBlockType(r.from,r.from,t.type,s)}})}function Sh(t){return new Ih({find:t.find,handler:({state:e,range:r,match:n,chain:i})=>{const s=Tt(t.getAttributes,void 0,n)||{},o=e.tr.delete(r.from,r.to),l=o.doc.resolve(r.from).blockRange(),u=l&&e5(l,t.type,s);if(!u)return null;if(o.wrap(l,u),t.keepMarks&&t.editor){const{selection:h,storedMarks:d}=e,{splittableMarks:f}=t.editor.extensionManager,g=d||h.$to.parentOffset&&h.$from.marks();if(g){const y=g.filter(x=>f.includes(x.type.name));o.ensureMarks(y)}}if(t.keepAttributes){const h=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(h,s).run()}const c=o.doc.resolve(r.from-1).nodeBefore;c&&c.type===t.type&&Ra(o.doc,r.from-1)&&(!t.joinPredicate||t.joinPredicate(n,c))&&o.join(r.from-1)}})}class jr{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Tt(et(this,"addOptions",{name:this.name}))),this.storage=Tt(et(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new jr(e)}configure(e={}){const r=this.extend({...this.config,addOptions:()=>ag(this.options,e)});return r.name=this.name,r.parent=this.parent,r}extend(e={}){const r=new jr(e);return r.parent=this,this.child=r,r.name=e.name?e.name:r.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=Tt(et(r,"addOptions",{name:r.name})),r.storage=Tt(et(r,"addStorage",{name:r.name,options:r.options})),r}}function mc(t){return new BD({find:t.find,handler:({state:e,range:r,match:n,pasteEvent:i})=>{const s=Tt(t.getAttributes,void 0,n,i);if(s===!1||s===null)return null;const{tr:o}=e,a=n[n.length-1],l=n[0];let u=r.to;if(a){const c=l.search(/\S/),h=r.from+l.indexOf(a),d=h+a.length;if(oN(r.from,r.to,e.doc).filter(g=>g.mark.type.excluded.find(x=>x===t.type&&x!==g.mark.type)).filter(g=>g.to>h).length)return null;d<r.to&&o.delete(d,r.to),h>r.from&&o.delete(r.from+c,h),u=r.from+c+a.length,o.addMark(r.from+c,u,t.type.create(s||{})),o.removeStoredMark(t.type)}}})}function bB(t,e){const{selection:r}=t,{$from:n}=r;if(r instanceof ut){const s=n.index();return n.parent.canReplaceWith(s,s+1,e)}let i=n.depth;for(;i>=0;){const s=n.index(i);if(n.node(i).contentMatchAt(s).matchType(e))return!0;i-=1}return!1}function xB(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var aN={exports:{}},G1={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g3;function SB(){if(g3)return G1;g3=1;var t=fn;function e(h,d){return h===d&&(h!==0||1/h===1/d)||h!==h&&d!==d}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function a(h,d){var f=d(),g=n({inst:{value:f,getSnapshot:d}}),y=g[0].inst,x=g[1];return s(function(){y.value=f,y.getSnapshot=d,l(y)&&x({inst:y})},[h,f,d]),i(function(){return l(y)&&x({inst:y}),h(function(){l(y)&&x({inst:y})})},[h]),o(f),f}function l(h){var d=h.getSnapshot;h=h.value;try{var f=d();return!r(h,f)}catch{return!0}}function u(h,d){return d()}var c=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:a;return G1.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:c,G1}aN.exports=SB();var b5=aN.exports;const kB=(...t)=>e=>{t.forEach(r=>{typeof r=="function"?r(e):r&&(r.current=e)})},_B=({contentComponent:t})=>{const e=b5.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return fn.createElement(fn.Fragment,null,Object.values(e))};function AB(){const t=new Set;let e={};return{subscribe(r){return t.add(r),()=>{t.delete(r)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(r,n){e={...e,[r]:oP.createPortal(n.reactElement,n.element,r)},t.forEach(i=>i())},removeRenderer(r){const n={...e};delete n[r],e=n,t.forEach(i=>i())}}}class EB extends fn.Component{constructor(e){var r;super(e),this.editorContentRef=fn.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((r=e.editor)===null||r===void 0)&&r.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const r=this.editorContentRef.current;r.append(...e.options.element.childNodes),e.setOptions({element:r}),e.contentComponent=AB(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const r=document.createElement("div");r.append(...e.options.element.childNodes),e.setOptions({element:r})}render(){const{editor:e,innerRef:r,...n}=this.props;return fn.createElement(fn.Fragment,null,fn.createElement("div",{ref:kB(r,this.editorContentRef),...n}),(e==null?void 0:e.contentComponent)&&fn.createElement(_B,{contentComponent:e.contentComponent}))}}const NB=Ue.forwardRef((t,e)=>{const r=fn.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return fn.createElement(EB,{key:r,innerRef:e,...t})}),CB=fn.memo(NB);var TB=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,s;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(i of e.entries())if(!r.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],r.get(i[0])))return!1;return!0}if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(i of e.entries())if(!r.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(r)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(e[i]!==r[i])return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[i]))return!1;for(i=n;i--!==0;){var o=s[i];if(!(o==="_owner"&&e.$$typeof)&&!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r},LB=xB(TB),lN={exports:{}},J1={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y3;function OB(){if(y3)return J1;y3=1;var t=fn,e=b5;function r(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var n=typeof Object.is=="function"?Object.is:r,i=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,a=t.useMemo,l=t.useDebugValue;return J1.useSyncExternalStoreWithSelector=function(u,c,h,d,f){var g=s(null);if(g.current===null){var y={hasValue:!1,value:null};g.current=y}else y=g.current;g=a(function(){function p(j){if(!v){if(v=!0,b=j,j=d(j),f!==void 0&&y.hasValue){var F=y.value;if(f(F,j))return w=F}return w=j}if(F=w,n(b,j))return F;var z=d(j);return f!==void 0&&f(F,z)?F:(b=j,w=z)}var v=!1,b,w,N=h===void 0?null:h;return[function(){return p(c())},N===null?void 0:function(){return p(N())}]},[c,h,d,f]);var x=i(u,g[0],g[1]);return o(function(){y.hasValue=!0,y.value=x},[x]),l(x),x},J1}lN.exports=OB();var PB=lN.exports;const RB=typeof window<"u"?Ue.useLayoutEffect:Ue.useEffect;class IB{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const r=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},n=this.editor;return n.on("transaction",r),()=>{n.off("transaction",r)}}}}function MB(t){var e;const[r]=Ue.useState(()=>new IB(t.editor)),n=PB.useSyncExternalStoreWithSelector(r.subscribe,r.getSnapshot,r.getServerSnapshot,t.selector,(e=t.equalityFn)!==null&&e!==void 0?e:LB);return RB(()=>r.watch(t.editor),[t.editor,r]),Ue.useDebugValue(n),n}const DB=!1,M2=typeof window>"u",FB=M2||!!(typeof window<"u"&&window.next);class x5{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(r=>r())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?M2||FB?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...n)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)===null||s===void 0?void 0:s.call(i,...n)},onBlur:(...n)=>{var i,s;return(s=(i=this.options.current).onBlur)===null||s===void 0?void 0:s.call(i,...n)},onCreate:(...n)=>{var i,s;return(s=(i=this.options.current).onCreate)===null||s===void 0?void 0:s.call(i,...n)},onDestroy:(...n)=>{var i,s;return(s=(i=this.options.current).onDestroy)===null||s===void 0?void 0:s.call(i,...n)},onFocus:(...n)=>{var i,s;return(s=(i=this.options.current).onFocus)===null||s===void 0?void 0:s.call(i,...n)},onSelectionUpdate:(...n)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)===null||s===void 0?void 0:s.call(i,...n)},onTransaction:(...n)=>{var i,s;return(s=(i=this.options.current).onTransaction)===null||s===void 0?void 0:s.call(i,...n)},onUpdate:(...n)=>{var i,s;return(s=(i=this.options.current).onUpdate)===null||s===void 0?void 0:s.call(i,...n)},onContentError:(...n)=>{var i,s;return(s=(i=this.options.current).onContentError)===null||s===void 0?void 0:s.call(i,...n)},onDrop:(...n)=>{var i,s;return(s=(i=this.options.current).onDrop)===null||s===void 0?void 0:s.call(i,...n)},onPaste:(...n)=>{var i,s;return(s=(i=this.options.current).onPaste)===null||s===void 0?void 0:s.call(i,...n)}};return new vB(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,r){return Object.keys(e).every(n=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(n)?!0:n==="extensions"&&e.extensions&&r.extensions?e.extensions.length!==r.extensions.length?!1:e.extensions.every((i,s)=>{var o;return i===((o=r.extensions)===null||o===void 0?void 0:o[s])}):e[n]===r[n])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?x5.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((n,i)=>n===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,r=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){r&&r.setOptions(this.options.current);return}r&&!r.isDestroyed&&(r.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function BB(t={},e=[]){const r=Ue.useRef(t);r.current=t;const[n]=Ue.useState(()=>new x5(r)),i=b5.useSyncExternalStore(n.subscribe,n.getEditor,n.getServerSnapshot);return Ue.useDebugValue(i),Ue.useEffect(n.onRender(e)),MB({editor:i,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1?null:t.immediatelyRender&&s===0?0:s+1}),i}const jB=Ue.createContext({editor:null});jB.Consumer;const zB=Ue.createContext({onDragStart:void 0}),UB=()=>Ue.useContext(zB);fn.forwardRef((t,e)=>{const{onDragStart:r}=UB(),n=t.as||"div";return fn.createElement(n,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:r,style:{whiteSpace:"normal",...t.style}})});const qB=/^\s*>\s$/,WB=jr.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",xr(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Sh({find:qB,type:this.type})]}}),HB=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,VB=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,$B=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,KB=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,GB=Eo.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",xr(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[dc({find:HB,type:this.type}),dc({find:$B,type:this.type})]},addPasteRules(){return[mc({find:VB,type:this.type}),mc({find:KB,type:this.type})]}}),JB="listItem",v3="textStyle",w3=/^\s*([-+*])\s$/,YB=jr.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",xr(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(JB,this.editor.getAttributes(v3)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Sh({find:w3,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Sh({find:w3,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(v3),editor:this.editor})),[t]}}),XB=/(^|[^`])`([^`]+)`(?!`)/,ZB=/(^|[^`])`([^`]+)`(?!`)/g,QB=Eo.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",xr(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[dc({find:XB,type:this.type})]},addPasteRules(){return[mc({find:ZB,type:this.type})]}}),e9=/^```([a-z]+)?[\s\n]$/,t9=/^~~~([a-z]+)?[\s\n]$/,r9=jr.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:r}=this.options,s=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(r)).map(o=>o.replace(r,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",xr(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,r=e.pos===1;return!t||e.parent.type.name!==this.name?!1:r||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:r}=e,{$from:n,empty:i}=r;if(!i||n.parent.type!==this.type)return!1;const s=n.parentOffset===n.parent.nodeSize-2,o=n.parent.textContent.endsWith(`

`);return!s||!o?!1:t.chain().command(({tr:a})=>(a.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:r,doc:n}=e,{$from:i,empty:s}=r;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0?!1:n.nodeAt(a)?t.commands.command(({tr:u})=>(u.setSelection(Ct.near(n.resolve(a))),!0)):t.commands.exitCode()}}},addInputRules(){return[pc({find:e9,type:this.type,getAttributes:t=>({language:t[1]})}),pc({find:t9,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new qn({key:new ls("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const r=e.clipboardData.getData("text/plain"),n=e.clipboardData.getData("vscode-editor-data"),i=n?JSON.parse(n):void 0,s=i==null?void 0:i.mode;if(!r||!s)return!1;const{tr:o,schema:a}=t.state,l=a.text(r.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:s},l)),o.selection.$from.parent.type!==this.type&&o.setSelection(wt.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),n9=jr.create({name:"doc",topNode:!0,content:"block+"});function i9(t={}){return new qn({view(e){return new s9(e,t)}})}class s9{constructor(e,r){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=r.width)!==null&&n!==void 0?n:1,this.color=r.color===!1?void 0:r.color||"black",this.class=r.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=o=>{this[i](o)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:r})=>this.editorView.dom.removeEventListener(e,r))}update(e,r){this.cursorPos!=null&&r.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),r=!e.parent.inlineContent,n,i=this.editorView.dom,s=i.getBoundingClientRect(),o=s.width/i.offsetWidth,a=s.height/i.offsetHeight;if(r){let h=e.nodeBefore,d=e.nodeAfter;if(h||d){let f=this.editorView.nodeDOM(this.cursorPos-(h?h.nodeSize:0));if(f){let g=f.getBoundingClientRect(),y=h?g.bottom:g.top;h&&d&&(y=(y+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let x=this.width/2*a;n={left:g.left,right:g.right,top:y-x,bottom:y+x}}}}if(!n){let h=this.editorView.coordsAtPos(this.cursorPos),d=this.width/2*o;n={left:h.left-d,right:h.left+d,top:h.top,bottom:h.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r);let u,c;if(!l||l==document.body&&getComputedStyle(l).position=="static")u=-pageXOffset,c=-pageYOffset;else{let h=l.getBoundingClientRect(),d=h.width/l.offsetWidth,f=h.height/l.offsetHeight;u=h.left-l.scrollLeft*d,c=h.top-l.scrollTop*f}this.element.style.left=(n.left-u)/o+"px",this.element.style.top=(n.top-c)/a+"px",this.element.style.width=(n.right-n.left)/o+"px",this.element.style.height=(n.bottom-n.top)/a+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let r=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=r&&r.inside>=0&&this.editorView.state.doc.nodeAt(r.inside),i=n&&n.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,r,e):i;if(r&&!s){let o=r.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=JE(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const o9=yn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[i9(this.options)]}});class br extends Ct{constructor(e){super(e,e)}map(e,r){let n=e.resolve(r.map(this.head));return br.valid(n)?new br(n):Ct.near(n)}content(){return Ge.empty}eq(e){return e instanceof br&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new br(e.resolve(r.pos))}getBookmark(){return new S5(this.anchor)}static valid(e){let r=e.parent;if(r.isTextblock||!a9(e)||!l9(e))return!1;let n=r.type.spec.allowGapCursor;if(n!=null)return n;let i=r.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,r,n=!1){e:for(;;){if(!n&&br.valid(e))return e;let i=e.pos,s=null;for(let o=e.depth;;o--){let a=e.node(o);if(r>0?e.indexAfter(o)<a.childCount:e.index(o)>0){s=a.child(r>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=r;let l=e.doc.resolve(i);if(br.valid(l))return l}for(;;){let o=r>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!ut.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*r),n=!1;continue e}break}s=o,i+=r;let a=e.doc.resolve(i);if(br.valid(a))return a}return null}}}br.prototype.visible=!1;br.findFrom=br.findGapCursorFrom;Ct.jsonID("gapcursor",br);class S5{constructor(e){this.pos=e}map(e){return new S5(e.map(this.pos))}resolve(e){let r=e.resolve(this.pos);return br.valid(r)?new br(r):Ct.near(r)}}function uN(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function a9(t){for(let e=t.depth;e>=0;e--){let r=t.index(e),n=t.node(e);if(r==0){if(n.type.spec.isolating)return!0;continue}for(let i=n.child(r-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||uN(i.type))return!0;if(i.inlineContent)return!1}}return!0}function l9(t){for(let e=t.depth;e>=0;e--){let r=t.indexAfter(e),n=t.node(e);if(r==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let i=n.child(r);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||uN(i.type))return!0;if(i.inlineContent)return!1}}return!0}function u9(){return new qn({props:{decorations:d9,createSelectionBetween(t,e,r){return e.pos==r.pos&&br.valid(r)?new br(r):null},handleClick:f9,handleKeyDown:c9,handleDOMEvents:{beforeinput:h9}}})}const c9=F8({ArrowLeft:Kd("horiz",-1),ArrowRight:Kd("horiz",1),ArrowUp:Kd("vert",-1),ArrowDown:Kd("vert",1)});function Kd(t,e){const r=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(n,i,s){let o=n.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof wt){if(!s.endOfTextblock(r)||a.depth==0)return!1;l=!1,a=n.doc.resolve(e>0?a.after():a.before())}let u=br.findGapCursorFrom(a,e,l);return u?(i&&i(n.tr.setSelection(new br(u))),!0):!1}}function f9(t,e,r){if(!t||!t.editable)return!1;let n=t.state.doc.resolve(e);if(!br.valid(n))return!1;let i=t.posAtCoords({left:r.clientX,top:r.clientY});return i&&i.inside>-1&&ut.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new br(n))),!0)}function h9(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof br))return!1;let{$from:r}=t.state.selection,n=r.parent.contentMatchAt(r.index()).findWrapping(t.state.schema.nodes.text);if(!n)return!1;let i=ze.empty;for(let o=n.length-1;o>=0;o--)i=ze.from(n[o].createAndFill(null,i));let s=t.state.tr.replace(r.pos,r.pos,new Ge(i,0,0));return s.setSelection(wt.near(s.doc.resolve(r.pos+1))),t.dispatch(s),!1}function d9(t){if(!(t.selection instanceof br))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Mr.create(t.doc,[fi.widget(t.selection.head,e,{key:"gapcursor"})])}const p9=yn.create({name:"gapCursor",addProseMirrorPlugins(){return[u9()]},extendNodeSchema(t){var e;const r={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Tt(et(t,"allowGapCursor",r)))!==null&&e!==void 0?e:null}}}),m9=jr.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",xr(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:r,editor:n})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=r;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=n.extensionManager,l=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:c})=>{if(c&&l&&o){const h=l.filter(d=>a.includes(d.type.name));u.ensureMarks(h)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),g9=jr.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,xr(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>pc({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var Am=200,en=function(){};en.prototype.append=function(e){return e.length?(e=en.from(e),!this.length&&e||e.length<Am&&this.leafAppend(e)||this.length<Am&&e.leafPrepend(this)||this.appendInner(e)):this};en.prototype.prepend=function(e){return e.length?en.from(e).append(this):this};en.prototype.appendInner=function(e){return new y9(this,e)};en.prototype.slice=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=this.length),e>=r?en.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,r))};en.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};en.prototype.forEach=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(e,r,n,0):this.forEachInvertedInner(e,r,n,0)};en.prototype.map=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var i=[];return this.forEach(function(s,o){return i.push(e(s,o))},r,n),i};en.from=function(e){return e instanceof en?e:e&&e.length?new cN(e):en.empty};var cN=function(t){function e(n){t.call(this),this.values=n}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,o,a){for(var l=s;l<o;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,o,a){for(var l=s-1;l>=o;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Am)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Am)return new e(i.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e}(en);en.empty=new cN([]);var y9=function(t){function e(r,n){t.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,i,s,o){var a=this.left.length;if(i<a&&this.left.forEachInner(n,i,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(n,Math.max(i-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(n,i,s,o){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(n,i-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(n,Math.min(i,a),s,o)===!1)return!1},e.prototype.sliceInner=function(n,i){if(n==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(n,i):n>=s?this.right.slice(n-s,i-s):this.left.slice(n,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(n){var i=this.right.leafAppend(n);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(n){var i=this.left.leafPrepend(n);if(i)return new e(i,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e}(en);const v9=500;class ts{constructor(e,r){this.items=e,this.eventCount=r}popEvent(e,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let i,s;r&&(i=this.remapping(n,this.items.length),s=i.maps.length);let o=e.tr,a,l,u=[],c=[];return this.items.forEach((h,d)=>{if(!h.step){i||(i=this.remapping(n,d+1),s=i.maps.length),s--,c.push(h);return}if(i){c.push(new Ko(h.map));let f=h.step.map(i.slice(s)),g;f&&o.maybeStep(f).doc&&(g=o.mapping.maps[o.mapping.maps.length-1],u.push(new Ko(g,void 0,void 0,u.length+c.length))),s--,g&&i.appendMap(g,s)}else o.maybeStep(h.step);if(h.selection)return a=i?h.selection.map(i.slice(s)):h.selection,l=new ts(this.items.slice(0,n).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,r,n,i){let s=[],o=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let c=0;c<e.steps.length;c++){let h=e.steps[c].invert(e.docs[c]),d=new Ko(e.mapping.maps[c],h,r),f;(f=l&&l.merge(d))&&(d=f,c?s.pop():a=a.slice(0,a.length-1)),s.push(d),r&&(o++,r=void 0),i||(l=d)}let u=o-n.depth;return u>b9&&(a=w9(a,u),o-=u),new ts(a.append(s),o)}remapping(e,r){let n=new mh;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?n.maps.length-i.mirrorOffset:void 0;n.appendMap(i.map,o)},e,r),n}addMaps(e){return this.eventCount==0?this:new ts(this.items.append(e.map(r=>new Ko(r))),this.eventCount)}rebased(e,r){if(!this.eventCount)return this;let n=[],i=Math.max(0,this.items.length-r),s=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(d=>{d.selection&&a--},i);let l=r;this.items.forEach(d=>{let f=s.getMirror(--l);if(f==null)return;o=Math.min(o,f);let g=s.maps[f];if(d.step){let y=e.steps[f].invert(e.docs[f]),x=d.selection&&d.selection.map(s.slice(l+1,f));x&&a++,n.push(new Ko(g,y,x))}else n.push(new Ko(g))},i);let u=[];for(let d=r;d<o;d++)u.push(new Ko(s.maps[d]));let c=this.items.slice(0,i).append(u).append(n),h=new ts(c,a);return h.emptyItemCount()>v9&&(h=h.compress(this.items.length-n.length)),h}emptyItemCount(){let e=0;return this.items.forEach(r=>{r.step||e++}),e}compress(e=this.items.length){let r=this.remapping(0,e),n=r.maps.length,i=[],s=0;return this.items.forEach((o,a)=>{if(a>=e)i.push(o),o.selection&&s++;else if(o.step){let l=o.step.map(r.slice(n)),u=l&&l.getMap();if(n--,u&&r.appendMap(u,n),l){let c=o.selection&&o.selection.map(r.slice(n));c&&s++;let h=new Ko(u.invert(),l,c),d,f=i.length-1;(d=i.length&&i[f].merge(h))?i[f]=d:i.push(h)}}else o.map&&n--},this.items.length,0),new ts(en.from(i.reverse()),s)}}ts.empty=new ts(en.empty,0);function w9(t,e){let r;return t.forEach((n,i)=>{if(n.selection&&e--==0)return r=i,!1}),t.slice(r)}let Ko=class fN{constructor(e,r,n,i){this.map=e,this.step=r,this.selection=n,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let r=e.step.merge(this.step);if(r)return new fN(r.getMap().invert(),r,this.selection)}}};class ea{constructor(e,r,n,i,s){this.done=e,this.undone=r,this.prevRanges=n,this.prevTime=i,this.prevComposition=s}}const b9=20;function x9(t,e,r,n){let i=r.getMeta(Nl),s;if(i)return i.historyState;r.getMeta(_9)&&(t=new ea(t.done,t.undone,null,0,-1));let o=r.getMeta("appendedTransaction");if(r.steps.length==0)return t;if(o&&o.getMeta(Nl))return o.getMeta(Nl).redo?new ea(t.done.addTransform(r,void 0,n,Tp(e)),t.undone,b3(r.mapping.maps),t.prevTime,t.prevComposition):new ea(t.done,t.undone.addTransform(r,void 0,n,Tp(e)),null,t.prevTime,t.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=r.getMeta("composition"),l=t.prevTime==0||!o&&t.prevComposition!=a&&(t.prevTime<(r.time||0)-n.newGroupDelay||!S9(r,t.prevRanges)),u=o?Y1(t.prevRanges,r.mapping):b3(r.mapping.maps);return new ea(t.done.addTransform(r,l?e.selection.getBookmark():void 0,n,Tp(e)),ts.empty,u,r.time,a??t.prevComposition)}else return(s=r.getMeta("rebased"))?new ea(t.done.rebased(r,s),t.undone.rebased(r,s),Y1(t.prevRanges,r.mapping),t.prevTime,t.prevComposition):new ea(t.done.addMaps(r.mapping.maps),t.undone.addMaps(r.mapping.maps),Y1(t.prevRanges,r.mapping),t.prevTime,t.prevComposition)}function S9(t,e){if(!e)return!1;if(!t.docChanged)return!0;let r=!1;return t.mapping.maps[0].forEach((n,i)=>{for(let s=0;s<e.length;s+=2)n<=e[s+1]&&i>=e[s]&&(r=!0)}),r}function b3(t){let e=[];for(let r=t.length-1;r>=0&&e.length==0;r--)t[r].forEach((n,i,s,o)=>e.push(s,o));return e}function Y1(t,e){if(!t)return null;let r=[];for(let n=0;n<t.length;n+=2){let i=e.map(t[n],1),s=e.map(t[n+1],-1);i<=s&&r.push(i,s)}return r}function k9(t,e,r){let n=Tp(e),i=Nl.get(e).spec.config,s=(r?t.undone:t.done).popEvent(e,n);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(r?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,n),l=new ea(r?a:s.remaining,r?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(Nl,{redo:r,historyState:l})}let X1=!1,x3=null;function Tp(t){let e=t.plugins;if(x3!=e){X1=!1,x3=e;for(let r=0;r<e.length;r++)if(e[r].spec.historyPreserveItems){X1=!0;break}}return X1}const Nl=new ls("history"),_9=new ls("closeHistory");function A9(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new qn({key:Nl,state:{init(){return new ea(ts.empty,ts.empty,null,0,-1)},apply(e,r,n){return x9(r,n,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,r){let n=r.inputType,i=n=="historyUndo"?dN:n=="historyRedo"?pN:null;return!i||!e.editable?!1:(r.preventDefault(),i(e.state,e.dispatch))}}}})}function hN(t,e){return(r,n)=>{let i=Nl.getState(r);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(n){let s=k9(i,r,t);s&&n(e?s.scrollIntoView():s)}return!0}}const dN=hN(!1,!0),pN=hN(!0,!0),E9=yn.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>dN(t,e),redo:()=>({state:t,dispatch:e})=>pN(t,e)}},addProseMirrorPlugins(){return[A9(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),N9=jr.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",xr(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!bB(e,e.schema.nodes[this.name]))return!1;const{selection:r}=e,{$from:n,$to:i}=r,s=t();return n.parentOffset===0?s.insertContentAt({from:Math.max(n.pos-1,0),to:i.pos},{type:this.name}):UF(r)?s.insertContentAt(i.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:o,dispatch:a})=>{var l;if(a){const{$to:u}=o.selection,c=u.end();if(u.nodeAfter)u.nodeAfter.isTextblock?o.setSelection(wt.create(o.doc,u.pos+1)):u.nodeAfter.isBlock?o.setSelection(ut.create(o.doc,u.pos)):o.setSelection(wt.create(o.doc,u.pos));else{const h=(l=u.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();h&&(o.insert(c,h),o.setSelection(wt.create(o.doc,c+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[wB({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),C9=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,T9=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,L9=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,O9=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,P9=Eo.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",xr(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[dc({find:C9,type:this.type}),dc({find:L9,type:this.type})]},addPasteRules(){return[mc({find:T9,type:this.type}),mc({find:O9,type:this.type})]}}),R9=jr.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",xr(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),I9="listItem",S3="textStyle",k3=/^(\d+)\.\s$/,M9=jr.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...r}=t;return e===1?["ol",xr(this.options.HTMLAttributes,r),0]:["ol",xr(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(I9,this.editor.getAttributes(S3)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Sh({find:k3,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Sh({find:k3,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(S3)}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1],editor:this.editor})),[t]}}),D9=jr.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",xr(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),F9=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,B9=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,j9=Eo.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",xr(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[dc({find:F9,type:this.type})]},addPasteRules(){return[mc({find:B9,type:this.type})]}}),z9=jr.create({name:"text",group:"inline"}),U9=yn.create({name:"starterKit",addExtensions(){const t=[];return this.options.bold!==!1&&t.push(GB.configure(this.options.bold)),this.options.blockquote!==!1&&t.push(WB.configure(this.options.blockquote)),this.options.bulletList!==!1&&t.push(YB.configure(this.options.bulletList)),this.options.code!==!1&&t.push(QB.configure(this.options.code)),this.options.codeBlock!==!1&&t.push(r9.configure(this.options.codeBlock)),this.options.document!==!1&&t.push(n9.configure(this.options.document)),this.options.dropcursor!==!1&&t.push(o9.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&t.push(p9.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&t.push(m9.configure(this.options.hardBreak)),this.options.heading!==!1&&t.push(g9.configure(this.options.heading)),this.options.history!==!1&&t.push(E9.configure(this.options.history)),this.options.horizontalRule!==!1&&t.push(N9.configure(this.options.horizontalRule)),this.options.italic!==!1&&t.push(P9.configure(this.options.italic)),this.options.listItem!==!1&&t.push(R9.configure(this.options.listItem)),this.options.orderedList!==!1&&t.push(M9.configure(this.options.orderedList)),this.options.paragraph!==!1&&t.push(D9.configure(this.options.paragraph)),this.options.strike!==!1&&t.push(j9.configure(this.options.strike)),this.options.text!==!1&&t.push(z9.configure(this.options.text)),t}}),q9=yn.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new qn({key:new ls("placeholder"),props:{decorations:({doc:t,selection:e})=>{const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:n}=e,i=[];if(!r)return null;const s=this.editor.isEmpty;return t.descendants((o,a)=>{const l=n>=a&&n<=a+o.nodeSize,u=!o.isLeaf&&ug(o);if((l||!this.options.showOnlyCurrent)&&u){const c=[this.options.emptyNodeClass];s&&c.push(this.options.emptyEditorClass);const h=fi.node(a,a+o.nodeSize,{class:c.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:o,pos:a,hasAnchor:l}):this.options.placeholder});i.push(h)}return this.options.includeChildren}),Mr.create(t,i)}}})]}}),W9=yn.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(r=>e.updateAttributes(r,{textAlign:t})).every(r=>r):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:t=>({editor:e,commands:r})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?r.unsetTextAlign():r.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),H9=Eo.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",xr(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),V9=/^(INT\.|EXT\.|INT\.\/EXT\.)\s$/,$9=jr.create({name:"sceneHeading",group:"block",content:"text*",defining:!0,addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:'div[data-type="scene-heading"]'}]},renderHTML({HTMLAttributes:t}){return["div",xr(this.options.HTMLAttributes,t,{"data-type":"scene-heading",style:"text-transform: uppercase; font-weight: bold; margin: 1em 0 0.5em 0;"}),0]},addCommands(){return{setSceneHeading:()=>({commands:t})=>t.setNode(this.name)}},addInputRules(){return[pc({find:V9,type:this.type})]}}),K9=jr.create({name:"action",group:"block",content:"text*",defining:!0,addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:'div[data-type="action"]'}]},renderHTML({HTMLAttributes:t}){return["div",xr(this.options.HTMLAttributes,t,{"data-type":"action",style:"width: 100%; margin: 0.5em 0;"}),0]},addCommands(){return{setAction:()=>({commands:t})=>t.setNode(this.name)}}}),G9=/^@\s$/,J9=jr.create({name:"character",group:"block",content:"text*",defining:!0,addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:'div[data-type="character"]'}]},renderHTML({HTMLAttributes:t}){return["div",xr(this.options.HTMLAttributes,t,{"data-type":"character",style:"text-transform: uppercase; text-align: center; font-weight: bold; margin: 1em 0 0;"}),0]},addCommands(){return{setCharacter:()=>({commands:t})=>t.setNode(this.name)}},addInputRules(){return[pc({find:G9,type:this.type})]}}),Y9=jr.create({name:"dialogue",group:"block",content:"text*",defining:!0,addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:'div[data-type="dialogue"]'}]},renderHTML({HTMLAttributes:t}){return["div",xr(this.options.HTMLAttributes,t,{"data-type":"dialogue",style:"text-align: center; margin: 0 15% 0.5em 15%; padding: 0 10%;"}),0]},addCommands(){return{setDialogue:()=>({commands:t})=>t.setNode(this.name)}}}),X9=/^\(\s$/,Z9=jr.create({name:"parenthetical",group:"block",content:"text*",defining:!0,addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:'div[data-type="parenthetical"]'}]},renderHTML({HTMLAttributes:t}){return["div",xr(this.options.HTMLAttributes,t,{"data-type":"parenthetical",style:"text-align: center; margin: 0 20%; font-style: italic;"}),0]},addCommands(){return{setParenthetical:()=>({commands:t})=>t.setNode(this.name)}},addInputRules(){return[pc({find:X9,type:this.type})]}}),Q9=/^(.+TO:)\s$/,ej=jr.create({name:"transition",group:"block",content:"text*",defining:!0,addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:'div[data-type="transition"]'}]},renderHTML({HTMLAttributes:t}){return["div",xr(this.options.HTMLAttributes,t,{"data-type":"transition",style:"text-transform: uppercase; text-align: right; font-weight: bold; margin: 1em 0;"}),0]},addCommands(){return{setTransition:()=>({commands:t})=>t.setNode(this.name)}},addInputRules(){return[new Ih({find:Q9,handler:({state:t,range:e,match:r})=>{const{tr:n}=t,i=e.from,s=e.to,o=this.type;n.delete(i,s);const a=n.doc.resolve(i).blockRange();a&&n.setBlockType(a.start,a.end,o),r[1]&&n.insertText(r[1],i)}})]}});function Nc(t,e){return t.chain().focus().command(({tr:r,dispatch:n})=>{if(n){const{$to:i}=r.selection,s=i.end();r.split(s)}return!0}).setNode(e).run()}function tj(t){return Nc(t,"sceneHeading")}function rj(t){return Nc(t,"action")}function nj(t){return Nc(t,"character")}function ij(t){return Nc(t,"dialogue")}function sj(t){return Nc(t,"parenthetical")}function oj(t){return Nc(t,"transition")}const aj=[{name:"sceneHeading",i18nKey:"editor.sceneHeading",shortcut:"Ctrl+1"},{name:"action",i18nKey:"editor.action",shortcut:"Ctrl+2"},{name:"character",i18nKey:"editor.character",shortcut:"Ctrl+3"},{name:"dialogue",i18nKey:"editor.dialogue",shortcut:"Ctrl+4"},{name:"parenthetical",i18nKey:"editor.parenthetical",shortcut:"Ctrl+5"},{name:"transition",i18nKey:"editor.transition",shortcut:"Ctrl+6"}],lj="modulepreload",uj=function(t){return"/SaaS/"+t},_3={},Z1=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=uj(l),l in _3)return;_3[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":lj,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((d,f)=>{h.addEventListener("load",d),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function Ht(t){"@babel/helpers - typeof";return Ht=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ht(t)}var as=Uint8Array,hi=Uint16Array,k5=Int32Array,_5=new as([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),A5=new as([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),A3=new as([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),mN=function(t,e){for(var r=new hi(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new k5(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},gN=mN(_5,2),cj=gN.b,D2=gN.r;cj[28]=258,D2[258]=28;var fj=mN(A5,0),E3=fj.r,F2=new hi(32768);for(var sr=0;sr<32768;++sr){var Go=(sr&43690)>>1|(sr&21845)<<1;Go=(Go&52428)>>2|(Go&13107)<<2,Go=(Go&61680)>>4|(Go&3855)<<4,F2[sr]=((Go&65280)>>8|(Go&255)<<8)>>1}var Hf=function(t,e,r){for(var n=t.length,i=0,s=new hi(e);i<n;++i)t[i]&&++s[t[i]-1];var o=new hi(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(r){a=new hi(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var u=i<<4|t[i],c=e-t[i],h=o[t[i]-1]++<<c,d=h|(1<<c)-1;h<=d;++h)a[F2[h]>>l]=u}else for(a=new hi(n),i=0;i<n;++i)t[i]&&(a[i]=F2[o[t[i]-1]++]>>15-t[i]);return a},Bl=new as(288);for(var sr=0;sr<144;++sr)Bl[sr]=8;for(var sr=144;sr<256;++sr)Bl[sr]=9;for(var sr=256;sr<280;++sr)Bl[sr]=7;for(var sr=280;sr<288;++sr)Bl[sr]=8;var Em=new as(32);for(var sr=0;sr<32;++sr)Em[sr]=5;var hj=Hf(Bl,9,0),dj=Hf(Em,5,0),yN=function(t){return(t+7)/8|0},pj=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new as(t.subarray(e,r))},so=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},gf=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Q1=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,s=r.slice();if(!i)return{t:wN,l:0};if(i==1){var o=new as(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(N,j){return N.f-j.f}),r.push({s:-1,f:25001});var a=r[0],l=r[1],u=0,c=1,h=2;for(r[0]={s:-1,f:a.f+l.f,l:a,r:l};c!=i-1;)a=r[r[u].f<r[h].f?u++:h++],l=r[u!=c&&r[u].f<r[h].f?u++:h++],r[c++]={s:-1,f:a.f+l.f,l:a,r:l};for(var d=s[0].s,n=1;n<i;++n)s[n].s>d&&(d=s[n].s);var f=new hi(d+1),g=B2(r[c-1],f,0);if(g>e){var n=0,y=0,x=g-e,p=1<<x;for(s.sort(function(j,F){return f[F.s]-f[j.s]||j.f-F.f});n<i;++n){var v=s[n].s;if(f[v]>e)y+=p-(1<<g-f[v]),f[v]=e;else break}for(y>>=x;y>0;){var b=s[n].s;f[b]<e?y-=1<<e-f[b]++-1:++n}for(;n>=0&&y;--n){var w=s[n].s;f[w]==e&&(--f[w],++y)}g=e}return{t:new as(f),l:g}},B2=function(t,e,r){return t.s==-1?Math.max(B2(t.l,e,r+1),B2(t.r,e,r+1)):e[t.s]=r},N3=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new hi(++e),n=0,i=t[0],s=1,o=function(l){r[n++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:r.subarray(0,n),n:e}},yf=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},vN=function(t,e,r){var n=r.length,i=yN(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<n;++s)t[i+s+4]=r[s];return(i+4+n)*8},C3=function(t,e,r,n,i,s,o,a,l,u,c){so(e,c++,r),++i[256];for(var h=Q1(i,15),d=h.t,f=h.l,g=Q1(s,15),y=g.t,x=g.l,p=N3(d),v=p.c,b=p.n,w=N3(y),N=w.c,j=w.n,F=new hi(19),z=0;z<v.length;++z)++F[v[z]&31];for(var z=0;z<N.length;++z)++F[N[z]&31];for(var T=Q1(F,7),Z=T.t,H=T.l,L=19;L>4&&!Z[A3[L-1]];--L);var U=u+5<<3,A=yf(i,Bl)+yf(s,Em)+o,ie=yf(i,d)+yf(s,y)+o+14+3*L+yf(F,Z)+2*F[16]+3*F[17]+7*F[18];if(l>=0&&U<=A&&U<=ie)return vN(e,c,t.subarray(l,l+u));var he,te,re,ae;if(so(e,c,1+(ie<A)),c+=2,ie<A){he=Hf(d,f,0),te=d,re=Hf(y,x,0),ae=y;var ve=Hf(Z,H,0);so(e,c,b-257),so(e,c+5,j-1),so(e,c+10,L-4),c+=14;for(var z=0;z<L;++z)so(e,c+3*z,Z[A3[z]]);c+=3*L;for(var le=[v,N],C=0;C<2;++C)for(var q=le[C],z=0;z<q.length;++z){var $=q[z]&31;so(e,c,ve[$]),c+=Z[$],$>15&&(so(e,c,q[z]>>5&127),c+=q[z]>>12)}}else he=hj,te=Bl,re=dj,ae=Em;for(var z=0;z<a;++z){var se=n[z];if(se>255){var $=se>>18&31;gf(e,c,he[$+257]),c+=te[$+257],$>7&&(so(e,c,se>>23&31),c+=_5[$]);var J=se&31;gf(e,c,re[J]),c+=ae[J],J>3&&(gf(e,c,se>>5&8191),c+=A5[J])}else gf(e,c,he[se]),c+=te[se]}return gf(e,c,he[256]),c+te[256]},mj=new k5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),wN=new as(0),gj=function(t,e,r,n,i,s){var o=s.z||t.length,a=new as(n+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(n,a.length-i),u=s.l,c=(s.r||0)&7;if(e){c&&(l[0]=s.r>>3);for(var h=mj[e-1],d=h>>13,f=h&8191,g=(1<<r)-1,y=s.p||new hi(32768),x=s.h||new hi(g+1),p=Math.ceil(r/3),v=2*p,b=function(M){return(t[M]^t[M+1]<<p^t[M+2]<<v)&g},w=new k5(25e3),N=new hi(288),j=new hi(32),F=0,z=0,T=s.i||0,Z=0,H=s.w||0,L=0;T+2<o;++T){var U=b(T),A=T&32767,ie=x[U];if(y[A]=ie,x[U]=A,H<=T){var he=o-T;if((F>7e3||Z>24576)&&(he>423||!u)){c=C3(t,l,0,w,N,j,z,Z,L,T-L,c),Z=F=z=0,L=T;for(var te=0;te<286;++te)N[te]=0;for(var te=0;te<30;++te)j[te]=0}var re=2,ae=0,ve=f,le=A-ie&32767;if(he>2&&U==b(T-le))for(var C=Math.min(d,he)-1,q=Math.min(32767,T),$=Math.min(258,he);le<=q&&--ve&&A!=ie;){if(t[T+re]==t[T+re-le]){for(var se=0;se<$&&t[T+se]==t[T+se-le];++se);if(se>re){if(re=se,ae=le,se>C)break;for(var J=Math.min(le,se-2),O=0,te=0;te<J;++te){var I=T-le+te&32767,Q=y[I],Y=I-Q&32767;Y>O&&(O=Y,ie=I)}}}A=ie,ie=y[A],le+=A-ie&32767}if(ae){w[Z++]=268435456|D2[re]<<18|E3[ae];var V=D2[re]&31,X=E3[ae]&31;z+=_5[V]+A5[X],++N[257+V],++j[X],H=T+re,++F}else w[Z++]=t[T],++N[t[T]]}}for(T=Math.max(T,H);T<o;++T)w[Z++]=t[T],++N[t[T]];c=C3(t,l,u,w,N,j,z,Z,L,T-L,c),u||(s.r=c&7|l[c/8|0]<<3,c-=7,s.h=x,s.p=y,s.i=T,s.w=H)}else{for(var T=s.w||0;T<o+u;T+=65535){var ye=T+65535;ye>=o&&(l[c/8|0]=u,ye=o),c=vN(l,c+1,t.subarray(T,ye))}s.i=o}return pj(a,0,n+yN(c)+i)},bN=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,s=r.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=n+=r[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},yj=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new as(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return gj(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},xN=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},vj=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=bN();i.p(e.dictionary),xN(t,2,i.d())}};function j2(t,e){e||(e={});var r=bN();r.p(t);var n=yj(t,e,e.dictionary?6:2,4);return vj(n,e),xN(n,n.length-4,r.d()),n}var wj=typeof TextDecoder<"u"&&new TextDecoder,bj=0;try{wj.decode(wN,{stream:!0}),bj=1}catch{}function xj(t){if(Array.isArray(t))return t}function Sj(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function T3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function kj(t,e){if(t){if(typeof t=="string")return T3(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?T3(t,e):void 0}}function _j(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L3(t,e){return xj(t)||Sj(t,e)||kj(t,e)||_j()}function O3(t,e="utf8"){return new TextDecoder(e).decode(t)}const Aj=new TextEncoder;function Ej(t){return Aj.encode(t)}const Nj=1024*8,Cj=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),e0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class E5{constructor(e=Nj,r={}){Ut(this,"buffer");Ut(this,"byteLength");Ut(this,"byteOffset");Ut(this,"length");Ut(this,"offset");Ut(this,"lastWrittenByte");Ut(this,"littleEndian");Ut(this,"_data");Ut(this,"_mark");Ut(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,s=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof E5)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=e0[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+n);if(this.littleEndian===Cj&&r!=="uint8"&&r!=="int8"){const a=new Uint8Array(this.buffer.slice(i,i+n));a.reverse();const l=new e0[r](a.buffer);return this.offset+=n,l.reverse(),l}const o=new e0[r](s);return this.offset+=n,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return O3(this.readBytes(e))}decodeText(e=1,r="utf8"){return O3(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(Ej(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Cc(t){let e=t.length;for(;--e>=0;)t[e]=0}const Tj=3,Lj=258,SN=29,Oj=256,Pj=Oj+1+SN,kN=30,Rj=512,Ij=new Array((Pj+2)*2);Cc(Ij);const Mj=new Array(kN*2);Cc(Mj);const Dj=new Array(Rj);Cc(Dj);const Fj=new Array(Lj-Tj+1);Cc(Fj);const Bj=new Array(SN);Cc(Bj);const jj=new Array(kN);Cc(jj);const zj=(t,e,r,n)=>{let i=t&65535|0,s=t>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do i=i+e[n++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var z2=zj;const Uj=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},qj=new Uint32Array(Uj()),Wj=(t,e,r,n)=>{const i=qj,s=n+r;t^=-1;for(let o=n;o<s;o++)t=t>>>8^i[(t^e[o])&255];return t^-1};var xs=Wj,U2={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},_N={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Hj=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Vj=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)Hj(r,n)&&(t[n]=r[n])}}return t},$j=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,s=t.length;n<s;n++){let o=t[n];r.set(o,i),i+=o.length}return r},AN={assign:Vj,flattenChunks:$j};let EN=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{EN=!1}const kh=new Uint8Array(256);for(let t=0;t<256;t++)kh[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;kh[254]=kh[254]=1;var Kj=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,s,o=t.length,a=0;for(i=0;i<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),a+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(a),s=0,i=0;s<a;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|r&63):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|r&63):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|r&63);return e};const Gj=(t,e)=>{if(e<65534&&t.subarray&&EN)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var Jj=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const s=new Array(r*2);for(i=0,n=0;n<r;){let o=t[n++];if(o<128){s[i++]=o;continue}let a=kh[o];if(a>4){s[i++]=65533,n+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&n<r;)o=o<<6|t[n++]&63,a--;if(a>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return Gj(s,i)},Yj=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+kh[t[r]]>e?r:e},q2={string2buf:Kj,buf2string:Jj,utf8border:Yj};function Xj(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Zj=Xj;const Gd=16209,Qj=16191;var ez=function(e,r){let n,i,s,o,a,l,u,c,h,d,f,g,y,x,p,v,b,w,N,j,F,z,T,Z;const H=e.state;n=e.next_in,T=e.input,i=n+(e.avail_in-5),s=e.next_out,Z=e.output,o=s-(r-e.avail_out),a=s+(e.avail_out-257),l=H.dmax,u=H.wsize,c=H.whave,h=H.wnext,d=H.window,f=H.hold,g=H.bits,y=H.lencode,x=H.distcode,p=(1<<H.lenbits)-1,v=(1<<H.distbits)-1;e:do{g<15&&(f+=T[n++]<<g,g+=8,f+=T[n++]<<g,g+=8),b=y[f&p];t:for(;;){if(w=b>>>24,f>>>=w,g-=w,w=b>>>16&255,w===0)Z[s++]=b&65535;else if(w&16){N=b&65535,w&=15,w&&(g<w&&(f+=T[n++]<<g,g+=8),N+=f&(1<<w)-1,f>>>=w,g-=w),g<15&&(f+=T[n++]<<g,g+=8,f+=T[n++]<<g,g+=8),b=x[f&v];r:for(;;){if(w=b>>>24,f>>>=w,g-=w,w=b>>>16&255,w&16){if(j=b&65535,w&=15,g<w&&(f+=T[n++]<<g,g+=8,g<w&&(f+=T[n++]<<g,g+=8)),j+=f&(1<<w)-1,j>l){e.msg="invalid distance too far back",H.mode=Gd;break e}if(f>>>=w,g-=w,w=s-o,j>w){if(w=j-w,w>c&&H.sane){e.msg="invalid distance too far back",H.mode=Gd;break e}if(F=0,z=d,h===0){if(F+=u-w,w<N){N-=w;do Z[s++]=d[F++];while(--w);F=s-j,z=Z}}else if(h<w){if(F+=u+h-w,w-=h,w<N){N-=w;do Z[s++]=d[F++];while(--w);if(F=0,h<N){w=h,N-=w;do Z[s++]=d[F++];while(--w);F=s-j,z=Z}}}else if(F+=h-w,w<N){N-=w;do Z[s++]=d[F++];while(--w);F=s-j,z=Z}for(;N>2;)Z[s++]=z[F++],Z[s++]=z[F++],Z[s++]=z[F++],N-=3;N&&(Z[s++]=z[F++],N>1&&(Z[s++]=z[F++]))}else{F=s-j;do Z[s++]=Z[F++],Z[s++]=Z[F++],Z[s++]=Z[F++],N-=3;while(N>2);N&&(Z[s++]=Z[F++],N>1&&(Z[s++]=Z[F++]))}}else if(w&64){e.msg="invalid distance code",H.mode=Gd;break e}else{b=x[(b&65535)+(f&(1<<w)-1)];continue r}break}}else if(w&64)if(w&32){H.mode=Qj;break e}else{e.msg="invalid literal/length code",H.mode=Gd;break e}else{b=y[(b&65535)+(f&(1<<w)-1)];continue t}break}}while(n<i&&s<a);N=g>>3,n-=N,g-=N<<3,f&=(1<<g)-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=s<a?257+(a-s):257-(s-a),H.hold=f,H.bits=g};const pu=15,P3=852,R3=592,I3=0,t0=1,M3=2,tz=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),rz=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),nz=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),iz=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),sz=(t,e,r,n,i,s,o,a)=>{const l=a.bits;let u=0,c=0,h=0,d=0,f=0,g=0,y=0,x=0,p=0,v=0,b,w,N,j,F,z=null,T;const Z=new Uint16Array(pu+1),H=new Uint16Array(pu+1);let L=null,U,A,ie;for(u=0;u<=pu;u++)Z[u]=0;for(c=0;c<n;c++)Z[e[r+c]]++;for(f=l,d=pu;d>=1&&Z[d]===0;d--);if(f>d&&(f=d),d===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(h=1;h<d&&Z[h]===0;h++);for(f<h&&(f=h),x=1,u=1;u<=pu;u++)if(x<<=1,x-=Z[u],x<0)return-1;if(x>0&&(t===I3||d!==1))return-1;for(H[1]=0,u=1;u<pu;u++)H[u+1]=H[u]+Z[u];for(c=0;c<n;c++)e[r+c]!==0&&(o[H[e[r+c]]++]=c);if(t===I3?(z=L=o,T=20):t===t0?(z=tz,L=rz,T=257):(z=nz,L=iz,T=0),v=0,c=0,u=h,F=s,g=f,y=0,N=-1,p=1<<f,j=p-1,t===t0&&p>P3||t===M3&&p>R3)return 1;for(;;){U=u-y,o[c]+1<T?(A=0,ie=o[c]):o[c]>=T?(A=L[o[c]-T],ie=z[o[c]-T]):(A=96,ie=0),b=1<<u-y,w=1<<g,h=w;do w-=b,i[F+(v>>y)+w]=U<<24|A<<16|ie|0;while(w!==0);for(b=1<<u-1;v&b;)b>>=1;if(b!==0?(v&=b-1,v+=b):v=0,c++,--Z[u]===0){if(u===d)break;u=e[r+o[c]]}if(u>f&&(v&j)!==N){for(y===0&&(y=f),F+=h,g=u-y,x=1<<g;g+y<d&&(x-=Z[g+y],!(x<=0));)g++,x<<=1;if(p+=1<<g,t===t0&&p>P3||t===M3&&p>R3)return 1;N=v&j,i[N]=f<<24|g<<16|F-s|0}}return v!==0&&(i[F+v]=u-y<<24|64<<16|0),a.bits=f,0};var Vf=sz;const oz=0,NN=1,CN=2,{Z_FINISH:D3,Z_BLOCK:az,Z_TREES:Jd,Z_OK:jl,Z_STREAM_END:lz,Z_NEED_DICT:uz,Z_STREAM_ERROR:ji,Z_DATA_ERROR:TN,Z_MEM_ERROR:LN,Z_BUF_ERROR:cz,Z_DEFLATED:F3}=_N,cg=16180,B3=16181,j3=16182,z3=16183,U3=16184,q3=16185,W3=16186,H3=16187,V3=16188,$3=16189,Nm=16190,oo=16191,r0=16192,K3=16193,n0=16194,G3=16195,J3=16196,Y3=16197,X3=16198,Yd=16199,Xd=16200,Z3=16201,Q3=16202,e4=16203,t4=16204,r4=16205,i0=16206,n4=16207,i4=16208,ar=16209,ON=16210,PN=16211,fz=852,hz=592,dz=15,pz=dz,s4=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function mz(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Hl=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<cg||e.mode>PN?1:0},RN=t=>{if(Hl(t))return ji;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=cg,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(fz),e.distcode=e.distdyn=new Int32Array(hz),e.sane=1,e.back=-1,jl},IN=t=>{if(Hl(t))return ji;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,RN(t)},MN=(t,e)=>{let r;if(Hl(t))return ji;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ji:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,IN(t))},DN=(t,e)=>{if(!t)return ji;const r=new mz;t.state=r,r.strm=t,r.window=null,r.mode=cg;const n=MN(t,e);return n!==jl&&(t.state=null),n},gz=t=>DN(t,pz);let o4=!0,s0,o0;const yz=t=>{if(o4){s0=new Int32Array(512),o0=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Vf(NN,t.lens,0,288,s0,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Vf(CN,t.lens,0,32,o0,0,t.work,{bits:5}),o4=!1}t.lencode=s0,t.lenbits=9,t.distcode=o0,t.distbits=5},FN=(t,e,r,n)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(e.subarray(r-n,r-n+i),s.wnext),n-=i,n?(s.window.set(e.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},vz=(t,e)=>{let r,n,i,s,o,a,l,u,c,h,d,f,g,y,x=0,p,v,b,w,N,j,F,z;const T=new Uint8Array(4);let Z,H;const L=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Hl(t)||!t.output||!t.input&&t.avail_in!==0)return ji;r=t.state,r.mode===oo&&(r.mode=r0),o=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,n=t.input,a=t.avail_in,u=r.hold,c=r.bits,h=a,d=l,z=jl;e:for(;;)switch(r.mode){case cg:if(r.wrap===0){r.mode=r0;break}for(;c<16;){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,T[0]=u&255,T[1]=u>>>8&255,r.check=xs(r.check,T,2,0),u=0,c=0,r.mode=B3;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=ar;break}if((u&15)!==F3){t.msg="unknown compression method",r.mode=ar;break}if(u>>>=4,c-=4,F=(u&15)+8,r.wbits===0&&(r.wbits=F),F>15||F>r.wbits){t.msg="invalid window size",r.mode=ar;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=u&512?$3:oo,u=0,c=0;break;case B3:for(;c<16;){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}if(r.flags=u,(r.flags&255)!==F3){t.msg="unknown compression method",r.mode=ar;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=ar;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,r.check=xs(r.check,T,2,0)),u=0,c=0,r.mode=j3;case j3:for(;c<32;){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,T[2]=u>>>16&255,T[3]=u>>>24&255,r.check=xs(r.check,T,4,0)),u=0,c=0,r.mode=z3;case z3:for(;c<16;){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,r.check=xs(r.check,T,2,0)),u=0,c=0,r.mode=U3;case U3:if(r.flags&1024){for(;c<16;){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,r.check=xs(r.check,T,2,0)),u=0,c=0}else r.head&&(r.head.extra=null);r.mode=q3;case q3:if(r.flags&1024&&(f=r.length,f>a&&(f=a),f&&(r.head&&(F=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+f),F)),r.flags&512&&r.wrap&4&&(r.check=xs(r.check,n,f,s)),a-=f,s+=f,r.length-=f),r.length))break e;r.length=0,r.mode=W3;case W3:if(r.flags&2048){if(a===0)break e;f=0;do F=n[s+f++],r.head&&F&&r.length<65536&&(r.head.name+=String.fromCharCode(F));while(F&&f<a);if(r.flags&512&&r.wrap&4&&(r.check=xs(r.check,n,f,s)),a-=f,s+=f,F)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=H3;case H3:if(r.flags&4096){if(a===0)break e;f=0;do F=n[s+f++],r.head&&F&&r.length<65536&&(r.head.comment+=String.fromCharCode(F));while(F&&f<a);if(r.flags&512&&r.wrap&4&&(r.check=xs(r.check,n,f,s)),a-=f,s+=f,F)break e}else r.head&&(r.head.comment=null);r.mode=V3;case V3:if(r.flags&512){for(;c<16;){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}if(r.wrap&4&&u!==(r.check&65535)){t.msg="header crc mismatch",r.mode=ar;break}u=0,c=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=oo;break;case $3:for(;c<32;){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}t.adler=r.check=s4(u),u=0,c=0,r.mode=Nm;case Nm:if(r.havedict===0)return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,r.hold=u,r.bits=c,uz;t.adler=r.check=1,r.mode=oo;case oo:if(e===az||e===Jd)break e;case r0:if(r.last){u>>>=c&7,c-=c&7,r.mode=i0;break}for(;c<3;){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}switch(r.last=u&1,u>>>=1,c-=1,u&3){case 0:r.mode=K3;break;case 1:if(yz(r),r.mode=Yd,e===Jd){u>>>=2,c-=2;break e}break;case 2:r.mode=J3;break;case 3:t.msg="invalid block type",r.mode=ar}u>>>=2,c-=2;break;case K3:for(u>>>=c&7,c-=c&7;c<32;){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=ar;break}if(r.length=u&65535,u=0,c=0,r.mode=n0,e===Jd)break e;case n0:r.mode=G3;case G3:if(f=r.length,f){if(f>a&&(f=a),f>l&&(f=l),f===0)break e;i.set(n.subarray(s,s+f),o),a-=f,s+=f,l-=f,o+=f,r.length-=f;break}r.mode=oo;break;case J3:for(;c<14;){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}if(r.nlen=(u&31)+257,u>>>=5,c-=5,r.ndist=(u&31)+1,u>>>=5,c-=5,r.ncode=(u&15)+4,u>>>=4,c-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=ar;break}r.have=0,r.mode=Y3;case Y3:for(;r.have<r.ncode;){for(;c<3;){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}r.lens[L[r.have++]]=u&7,u>>>=3,c-=3}for(;r.have<19;)r.lens[L[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,Z={bits:r.lenbits},z=Vf(oz,r.lens,0,19,r.lencode,0,r.work,Z),r.lenbits=Z.bits,z){t.msg="invalid code lengths set",r.mode=ar;break}r.have=0,r.mode=X3;case X3:for(;r.have<r.nlen+r.ndist;){for(;x=r.lencode[u&(1<<r.lenbits)-1],p=x>>>24,v=x>>>16&255,b=x&65535,!(p<=c);){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}if(b<16)u>>>=p,c-=p,r.lens[r.have++]=b;else{if(b===16){for(H=p+2;c<H;){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}if(u>>>=p,c-=p,r.have===0){t.msg="invalid bit length repeat",r.mode=ar;break}F=r.lens[r.have-1],f=3+(u&3),u>>>=2,c-=2}else if(b===17){for(H=p+3;c<H;){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}u>>>=p,c-=p,F=0,f=3+(u&7),u>>>=3,c-=3}else{for(H=p+7;c<H;){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}u>>>=p,c-=p,F=0,f=11+(u&127),u>>>=7,c-=7}if(r.have+f>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=ar;break}for(;f--;)r.lens[r.have++]=F}}if(r.mode===ar)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=ar;break}if(r.lenbits=9,Z={bits:r.lenbits},z=Vf(NN,r.lens,0,r.nlen,r.lencode,0,r.work,Z),r.lenbits=Z.bits,z){t.msg="invalid literal/lengths set",r.mode=ar;break}if(r.distbits=6,r.distcode=r.distdyn,Z={bits:r.distbits},z=Vf(CN,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,Z),r.distbits=Z.bits,z){t.msg="invalid distances set",r.mode=ar;break}if(r.mode=Yd,e===Jd)break e;case Yd:r.mode=Xd;case Xd:if(a>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,r.hold=u,r.bits=c,ez(t,d),o=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,n=t.input,a=t.avail_in,u=r.hold,c=r.bits,r.mode===oo&&(r.back=-1);break}for(r.back=0;x=r.lencode[u&(1<<r.lenbits)-1],p=x>>>24,v=x>>>16&255,b=x&65535,!(p<=c);){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}if(v&&!(v&240)){for(w=p,N=v,j=b;x=r.lencode[j+((u&(1<<w+N)-1)>>w)],p=x>>>24,v=x>>>16&255,b=x&65535,!(w+p<=c);){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}u>>>=w,c-=w,r.back+=w}if(u>>>=p,c-=p,r.back+=p,r.length=b,v===0){r.mode=r4;break}if(v&32){r.back=-1,r.mode=oo;break}if(v&64){t.msg="invalid literal/length code",r.mode=ar;break}r.extra=v&15,r.mode=Z3;case Z3:if(r.extra){for(H=r.extra;c<H;){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,c-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=Q3;case Q3:for(;x=r.distcode[u&(1<<r.distbits)-1],p=x>>>24,v=x>>>16&255,b=x&65535,!(p<=c);){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}if(!(v&240)){for(w=p,N=v,j=b;x=r.distcode[j+((u&(1<<w+N)-1)>>w)],p=x>>>24,v=x>>>16&255,b=x&65535,!(w+p<=c);){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}u>>>=w,c-=w,r.back+=w}if(u>>>=p,c-=p,r.back+=p,v&64){t.msg="invalid distance code",r.mode=ar;break}r.offset=b,r.extra=v&15,r.mode=e4;case e4:if(r.extra){for(H=r.extra;c<H;){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,c-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=ar;break}r.mode=t4;case t4:if(l===0)break e;if(f=d-l,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=ar;break}f>r.wnext?(f-=r.wnext,g=r.wsize-f):g=r.wnext-f,f>r.length&&(f=r.length),y=r.window}else y=i,g=o-r.offset,f=r.length;f>l&&(f=l),l-=f,r.length-=f;do i[o++]=y[g++];while(--f);r.length===0&&(r.mode=Xd);break;case r4:if(l===0)break e;i[o++]=r.length,l--,r.mode=Xd;break;case i0:if(r.wrap){for(;c<32;){if(a===0)break e;a--,u|=n[s++]<<c,c+=8}if(d-=l,t.total_out+=d,r.total+=d,r.wrap&4&&d&&(t.adler=r.check=r.flags?xs(r.check,i,d,o-d):z2(r.check,i,d,o-d)),d=l,r.wrap&4&&(r.flags?u:s4(u))!==r.check){t.msg="incorrect data check",r.mode=ar;break}u=0,c=0}r.mode=n4;case n4:if(r.wrap&&r.flags){for(;c<32;){if(a===0)break e;a--,u+=n[s++]<<c,c+=8}if(r.wrap&4&&u!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=ar;break}u=0,c=0}r.mode=i4;case i4:z=lz;break e;case ar:z=TN;break e;case ON:return LN;case PN:default:return ji}return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,r.hold=u,r.bits=c,(r.wsize||d!==t.avail_out&&r.mode<ar&&(r.mode<i0||e!==D3))&&FN(t,t.output,t.next_out,d-t.avail_out),h-=t.avail_in,d-=t.avail_out,t.total_in+=h,t.total_out+=d,r.total+=d,r.wrap&4&&d&&(t.adler=r.check=r.flags?xs(r.check,i,d,t.next_out-d):z2(r.check,i,d,t.next_out-d)),t.data_type=r.bits+(r.last?64:0)+(r.mode===oo?128:0)+(r.mode===Yd||r.mode===n0?256:0),(h===0&&d===0||e===D3)&&z===jl&&(z=cz),z},wz=t=>{if(Hl(t))return ji;let e=t.state;return e.window&&(e.window=null),t.state=null,jl},bz=(t,e)=>{if(Hl(t))return ji;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,jl):ji},xz=(t,e)=>{const r=e.length;let n,i,s;return Hl(t)||(n=t.state,n.wrap!==0&&n.mode!==Nm)?ji:n.mode===Nm&&(i=1,i=z2(i,e,r,0),i!==n.check)?TN:(s=FN(t,e,r,r),s?(n.mode=ON,LN):(n.havedict=1,jl))};var Sz=IN,kz=MN,_z=RN,Az=gz,Ez=DN,Nz=vz,Cz=wz,Tz=bz,Lz=xz,Oz="pako inflate (from Nodeca project)",ho={inflateReset:Sz,inflateReset2:kz,inflateResetKeep:_z,inflateInit:Az,inflateInit2:Ez,inflate:Nz,inflateEnd:Cz,inflateGetHeader:Tz,inflateSetDictionary:Lz,inflateInfo:Oz};function Pz(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Rz=Pz;const BN=Object.prototype.toString,{Z_NO_FLUSH:Iz,Z_FINISH:Mz,Z_OK:_h,Z_STREAM_END:a0,Z_NEED_DICT:l0,Z_STREAM_ERROR:Dz,Z_DATA_ERROR:a4,Z_MEM_ERROR:Fz}=_N;function Mh(t){this.options=AN.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Zj,this.strm.avail_out=0;let r=ho.inflateInit2(this.strm,e.windowBits);if(r!==_h)throw new Error(U2[r]);if(this.header=new Rz,ho.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=q2.string2buf(e.dictionary):BN.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=ho.inflateSetDictionary(this.strm,e.dictionary),r!==_h)))throw new Error(U2[r])}Mh.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?Mz:Iz,BN.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=ho.inflate(r,o),s===l0&&i&&(s=ho.inflateSetDictionary(r,i),s===_h?s=ho.inflate(r,o):s===a4&&(s=l0));r.avail_in>0&&s===a0&&r.state.wrap>0&&t[r.next_in]!==0;)ho.inflateReset(r),s=ho.inflate(r,o);switch(s){case Dz:case a4:case l0:case Fz:return this.onEnd(s),this.ended=!0,!1}if(a=r.avail_out,r.next_out&&(r.avail_out===0||s===a0))if(this.options.to==="string"){let l=q2.utf8border(r.output,r.next_out),u=r.next_out-l,c=q2.buf2string(r.output,l);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(l,l+u),0),this.onData(c)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===_h&&a===0)){if(s===a0)return s=ho.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Mh.prototype.onData=function(t){this.chunks.push(t)};Mh.prototype.onEnd=function(t){t===_h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=AN.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Bz(t,e){const r=new Mh(e);if(r.push(t),r.err)throw r.msg||U2[r.err];return r.result}var jz=Mh,zz=Bz,Uz={Inflate:jz,inflate:zz};const{Inflate:qz,inflate:Wz}=Uz;var l4=qz,Hz=Wz;const jN=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;jN[t]=e}const u4=4294967295;function Vz(t,e,r){let n=t;for(let i=0;i<r;i++)n=jN[(n^e[i])&255]^n>>>8;return n}function $z(t,e){return(Vz(u4,t,e)^u4)>>>0}function c4(t,e,r){const n=t.readUint32(),i=$z(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function zN(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function UN(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function qN(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function WN(t,e,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(r[s]>>1)&255;for(;s<n;s++)e[s]=t[s]+(e[s-i]+r[s]>>1)&255}}function HN(t,e,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+r[s]&255;for(;s<n;s++)e[s]=t[s]+Kz(e[s-i],r[s],r[s-i])&255}}function Kz(t,e,r){const n=t+e-r,i=Math.abs(n-t),s=Math.abs(n-e),o=Math.abs(n-r);return i<=s&&i<=o?t:s<=o?e:r}function Gz(t,e,r,n,i,s){switch(t){case 0:zN(e,r,i);break;case 1:UN(e,r,i,s);break;case 2:qN(e,r,n,i);break;case 3:WN(e,r,n,i,s);break;case 4:HN(e,r,n,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const Jz=new Uint16Array([255]),Yz=new Uint8Array(Jz.buffer),Xz=Yz[0]===255;function Zz(t){const{data:e,width:r,height:n,channels:i,depth:s}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(s/8)*i,l=new Uint8Array(n*r*a);let u=0;for(let c=0;c<7;c++){const h=o[c],d=Math.ceil((r-h.x)/h.xStep),f=Math.ceil((n-h.y)/h.yStep);if(d<=0||f<=0)continue;const g=d*a,y=new Uint8Array(g);for(let x=0;x<f;x++){const p=e[u++],v=e.subarray(u,u+g);u+=g;const b=new Uint8Array(g);Gz(p,v,b,y,g,a),y.set(b);for(let w=0;w<d;w++){const N=h.x+w*h.xStep,j=h.y+x*h.yStep;if(!(N>=r||j>=n))for(let F=0;F<a;F++)l[(j*r+N)*a+F]=b[w*a+F]}}}if(s===16){const c=new Uint16Array(l.buffer);if(Xz)for(let h=0;h<c.length;h++)c[h]=Qz(c[h]);return c}else return l}function Qz(t){return(t&255)<<8|t>>8&255}const eU=new Uint16Array([255]),tU=new Uint8Array(eU.buffer),rU=tU[0]===255,nU=new Uint8Array(0);function f4(t){const{data:e,width:r,height:n,channels:i,depth:s}=t,o=Math.ceil(s/8)*i,a=Math.ceil(s/8*i*r),l=new Uint8Array(n*a);let u=nU,c=0,h,d;for(let f=0;f<n;f++){switch(h=e.subarray(c+1,c+1+a),d=l.subarray(f*a,(f+1)*a),e[c]){case 0:zN(h,d,a);break;case 1:UN(h,d,a,o);break;case 2:qN(h,d,u,a);break;case 3:WN(h,d,u,a,o);break;case 4:HN(h,d,u,a,o);break;default:throw new Error(`Unsupported filter: ${e[c]}`)}u=d,c+=a+1}if(s===16){const f=new Uint16Array(l.buffer);if(rU)for(let g=0;g<f.length;g++)f[g]=iU(f[g]);return f}else return l}function iU(t){return(t&255)<<8|t>>8&255}const Lp=Uint8Array.of(137,80,78,71,13,10,26,10);function h4(t){if(!sU(t.readBytes(Lp.length)))throw new Error("wrong PNG signature")}function sU(t){if(t.length<Lp.length)return!1;for(let e=0;e<Lp.length;e++)if(t[e]!==Lp[e])return!1;return!0}const oU="tEXt",aU=0,VN=new TextDecoder("latin1");function lU(t){if(cU(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const uU=/^[\u0000-\u00FF]*$/;function cU(t){if(!uU.test(t))throw new Error("invalid latin1 text")}function fU(t,e,r){const n=$N(e);t[n]=hU(e,r-n.length-1)}function $N(t){for(t.mark();t.readByte()!==aU;);const e=t.offset;t.reset();const r=VN.decode(t.readBytes(e-t.offset-1));return t.skip(1),lU(r),r}function hU(t,e){return VN.decode(t.readBytes(e))}const ai={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},u0={UNKNOWN:-1,DEFLATE:0},d4={UNKNOWN:-1,ADAPTIVE:0},c0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Zd={NONE:0,BACKGROUND:1,PREVIOUS:2},f0={SOURCE:0,OVER:1};class dU extends E5{constructor(r,n={}){super(r);Ut(this,"_checkCrc");Ut(this,"_inflator");Ut(this,"_png");Ut(this,"_apng");Ut(this,"_end");Ut(this,"_hasPalette");Ut(this,"_palette");Ut(this,"_hasTransparency");Ut(this,"_transparency");Ut(this,"_compressionMethod");Ut(this,"_filterMethod");Ut(this,"_interlaceMethod");Ut(this,"_colorType");Ut(this,"_isAnimated");Ut(this,"_numberOfFrames");Ut(this,"_numberOfPlays");Ut(this,"_frames");Ut(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new l4,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=u0.UNKNOWN,this._filterMethod=d4.UNKNOWN,this._interlaceMethod=c0.UNKNOWN,this._colorType=ai.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(h4(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(h4(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case oU:fU(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?c4(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?c4(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=pU(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case ai.GREYSCALE:i=1;break;case ai.TRUECOLOUR:i=3;break;case ai.INDEXED_COLOUR:i=1;break;case ai.GREYSCALE_ALPHA:i=2;break;case ai.TRUECOLOUR_ALPHA:i=4;break;case ai.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==u0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<n;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case ai.GREYSCALE:case ai.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case ai.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case ai.UNKNOWN:case ai.GREYSCALE_ALPHA:case ai.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=$N(this),i=this.readUint8();if(i!==u0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:Hz(s)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=f4({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const s=this._apng.frames.at(r-1);this.disposeFrame(i,s,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case Zd.NONE:break;case Zd.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const a=(s*r.width+o)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[a+l]=0}break;case Zd.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,s=(o,a)=>{const l=((o+n.yOffset)*this._png.width+n.xOffset+a)*this._png.channels,u=(o*n.width+a)*this._png.channels;return{index:l,frameIndex:u}};switch(n.blendOp){case f0.SOURCE:for(let o=0;o<n.height;o++)for(let a=0;a<n.width;a++){const{index:l,frameIndex:u}=s(o,a);for(let c=0;c<this._png.channels;c++)r.data[l+c]=n.data[u+c]}break;case f0.OVER:for(let o=0;o<n.height;o++)for(let a=0;a<n.width;a++){const{index:l,frameIndex:u}=s(o,a);for(let c=0;c<this._png.channels;c++){const h=n.data[u+this._png.channels-1]/i,d=c%(this._png.channels-1)===0?1:n.data[u+c],f=Math.floor(h*d+(1-h)*r.data[l+c]);r.data[l+c]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==d4.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===c0.NO_INTERLACE)this._png.data=f4({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===c0.ADAM7)this._png.data=Zz({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Zd.NONE,blendOp:f0.SOURCE,data:r}),this._inflator=new l4,this._writingDataChunks=!1}}function pU(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var p4;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(p4||(p4={}));function mU(t,e){return new dU(t,e).decode()}var dt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function h0(){dt.console&&typeof dt.console.log=="function"&&dt.console.log.apply(dt.console,arguments)}var Zt={log:h0,warn:function(t){dt.console&&(typeof dt.console.warn=="function"?dt.console.warn.apply(dt.console,arguments):h0.call(null,arguments))},error:function(t){dt.console&&(typeof dt.console.error=="function"?dt.console.error.apply(dt.console,arguments):h0(t))}};function d0(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){ll(n.response,e,r)},n.onerror=function(){Zt.error("could not download file")},n.send()}function m4(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Qd(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var ll=dt.saveAs||((typeof window>"u"?"undefined":Ht(window))!=="object"||window!==dt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=dt.URL||dt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?m4(i.href)?d0(t,e,r):Qd(i,i.target="_blank"):Qd(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Qd(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(m4(t))d0(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Qd(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Ht(s)!=="object"&&(Zt.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return d0(t,e,r);var i=t.type==="application/octet-stream",s=/constructor/i.test(dt.HTMLElement)||dt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":Ht(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var c=a.result;c=o?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=c:location=c,n=null},a.readAsDataURL(t)}else{var l=dt.URL||dt.webkitURL,u=l.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function KN(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+a+l+u}}var Op=dt.atob.bind(dt),g4=dt.btoa.bind(dt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function p0(t,e){var r=t[0],n=t[1],i=t[2],s=t[3];r=Sn(r,n,i,s,e[0],7,-680876936),s=Sn(s,r,n,i,e[1],12,-389564586),i=Sn(i,s,r,n,e[2],17,606105819),n=Sn(n,i,s,r,e[3],22,-1044525330),r=Sn(r,n,i,s,e[4],7,-176418897),s=Sn(s,r,n,i,e[5],12,1200080426),i=Sn(i,s,r,n,e[6],17,-1473231341),n=Sn(n,i,s,r,e[7],22,-45705983),r=Sn(r,n,i,s,e[8],7,1770035416),s=Sn(s,r,n,i,e[9],12,-1958414417),i=Sn(i,s,r,n,e[10],17,-42063),n=Sn(n,i,s,r,e[11],22,-1990404162),r=Sn(r,n,i,s,e[12],7,1804603682),s=Sn(s,r,n,i,e[13],12,-40341101),i=Sn(i,s,r,n,e[14],17,-1502002290),r=kn(r,n=Sn(n,i,s,r,e[15],22,1236535329),i,s,e[1],5,-165796510),s=kn(s,r,n,i,e[6],9,-1069501632),i=kn(i,s,r,n,e[11],14,643717713),n=kn(n,i,s,r,e[0],20,-373897302),r=kn(r,n,i,s,e[5],5,-701558691),s=kn(s,r,n,i,e[10],9,38016083),i=kn(i,s,r,n,e[15],14,-660478335),n=kn(n,i,s,r,e[4],20,-405537848),r=kn(r,n,i,s,e[9],5,568446438),s=kn(s,r,n,i,e[14],9,-1019803690),i=kn(i,s,r,n,e[3],14,-187363961),n=kn(n,i,s,r,e[8],20,1163531501),r=kn(r,n,i,s,e[13],5,-1444681467),s=kn(s,r,n,i,e[2],9,-51403784),i=kn(i,s,r,n,e[7],14,1735328473),r=_n(r,n=kn(n,i,s,r,e[12],20,-1926607734),i,s,e[5],4,-378558),s=_n(s,r,n,i,e[8],11,-2022574463),i=_n(i,s,r,n,e[11],16,1839030562),n=_n(n,i,s,r,e[14],23,-35309556),r=_n(r,n,i,s,e[1],4,-1530992060),s=_n(s,r,n,i,e[4],11,1272893353),i=_n(i,s,r,n,e[7],16,-155497632),n=_n(n,i,s,r,e[10],23,-1094730640),r=_n(r,n,i,s,e[13],4,681279174),s=_n(s,r,n,i,e[0],11,-358537222),i=_n(i,s,r,n,e[3],16,-722521979),n=_n(n,i,s,r,e[6],23,76029189),r=_n(r,n,i,s,e[9],4,-640364487),s=_n(s,r,n,i,e[12],11,-421815835),i=_n(i,s,r,n,e[15],16,530742520),r=An(r,n=_n(n,i,s,r,e[2],23,-995338651),i,s,e[0],6,-198630844),s=An(s,r,n,i,e[7],10,1126891415),i=An(i,s,r,n,e[14],15,-1416354905),n=An(n,i,s,r,e[5],21,-57434055),r=An(r,n,i,s,e[12],6,1700485571),s=An(s,r,n,i,e[3],10,-1894986606),i=An(i,s,r,n,e[10],15,-1051523),n=An(n,i,s,r,e[1],21,-2054922799),r=An(r,n,i,s,e[8],6,1873313359),s=An(s,r,n,i,e[15],10,-30611744),i=An(i,s,r,n,e[6],15,-1560198380),n=An(n,i,s,r,e[13],21,1309151649),r=An(r,n,i,s,e[4],6,-145523070),s=An(s,r,n,i,e[11],10,-1120210379),i=An(i,s,r,n,e[2],15,718787259),n=An(n,i,s,r,e[9],21,-343485551),t[0]=ca(r,t[0]),t[1]=ca(n,t[1]),t[2]=ca(i,t[2]),t[3]=ca(s,t[3])}function fg(t,e,r,n,i,s){return e=ca(ca(e,t),ca(n,s)),ca(e<<i|e>>>32-i,r)}function Sn(t,e,r,n,i,s,o){return fg(e&r|~e&n,t,e,i,s,o)}function kn(t,e,r,n,i,s,o){return fg(e&n|r&~n,t,e,i,s,o)}function _n(t,e,r,n,i,s,o){return fg(e^r^n,t,e,i,s,o)}function An(t,e,r,n,i,s,o){return fg(r^(e|~n),t,e,i,s,o)}function GN(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)p0(n,gU(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(p0(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,p0(n,i),n}function gU(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var y4="0123456789abcdef".split("");function yU(t){for(var e="",r=0;r<4;r++)e+=y4[t>>8*r+4&15]+y4[t>>8*r&15];return e}function vU(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function W2(t){return GN(t).map(vU).join("")}var wU=function(t){for(var e=0;e<t.length;e++)t[e]=yU(t[e]);return t.join("")}(GN("hello"))!="5d41402abc4b2a76b9719d911017c592";function ca(t,e){if(wU){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function H2(t,e){var r,n,i,s;if(t!==r){for(var o=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var u=0;for(l=0;l<256;l++){var c=a[l];u=(u+c+o.charCodeAt(l))%256,a[l]=a[u],a[u]=c}r=t,n=a}else a=n;var h=e.length,d=0,f=0,g="";for(l=0;l<h;l++)f=(f+(c=a[d=(d+1)%256]))%256,a[d]=a[f],a[f]=c,o=a[(a[d]+a[f])%256],g+=String.fromCharCode(e.charCodeAt(l)^o);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var v4={print:4,modify:8,copy:16,"annot-forms":32};function Su(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(v4.perm!==void 0)throw new Error("Invalid permission: "+a);i+=v4[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=W2(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=H2(this.encryptionKey,this.padding)}function ku(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function w4(t){if(Ht(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[r]){var o=e[r][s];try{o[0].apply(t,n)}catch(a){dt.console&&Zt.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Cm(t){if(!(this instanceof Cm))return new Cm(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function JN(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function fl(t,e,r,n,i){if(!(this instanceof fl))return new fl(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,JN.call(this,n,i)}function ju(t,e,r,n,i){if(!(this instanceof ju))return new ju(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,JN.call(this,n,i)}function st(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,u="S",c=null;Ht(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,s=t.compress||t.compressPdf||s,(c=t.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,d={},f={internal:{},__private__:{}};f.__private__.PubSub=w4;var g="1.3",y=f.__private__.getPdfVersion=function(){return g};f.__private__.setPdfVersion=function(E){g=E};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return x};var p=f.__private__.getPageFormat=function(E){return x[E]};i=i||"a4";var v="compat",b="advanced",w=v;function N(){this.saveGraphicsState(),W(new ht(ct,0,0,-ct,0,$a()*ct).toString()+" cm"),this.setFontSize(this.getFontSize()/ct),u="n",w=b}function j(){this.restoreGraphicsState(),u="S",w=v}var F=f.__private__.combineFontStyleAndFontWeight=function(E,K){if(E=="bold"&&K=="normal"||E=="bold"&&K==400||E=="normal"&&K=="italic"||E=="bold"&&K=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return K&&(E=K==400||K==="normal"?E==="italic"?"italic":"normal":K!=700&&K!=="bold"||E!=="normal"?(K==700?"bold":K)+""+E:"bold"),E};f.advancedAPI=function(E){var K=w===v;return K&&N.call(this),typeof E!="function"||(E(this),K&&j.call(this)),this},f.compatAPI=function(E){var K=w===b;return K&&j.call(this),typeof E!="function"||(E(this),K&&N.call(this)),this},f.isAdvancedAPI=function(){return w===b};var z,T=function(E){if(w!==b)throw new Error(E+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Z=f.roundToPrecision=f.__private__.roundToPrecision=function(E,K){var ge=e||K;if(isNaN(E)||isNaN(ge))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return E.toFixed(ge).replace(/0+$/,"")};z=f.hpf=f.__private__.hpf=typeof l=="number"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(E,l)}:l==="smart"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(E,E>-1&&E<1?16:5)}:function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(E,16)};var H=f.f2=f.__private__.f2=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f2");return Z(E,2)},L=f.__private__.f3=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f3");return Z(E,3)},U=f.scale=f.__private__.scale=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.scale");return w===v?E*ct:w===b?E:void 0},A=function(E){return U(function(K){return w===v?$a()-K:w===b?K:void 0}(E))};f.__private__.setPrecision=f.setPrecision=function(E){typeof parseInt(E,10)=="number"&&(e=parseInt(E,10))};var ie,he="00000000000000000000000000000000",te=f.__private__.getFileId=function(){return he},re=f.__private__.setFileId=function(E){return he=E!==void 0&&/^[a-fA-F0-9]{32}$/.test(E)?E.toUpperCase():he.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(zr=new Su(c.userPermissions,c.userPassword,c.ownerPassword,he)),he};f.setFileId=function(E){return re(E),this},f.getFileId=function(){return te()};var ae=f.__private__.convertDateToPDFDate=function(E){var K=E.getTimezoneOffset(),ge=K<0?"+":"-",we=Math.floor(Math.abs(K/60)),ke=Math.abs(K%60),Pe=[ge,$(we),"'",$(ke),"'"].join("");return["D:",E.getFullYear(),$(E.getMonth()+1),$(E.getDate()),$(E.getHours()),$(E.getMinutes()),$(E.getSeconds()),Pe].join("")},ve=f.__private__.convertPDFDateToDate=function(E){var K=parseInt(E.substr(2,4),10),ge=parseInt(E.substr(6,2),10)-1,we=parseInt(E.substr(8,2),10),ke=parseInt(E.substr(10,2),10),Pe=parseInt(E.substr(12,2),10),Me=parseInt(E.substr(14,2),10);return new Date(K,ge,we,ke,Pe,Me,0)},le=f.__private__.setCreationDate=function(E){var K;if(E===void 0&&(E=new Date),E instanceof Date)K=ae(E);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(E))throw new Error("Invalid argument passed to jsPDF.setCreationDate");K=E}return ie=K},C=f.__private__.getCreationDate=function(E){var K=ie;return E==="jsDate"&&(K=ve(ie)),K};f.setCreationDate=function(E){return le(E),this},f.getCreationDate=function(E){return C(E)};var q,$=f.__private__.padd2=function(E){return("0"+parseInt(E)).slice(-2)},se=f.__private__.padd2Hex=function(E){return("00"+(E=E.toString())).substr(E.length)},J=0,O=[],I=[],Q=0,Y=[],V=[],X=!1,ye=I;f.__private__.setCustomOutputDestination=function(E){X=!0,ye=E};var M=function(E){X||(ye=E)};f.__private__.resetCustomOutputDestination=function(){X=!1,ye=I};var W=f.__private__.out=function(E){return E=E.toString(),Q+=E.length+1,ye.push(E),ye},D=f.__private__.write=function(E){return W(arguments.length===1?E.toString():Array.prototype.join.call(arguments," "))},k=f.__private__.getArrayBuffer=function(E){for(var K=E.length,ge=new ArrayBuffer(K),we=new Uint8Array(ge);K--;)we[K]=E.charCodeAt(K);return ge},_=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return _};var R=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(E){return R=w===b?E/ct:E,this};var oe,de=f.__private__.getFontSize=f.getFontSize=function(){return w===v?R:R*ct},fe=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(E){return fe=E,this},f.__private__.getR2L=f.getR2L=function(){return fe};var Se,Ce=f.__private__.setZoomMode=function(E){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(E))oe=E;else if(isNaN(E)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(E)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+E+'" is not recognized.');oe=E}else oe=parseInt(E,10)};f.__private__.getZoomMode=function(){return oe};var Ne,Oe=f.__private__.setPageMode=function(E){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(E)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+E+'" is not recognized.');Se=E};f.__private__.getPageMode=function(){return Se};var We=f.__private__.setLayoutMode=function(E){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(E)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+E+'" is not recognized.');Ne=E};f.__private__.getLayoutMode=function(){return Ne},f.__private__.setDisplayMode=f.setDisplayMode=function(E,K,ge){return Ce(E),We(K),Oe(ge),this};var Ve={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(E){if(Object.keys(Ve).indexOf(E)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ve[E]},f.__private__.getDocumentProperties=function(){return Ve},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(E){for(var K in Ve)Ve.hasOwnProperty(K)&&E[K]&&(Ve[K]=E[K]);return this},f.__private__.setDocumentProperty=function(E,K){if(Object.keys(Ve).indexOf(E)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ve[E]=K};var Ke,ct,Je,Gt,at,bt={},kt={},Rt=[],ot={},$t={},ft={},gt={},Jt=null,xt=0,lt=[],jt=new w4(f),Ba=t.hotfixes||[],vn={},zs={},fs=[],ht=function E(K,ge,we,ke,Pe,Me){if(!(this instanceof E))return new E(K,ge,we,ke,Pe,Me);isNaN(K)&&(K=1),isNaN(ge)&&(ge=0),isNaN(we)&&(we=0),isNaN(ke)&&(ke=1),isNaN(Pe)&&(Pe=0),isNaN(Me)&&(Me=0),this._matrix=[K,ge,we,ke,Pe,Me]};Object.defineProperty(ht.prototype,"sx",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(ht.prototype,"shy",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(ht.prototype,"shx",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(ht.prototype,"sy",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(ht.prototype,"tx",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(ht.prototype,"ty",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(ht.prototype,"a",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(ht.prototype,"b",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(ht.prototype,"c",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(ht.prototype,"d",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(ht.prototype,"e",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(ht.prototype,"f",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(ht.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ht.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ht.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ht.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ht.prototype.join=function(E){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(z).join(E)},ht.prototype.multiply=function(E){var K=E.sx*this.sx+E.shy*this.shx,ge=E.sx*this.shy+E.shy*this.sy,we=E.shx*this.sx+E.sy*this.shx,ke=E.shx*this.shy+E.sy*this.sy,Pe=E.tx*this.sx+E.ty*this.shx+this.tx,Me=E.tx*this.shy+E.ty*this.sy+this.ty;return new ht(K,ge,we,ke,Pe,Me)},ht.prototype.decompose=function(){var E=this.sx,K=this.shy,ge=this.shx,we=this.sy,ke=this.tx,Pe=this.ty,Me=Math.sqrt(E*E+K*K),Qe=(E/=Me)*ge+(K/=Me)*we;ge-=E*Qe,we-=K*Qe;var nt=Math.sqrt(ge*ge+we*we);return Qe/=nt,E*(we/=nt)<K*(ge/=nt)&&(E=-E,K=-K,Qe=-Qe,Me=-Me),{scale:new ht(Me,0,0,nt,0,0),translate:new ht(1,0,0,1,ke,Pe),rotate:new ht(E,K,-K,E,0,0),skew:new ht(1,0,Qe,1,0,0)}},ht.prototype.toString=function(E){return this.join(" ")},ht.prototype.inversed=function(){var E=this.sx,K=this.shy,ge=this.shx,we=this.sy,ke=this.tx,Pe=this.ty,Me=1/(E*we-K*ge),Qe=we*Me,nt=-K*Me,mt=-ge*Me,At=E*Me;return new ht(Qe,nt,mt,At,-Qe*ke-mt*Pe,-nt*ke-At*Pe)},ht.prototype.applyToPoint=function(E){var K=E.x*this.sx+E.y*this.shx+this.tx,ge=E.x*this.shy+E.y*this.sy+this.ty;return new Ks(K,ge)},ht.prototype.applyToRectangle=function(E){var K=this.applyToPoint(E),ge=this.applyToPoint(new Ks(E.x+E.w,E.y+E.h));return new Bc(K.x,K.y,ge.x-K.x,ge.y-K.y)},ht.prototype.clone=function(){var E=this.sx,K=this.shy,ge=this.shx,we=this.sy,ke=this.tx,Pe=this.ty;return new ht(E,K,ge,we,ke,Pe)},f.Matrix=ht;var Us=f.matrixMult=function(E,K){return K.multiply(E)},qs=new ht(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=qs;var vi=function(E,K){if(!$t[E]){var ge=(K instanceof fl?"Sh":"P")+(Object.keys(ot).length+1).toString(10);K.id=ge,$t[E]=ge,ot[ge]=K,jt.publish("addPattern",K)}};f.ShadingPattern=fl,f.TilingPattern=ju,f.addShadingPattern=function(E,K){return T("addShadingPattern()"),vi(E,K),this},f.beginTilingPattern=function(E){T("beginTilingPattern()"),jc(E.boundingBox[0],E.boundingBox[1],E.boundingBox[2]-E.boundingBox[0],E.boundingBox[3]-E.boundingBox[1],E.matrix)},f.endTilingPattern=function(E,K){T("endTilingPattern()"),K.stream=V[q].join(`
`),vi(E,K),jt.publish("endTilingPattern",K),fs.pop().restore()};var wi,pr=f.__private__.newObject=function(){var E=Gr();return rn(E,!0),E},Gr=f.__private__.newObjectDeferred=function(){return J++,O[J]=function(){return Q},J},rn=function(E,K){return K=typeof K=="boolean"&&K,O[E]=Q,K&&W(E+" 0 obj"),E},ja=f.__private__.newAdditionalObject=function(){var E={objId:Gr(),content:""};return Y.push(E),E},Lo=Gr(),zi=Gr(),hs=f.__private__.decodeColorString=function(E){var K=E.split(" ");if(K.length!==2||K[1]!=="g"&&K[1]!=="G")K.length!==5||K[4]!=="k"&&K[4]!=="K"||(K=[(1-K[0])*(1-K[3]),(1-K[1])*(1-K[3]),(1-K[2])*(1-K[3]),"r"]);else{var ge=parseFloat(K[0]);K=[ge,ge,ge,"r"]}for(var we="#",ke=0;ke<3;ke++)we+=("0"+Math.floor(255*parseFloat(K[ke])).toString(16)).slice(-2);return we},Ui=f.__private__.encodeColorString=function(E){var K;typeof E=="string"&&(E={ch1:E});var ge=E.ch1,we=E.ch2,ke=E.ch3,Pe=E.ch4,Me=E.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ge=="string"&&ge.charAt(0)!=="#"){var Qe=new KN(ge);if(Qe.ok)ge=Qe.toHex();else if(!/^\d*\.?\d*$/.test(ge))throw new Error('Invalid color "'+ge+'" passed to jsPDF.encodeColorString.')}if(typeof ge=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ge)&&(ge="#"+ge[1]+ge[1]+ge[2]+ge[2]+ge[3]+ge[3]),typeof ge=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ge)){var nt=parseInt(ge.substr(1),16);ge=nt>>16&255,we=nt>>8&255,ke=255&nt}if(we===void 0||Pe===void 0&&ge===we&&we===ke)K=typeof ge=="string"?ge+" "+Me[0]:E.precision===2?H(ge/255)+" "+Me[0]:L(ge/255)+" "+Me[0];else if(Pe===void 0||Ht(Pe)==="object"){if(Pe&&!isNaN(Pe.a)&&Pe.a===0)return["1.","1.","1.",Me[1]].join(" ");K=typeof ge=="string"?[ge,we,ke,Me[1]].join(" "):E.precision===2?[H(ge/255),H(we/255),H(ke/255),Me[1]].join(" "):[L(ge/255),L(we/255),L(ke/255),Me[1]].join(" ")}else K=typeof ge=="string"?[ge,we,ke,Pe,Me[2]].join(" "):E.precision===2?[H(ge),H(we),H(ke),H(Pe),Me[2]].join(" "):[L(ge),L(we),L(ke),L(Pe),Me[2]].join(" ");return K},qi=f.__private__.getFilters=function(){return o},bi=f.__private__.putStream=function(E){var K=(E=E||{}).data||"",ge=E.filters||qi(),we=E.alreadyAppliedFilters||[],ke=E.addLength1||!1,Pe=K.length,Me=E.objectId,Qe=function(Ur){return Ur};if(c!==null&&Me===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(Qe=zr.encryptor(Me,0));var nt={};ge===!0&&(ge=["FlateEncode"]);var mt=E.additionalKeyValues||[],At=(nt=st.API.processDataByFilters!==void 0?st.API.processDataByFilters(K,ge):{data:K,reverseChain:[]}).reverseChain+(Array.isArray(we)?we.join(" "):we.toString());if(nt.data.length!==0&&(mt.push({key:"Length",value:nt.data.length}),ke===!0&&mt.push({key:"Length1",value:Pe})),At.length!=0)if(At.split("/").length-1==1)mt.push({key:"Filter",value:At});else{mt.push({key:"Filter",value:"["+At+"]"});for(var Dt=0;Dt<mt.length;Dt+=1)if(mt[Dt].key==="DecodeParms"){for(var ur=[],Rr=0;Rr<nt.reverseChain.split("/").length-1;Rr+=1)ur.push("null");ur.push(mt[Dt].value),mt[Dt].value="["+ur.join(" ")+"]"}}W("<<");for(var er=0;er<mt.length;er++)W("/"+mt[er].key+" "+mt[er].value);W(">>"),nt.data.length!==0&&(W("stream"),W(Qe(nt.data)),W("endstream"))},za=f.__private__.putPage=function(E){var K=E.number,ge=E.data,we=E.objId,ke=E.contentsObjId;rn(we,!0),W("<</Type /Page"),W("/Parent "+E.rootDictionaryObjId+" 0 R"),W("/Resources "+E.resourceDictionaryObjId+" 0 R"),W("/MediaBox ["+parseFloat(z(E.mediaBox.bottomLeftX))+" "+parseFloat(z(E.mediaBox.bottomLeftY))+" "+z(E.mediaBox.topRightX)+" "+z(E.mediaBox.topRightY)+"]"),E.cropBox!==null&&W("/CropBox ["+z(E.cropBox.bottomLeftX)+" "+z(E.cropBox.bottomLeftY)+" "+z(E.cropBox.topRightX)+" "+z(E.cropBox.topRightY)+"]"),E.bleedBox!==null&&W("/BleedBox ["+z(E.bleedBox.bottomLeftX)+" "+z(E.bleedBox.bottomLeftY)+" "+z(E.bleedBox.topRightX)+" "+z(E.bleedBox.topRightY)+"]"),E.trimBox!==null&&W("/TrimBox ["+z(E.trimBox.bottomLeftX)+" "+z(E.trimBox.bottomLeftY)+" "+z(E.trimBox.topRightX)+" "+z(E.trimBox.topRightY)+"]"),E.artBox!==null&&W("/ArtBox ["+z(E.artBox.bottomLeftX)+" "+z(E.artBox.bottomLeftY)+" "+z(E.artBox.topRightX)+" "+z(E.artBox.topRightY)+"]"),typeof E.userUnit=="number"&&E.userUnit!==1&&W("/UserUnit "+E.userUnit),jt.publish("putPage",{objId:we,pageContext:lt[K],pageNumber:K,page:ge}),W("/Contents "+ke+" 0 R"),W(">>"),W("endobj");var Pe=ge.join(`
`);return w===b&&(Pe+=`
Q`),rn(ke,!0),bi({data:Pe,filters:qi(),objectId:ke}),W("endobj"),we},ds=f.__private__.putPages=function(){var E,K,ge=[];for(E=1;E<=xt;E++)lt[E].objId=Gr(),lt[E].contentsObjId=Gr();for(E=1;E<=xt;E++)ge.push(za({number:E,data:V[E],objId:lt[E].objId,contentsObjId:lt[E].contentsObjId,mediaBox:lt[E].mediaBox,cropBox:lt[E].cropBox,bleedBox:lt[E].bleedBox,trimBox:lt[E].trimBox,artBox:lt[E].artBox,userUnit:lt[E].userUnit,rootDictionaryObjId:Lo,resourceDictionaryObjId:zi}));rn(Lo,!0),W("<</Type /Pages");var we="/Kids [";for(K=0;K<xt;K++)we+=ge[K]+" 0 R ";W(we+"]"),W("/Count "+xt),W(">>"),W("endobj"),jt.publish("postPutPages")},Ua=function(E){jt.publish("putFont",{font:E,out:W,newObject:pr,putStream:bi}),E.isAlreadyPutted!==!0&&(E.objectNumber=pr(),W("<<"),W("/Type /Font"),W("/BaseFont /"+ku(E.postScriptName)),W("/Subtype /Type1"),typeof E.encoding=="string"&&W("/Encoding /"+E.encoding),W("/FirstChar 32"),W("/LastChar 255"),W(">>"),W("endobj"))},Gl=function(E){E.objectNumber=pr();var K=[];K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Form"}),K.push({key:"BBox",value:"["+[z(E.x),z(E.y),z(E.x+E.width),z(E.y+E.height)].join(" ")+"]"}),K.push({key:"Matrix",value:"["+E.matrix.toString()+"]"});var ge=E.pages[1].join(`
`);bi({data:ge,additionalKeyValues:K,objectId:E.objectNumber}),W("endobj")},Jl=function(E,K){K||(K=21);var ge=pr(),we=function(Me,Qe){var nt,mt=[],At=1/(Qe-1);for(nt=0;nt<1;nt+=At)mt.push(nt);if(mt.push(1),Me[0].offset!=0){var Dt={offset:0,color:Me[0].color};Me.unshift(Dt)}if(Me[Me.length-1].offset!=1){var ur={offset:1,color:Me[Me.length-1].color};Me.push(ur)}for(var Rr="",er=0,Ur=0;Ur<mt.length;Ur++){for(nt=mt[Ur];nt>Me[er+1].offset;)er++;var Ir=Me[er].offset,nn=(nt-Ir)/(Me[er+1].offset-Ir),Ys=Me[er].color,Hi=Me[er+1].color;Rr+=se(Math.round((1-nn)*Ys[0]+nn*Hi[0]).toString(16))+se(Math.round((1-nn)*Ys[1]+nn*Hi[1]).toString(16))+se(Math.round((1-nn)*Ys[2]+nn*Hi[2]).toString(16))}return Rr.trim()}(E.colors,K),ke=[];ke.push({key:"FunctionType",value:"0"}),ke.push({key:"Domain",value:"[0.0 1.0]"}),ke.push({key:"Size",value:"["+K+"]"}),ke.push({key:"BitsPerSample",value:"8"}),ke.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ke.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),bi({data:we,additionalKeyValues:ke,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ge}),W("endobj"),E.objectNumber=pr(),W("<< /ShadingType "+E.type),W("/ColorSpace /DeviceRGB");var Pe="/Coords ["+z(parseFloat(E.coords[0]))+" "+z(parseFloat(E.coords[1]))+" ";E.type===2?Pe+=z(parseFloat(E.coords[2]))+" "+z(parseFloat(E.coords[3])):Pe+=z(parseFloat(E.coords[2]))+" "+z(parseFloat(E.coords[3]))+" "+z(parseFloat(E.coords[4]))+" "+z(parseFloat(E.coords[5])),W(Pe+="]"),E.matrix&&W("/Matrix ["+E.matrix.toString()+"]"),W("/Function "+ge+" 0 R"),W("/Extend [true true]"),W(">>"),W("endobj")},Yl=function(E,K){var ge=Gr(),we=pr();K.push({resourcesOid:ge,objectOid:we}),E.objectNumber=we;var ke=[];ke.push({key:"Type",value:"/Pattern"}),ke.push({key:"PatternType",value:"1"}),ke.push({key:"PaintType",value:"1"}),ke.push({key:"TilingType",value:"1"}),ke.push({key:"BBox",value:"["+E.boundingBox.map(z).join(" ")+"]"}),ke.push({key:"XStep",value:z(E.xStep)}),ke.push({key:"YStep",value:z(E.yStep)}),ke.push({key:"Resources",value:ge+" 0 R"}),E.matrix&&ke.push({key:"Matrix",value:"["+E.matrix.toString()+"]"}),bi({data:E.stream,additionalKeyValues:ke,objectId:E.objectNumber}),W("endobj")},Sg=function(E){for(var K in E.objectNumber=pr(),W("<<"),E)switch(K){case"opacity":W("/ca "+H(E[K]));break;case"stroke-opacity":W("/CA "+H(E[K]))}W(">>"),W("endobj")},Lc=function(E){rn(E.resourcesOid,!0),W("<<"),W("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var K in W("/Font <<"),bt)bt.hasOwnProperty(K)&&(h===!1||h===!0&&d.hasOwnProperty(K))&&W("/"+K+" "+bt[K].objectNumber+" 0 R");W(">>")}(),function(){if(Object.keys(ot).length>0){for(var K in W("/Shading <<"),ot)ot.hasOwnProperty(K)&&ot[K]instanceof fl&&ot[K].objectNumber>=0&&W("/"+K+" "+ot[K].objectNumber+" 0 R");jt.publish("putShadingPatternDict"),W(">>")}}(),function(K){if(Object.keys(ot).length>0){for(var ge in W("/Pattern <<"),ot)ot.hasOwnProperty(ge)&&ot[ge]instanceof f.TilingPattern&&ot[ge].objectNumber>=0&&ot[ge].objectNumber<K&&W("/"+ge+" "+ot[ge].objectNumber+" 0 R");jt.publish("putTilingPatternDict"),W(">>")}}(E.objectOid),function(){if(Object.keys(ft).length>0){var K;for(K in W("/ExtGState <<"),ft)ft.hasOwnProperty(K)&&ft[K].objectNumber>=0&&W("/"+K+" "+ft[K].objectNumber+" 0 R");jt.publish("putGStateDict"),W(">>")}}(),function(){for(var K in W("/XObject <<"),vn)vn.hasOwnProperty(K)&&vn[K].objectNumber>=0&&W("/"+K+" "+vn[K].objectNumber+" 0 R");jt.publish("putXobjectDict"),W(">>")}(),W(">>"),W("endobj")},zh=function(E){kt[E.fontName]=kt[E.fontName]||{},kt[E.fontName][E.fontStyle]=E.id},Uh=function(E,K,ge,we,ke){var Pe={id:"F"+(Object.keys(bt).length+1).toString(10),postScriptName:E,fontName:K,fontStyle:ge,encoding:we,isStandardFont:ke||!1,metadata:{}};return jt.publish("addFont",{font:Pe,instance:this}),bt[Pe.id]=Pe,zh(Pe),Pe.id},xi=f.__private__.pdfEscape=f.pdfEscape=function(E,K){return function(ge,we){var ke,Pe,Me,Qe,nt,mt,At,Dt,ur;if(Me=(we=we||{}).sourceEncoding||"Unicode",nt=we.outputEncoding,(we.autoencode||nt)&&bt[Ke].metadata&&bt[Ke].metadata[Me]&&bt[Ke].metadata[Me].encoding&&(Qe=bt[Ke].metadata[Me].encoding,!nt&&bt[Ke].encoding&&(nt=bt[Ke].encoding),!nt&&Qe.codePages&&(nt=Qe.codePages[0]),typeof nt=="string"&&(nt=Qe[nt]),nt)){for(At=!1,mt=[],ke=0,Pe=ge.length;ke<Pe;ke++)(Dt=nt[ge.charCodeAt(ke)])?mt.push(String.fromCharCode(Dt)):mt.push(ge[ke]),mt[ke].charCodeAt(0)>>8&&(At=!0);ge=mt.join("")}for(ke=ge.length;At===void 0&&ke!==0;)ge.charCodeAt(ke-1)>>8&&(At=!0),ke--;if(!At)return ge;for(mt=we.noBOM?[]:[254,255],ke=0,Pe=ge.length;ke<Pe;ke++){if((ur=(Dt=ge.charCodeAt(ke))>>8)>>8)throw new Error("Character at position "+ke+" of string '"+ge+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");mt.push(ur),mt.push(Dt-(ur<<8))}return String.fromCharCode.apply(void 0,mt)}(E,K).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Oc=f.__private__.beginPage=function(E){V[++xt]=[],lt[xt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(E[0]),topRightY:Number(E[1])}},Wh(xt),M(V[q])},qh=function(E,K){var ge,we,ke;switch(r=K||r,typeof E=="string"&&(ge=p(E.toLowerCase()),Array.isArray(ge)&&(we=ge[0],ke=ge[1])),Array.isArray(E)&&(we=E[0]*ct,ke=E[1]*ct),isNaN(we)&&(we=i[0],ke=i[1]),(we>14400||ke>14400)&&(Zt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),we=Math.min(14400,we),ke=Math.min(14400,ke)),i=[we,ke],r.substr(0,1)){case"l":ke>we&&(i=[ke,we]);break;case"p":we>ke&&(i=[ke,we])}Oc(i),yt(Ic),W(eu),Dc!==0&&W(Dc+" J"),Fc!==0&&W(Fc+" j"),jt.publish("addPage",{pageNumber:xt})},Pc=function(E){E>0&&E<=xt&&(V.splice(E,1),lt.splice(E,1),xt--,q>xt&&(q=xt),this.setPage(q))},Wh=function(E){E>0&&E<=xt&&(q=E)},Hh=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return V.length-1},Vh=function(E,K,ge){var we,ke=void 0;return ge=ge||{},E=E!==void 0?E:bt[Ke].fontName,K=K!==void 0?K:bt[Ke].fontStyle,we=E.toLowerCase(),kt[we]!==void 0&&kt[we][K]!==void 0?ke=kt[we][K]:kt[E]!==void 0&&kt[E][K]!==void 0?ke=kt[E][K]:ge.disableWarning===!1&&Zt.warn("Unable to look up font label for font '"+E+"', '"+K+"'. Refer to getFontList() for available fonts."),ke||ge.noFallback||(ke=kt.times[K])==null&&(ke=kt.times.normal),ke},ps=f.__private__.putInfo=function(){var E=pr(),K=function(we){return we};for(var ge in c!==null&&(K=zr.encryptor(E,0)),W("<<"),W("/Producer ("+xi(K("jsPDF "+st.version))+")"),Ve)Ve.hasOwnProperty(ge)&&Ve[ge]&&W("/"+ge.substr(0,1).toUpperCase()+ge.substr(1)+" ("+xi(K(Ve[ge]))+")");W("/CreationDate ("+xi(K(ie))+")"),W(">>"),W("endobj")},Xl=f.__private__.putCatalog=function(E){var K=(E=E||{}).rootDictionaryObjId||Lo;switch(pr(),W("<<"),W("/Type /Catalog"),W("/Pages "+K+" 0 R"),oe||(oe="fullwidth"),oe){case"fullwidth":W("/OpenAction [3 0 R /FitH null]");break;case"fullheight":W("/OpenAction [3 0 R /FitV null]");break;case"fullpage":W("/OpenAction [3 0 R /Fit]");break;case"original":W("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ge=""+oe;ge.substr(ge.length-1)==="%"&&(oe=parseInt(oe)/100),typeof oe=="number"&&W("/OpenAction [3 0 R /XYZ null null "+H(oe)+"]")}switch(Ne||(Ne="continuous"),Ne){case"continuous":W("/PageLayout /OneColumn");break;case"single":W("/PageLayout /SinglePage");break;case"two":case"twoleft":W("/PageLayout /TwoColumnLeft");break;case"tworight":W("/PageLayout /TwoColumnRight")}Se&&W("/PageMode /"+Se),jt.publish("putCatalog"),W(">>"),W("endobj")},kg=f.__private__.putTrailer=function(){W("trailer"),W("<<"),W("/Size "+(J+1)),W("/Root "+J+" 0 R"),W("/Info "+(J-1)+" 0 R"),c!==null&&W("/Encrypt "+zr.oid+" 0 R"),W("/ID [ <"+he+"> <"+he+"> ]"),W(">>")},Pr=f.__private__.putHeader=function(){W("%PDF-"+g),W("%")},$h=f.__private__.putXRef=function(){var E="0000000000";W("xref"),W("0 "+(J+1)),W("0000000000 65535 f ");for(var K=1;K<=J;K++)typeof O[K]=="function"?W((E+O[K]()).slice(-10)+" 00000 n "):O[K]!==void 0?W((E+O[K]).slice(-10)+" 00000 n "):W("0000000000 00000 n ")},ms=f.__private__.buildDocument=function(){var E;J=0,Q=0,I=[],O=[],Y=[],Lo=Gr(),zi=Gr(),M(I),jt.publish("buildDocument"),Pr(),ds(),function(){jt.publish("putAdditionalObjects");for(var ge=0;ge<Y.length;ge++){var we=Y[ge];rn(we.objId,!0),W(we.content),W("endobj")}jt.publish("postPutAdditionalObjects")}(),E=[],function(){for(var ge in bt)bt.hasOwnProperty(ge)&&(h===!1||h===!0&&d.hasOwnProperty(ge))&&Ua(bt[ge])}(),function(){var ge;for(ge in ft)ft.hasOwnProperty(ge)&&Sg(ft[ge])}(),function(){for(var ge in vn)vn.hasOwnProperty(ge)&&Gl(vn[ge])}(),function(ge){var we;for(we in ot)ot.hasOwnProperty(we)&&(ot[we]instanceof fl?Jl(ot[we]):ot[we]instanceof ju&&Yl(ot[we],ge))}(E),jt.publish("putResources"),E.forEach(Lc),Lc({resourcesOid:zi,objectOid:Number.MAX_SAFE_INTEGER}),jt.publish("postPutResources"),c!==null&&(zr.oid=pr(),W("<<"),W("/Filter /Standard"),W("/V "+zr.v),W("/R "+zr.r),W("/U <"+zr.toHexString(zr.U)+">"),W("/O <"+zr.toHexString(zr.O)+">"),W("/P "+zr.P),W(">>"),W("endobj")),ps(),Xl();var K=Q;return $h(),kg(),W("startxref"),W(""+K),W("%%EOF"),M(V[q]),I.join(`
`)},Zl=f.__private__.getBlob=function(E){return new Blob([k(E)],{type:"application/pdf"})},Kh=f.output=f.__private__.output=(wi=function(E,K){switch(typeof(K=K||{})=="string"?K={filename:K}:K.filename=K.filename||"generated.pdf",E){case void 0:return ms();case"save":f.save(K.filename);break;case"arraybuffer":return k(ms());case"blob":return Zl(ms());case"bloburi":case"bloburl":if(dt.URL!==void 0&&typeof dt.URL.createObjectURL=="function")return dt.URL&&dt.URL.createObjectURL(Zl(ms()))||void 0;Zt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ge="",we=ms();try{ge=g4(we)}catch{ge=g4(unescape(encodeURIComponent(we)))}return"data:application/pdf;filename="+K.filename+";base64,"+ge;case"pdfobjectnewwindow":if(Object.prototype.toString.call(dt)==="[object Window]"){var ke="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Pe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';K.pdfObjectUrl&&(ke=K.pdfObjectUrl,Pe="");var Me='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ke+'"'+Pe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(K)+");<\/script></body></html>",Qe=dt.open();return Qe!==null&&Qe.document.write(Me),Qe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(dt)==="[object Window]"){var nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(K.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+K.filename+'" width="500px" height="400px" /></body></html>',mt=dt.open();if(mt!==null){mt.document.write(nt);var At=this;mt.document.documentElement.querySelector("#pdfViewer").onload=function(){mt.document.title=K.filename,mt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(At.output("bloburl"))}}return mt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(dt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",K)+'"></iframe></body></html>',ur=dt.open();if(ur!==null&&(ur.document.write(Dt),ur.document.title=K.filename),ur||typeof safari>"u")return ur;break;case"datauri":case"dataurl":return dt.document.location.href=this.output("datauristring",K);default:return null}},wi.foo=function(){try{return wi.apply(this,arguments)}catch(ge){var E=ge.stack||"";~E.indexOf(" at ")&&(E=E.split(" at ")[1]);var K="Error in function "+E.split(`
`)[0].split("<")[0]+": "+ge.message;if(!dt.console)throw new Error(K);dt.console.error(K,ge),dt.alert&&alert(K)}},wi.foo.bar=wi,wi.foo),Si=function(E){return Array.isArray(Ba)===!0&&Ba.indexOf(E)>-1};switch(n){case"pt":ct=1;break;case"mm":ct=72/25.4;break;case"cm":ct=72/2.54;break;case"in":ct=72;break;case"px":ct=Si("px_scaling")==1?.75:96/72;break;case"pc":case"em":ct=12;break;case"ex":ct=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ct=n}var zr=null;le(),re();var Ws=f.__private__.getPageInfo=f.getPageInfo=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:lt[E].objId,pageNumber:E,pageContext:lt[E]}},Gh=f.__private__.getPageInfoByObjId=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var K in lt)if(lt[K].objId===E)break;return Ws(K)},_g=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:lt[q].objId,pageNumber:q,pageContext:lt[q]}};f.addPage=function(){return qh.apply(this,arguments),this},f.setPage=function(){return Wh.apply(this,arguments),M.call(this,V[q]),this},f.insertPage=function(E){return this.addPage(),this.movePage(q,E),this},f.movePage=function(E,K){var ge,we;if(E>K){ge=V[E],we=lt[E];for(var ke=E;ke>K;ke--)V[ke]=V[ke-1],lt[ke]=lt[ke-1];V[K]=ge,lt[K]=we,this.setPage(K)}else if(E<K){ge=V[E],we=lt[E];for(var Pe=E;Pe<K;Pe++)V[Pe]=V[Pe+1],lt[Pe]=lt[Pe+1];V[K]=ge,lt[K]=we,this.setPage(K)}return this},f.deletePage=function(){return Pc.apply(this,arguments),this},f.__private__.text=f.text=function(E,K,ge,we,ke){var Pe,Me,Qe,nt,mt,At,Dt,ur,Rr,er=(we=we||{}).scope||this;if(typeof E=="number"&&typeof K=="number"&&(typeof ge=="string"||Array.isArray(ge))){var Ur=ge;ge=K,K=E,E=Ur}if(arguments[3]instanceof ht==0?(Qe=arguments[4],nt=arguments[5],Ht(Dt=arguments[3])==="object"&&Dt!==null||(typeof Qe=="string"&&(nt=Qe,Qe=null),typeof Dt=="string"&&(nt=Dt,Dt=null),typeof Dt=="number"&&(Qe=Dt,Dt=null),we={flags:Dt,angle:Qe,align:nt})):(T("The transform parameter of text() with a Matrix value"),Rr=ke),isNaN(K)||isNaN(ge)||E==null)throw new Error("Invalid arguments passed to jsPDF.text");if(E.length===0)return er;var Ir,nn="",Ys=typeof we.lineHeightFactor=="number"?we.lineHeightFactor:Wa,Hi=er.internal.scaleFactor;function Xs(zt){return zt=zt.split("	").join(Array(we.TabLen||9).join(" ")),xi(zt,Dt)}function Uc(zt){for(var Yt,kr=zt.concat(),qr=[],eo=kr.length;eo--;)typeof(Yt=kr.shift())=="string"?qr.push(Yt):Array.isArray(zt)&&(Yt.length===1||Yt[1]===void 0&&Yt[2]===void 0)?qr.push(Yt[0]):qr.push([Yt[0],Yt[1],Yt[2]]);return qr}function ru(zt,Yt){var kr;if(typeof zt=="string")kr=Yt(zt)[0];else if(Array.isArray(zt)){for(var qr,eo,Xc=zt.concat(),su=[],sd=Xc.length;sd--;)typeof(qr=Xc.shift())=="string"?su.push(Yt(qr)[0]):Array.isArray(qr)&&typeof qr[0]=="string"&&(eo=Yt(qr[0],qr[1],qr[2]),su.push([eo[0],eo[1],eo[2]]));kr=su}return kr}var Oo=!1,Ka=!0;if(typeof E=="string")Oo=!0;else if(Array.isArray(E)){var Ga=E.concat();Me=[];for(var Po,sn=Ga.length;sn--;)(typeof(Po=Ga.shift())!="string"||Array.isArray(Po)&&typeof Po[0]!="string")&&(Ka=!1);Oo=Ka}if(Oo===!1)throw new Error('Type of text must be string or Array. "'+E+'" is not recognized.');typeof E=="string"&&(E=E.match(/[\r?\n]/)?E.split(/\r\n|\r|\n/g):[E]);var Ja=R/er.internal.scaleFactor,Ya=Ja*(Ys-1);switch(we.baseline){case"bottom":ge-=Ya;break;case"top":ge+=Ja-Ya;break;case"hanging":ge+=Ja-2*Ya;break;case"middle":ge+=Ja/2-Ya}if((At=we.maxWidth||0)>0&&(typeof E=="string"?E=er.splitTextToSize(E,At):Object.prototype.toString.call(E)==="[object Array]"&&(E=E.reduce(function(zt,Yt){return zt.concat(er.splitTextToSize(Yt,At))},[]))),Pe={text:E,x:K,y:ge,options:we,mutex:{pdfEscape:xi,activeFontKey:Ke,fonts:bt,activeFontSize:R}},jt.publish("preProcessText",Pe),E=Pe.text,Qe=(we=Pe.options).angle,Rr instanceof ht==0&&Qe&&typeof Qe=="number"){Qe*=Math.PI/180,we.rotationDirection===0&&(Qe=-Qe),w===b&&(Qe=-Qe);var qc=Math.cos(Qe),Wc=Math.sin(Qe);Rr=new ht(qc,Wc,-Wc,qc,0,0)}else Qe&&Qe instanceof ht&&(Rr=Qe);w!==b||Rr||(Rr=qs),(mt=we.charSpace||$s)!==void 0&&(nn+=z(U(mt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ur=we.horizontalScale)!==void 0&&(nn+=z(100*ur)+` Tz
`),we.lang;var Pn=-1,Zs=we.renderingMode!==void 0?we.renderingMode:we.stroke,nu=er.internal.getCurrentPageInfo().pageContext;switch(Zs){case 0:case!1:case"fill":Pn=0;break;case 1:case!0:case"stroke":Pn=1;break;case 2:case"fillThenStroke":Pn=2;break;case 3:case"invisible":Pn=3;break;case 4:case"fillAndAddForClipping":Pn=4;break;case 5:case"strokeAndAddPathForClipping":Pn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Pn=6;break;case 7:case"addToPathForClipping":Pn=7}var nd=nu.usedRenderingMode!==void 0?nu.usedRenderingMode:-1;Pn!==-1?nn+=Pn+` Tr
`:nd!==-1&&(nn+=`0 Tr
`),Pn!==-1&&(nu.usedRenderingMode=Pn),nt=we.align||"left";var ki,Xa=R*Ys,Hc=er.internal.pageSize.getWidth(),Vc=bt[Ke];mt=we.charSpace||$s,At=we.maxWidth||0,Dt=Object.assign({autoencode:!0,noBOM:!0},we.flags);var Ro=[],Za=function(zt){return er.getStringUnitWidth(zt,{font:Vc,charSpace:mt,fontSize:R,doKerning:!1})*R/Hi};if(Object.prototype.toString.call(E)==="[object Array]"){var Qn;Me=Uc(E),nt!=="left"&&(ki=Me.map(Za));var ei,Io=0;if(nt==="right"){K-=ki[0],E=[],sn=Me.length;for(var Qs=0;Qs<sn;Qs++)Qs===0?(ei=Hs(K),Qn=Vs(ge)):(ei=U(Io-ki[Qs]),Qn=-Xa),E.push([Me[Qs],ei,Qn]),Io=ki[Qs]}else if(nt==="center"){K-=ki[0]/2,E=[],sn=Me.length;for(var Mo=0;Mo<sn;Mo++)Mo===0?(ei=Hs(K),Qn=Vs(ge)):(ei=U((Io-ki[Mo])/2),Qn=-Xa),E.push([Me[Mo],ei,Qn]),Io=ki[Mo]}else if(nt==="left"){E=[],sn=Me.length;for(var $c=0;$c<sn;$c++)E.push(Me[$c])}else if(nt==="justify"&&Vc.encoding==="Identity-H"){E=[],sn=Me.length,At=At!==0?At:Hc;for(var iu=0,Sr=0;Sr<sn;Sr++)if(Qn=Sr===0?Vs(ge):-Xa,ei=Sr===0?Hs(K):iu,Sr<sn-1){var id=U((At-ki[Sr])/(Me[Sr].split(" ").length-1)),ys=Me[Sr].split(" ");E.push([ys[0]+" ",ei,Qn]),iu=0;for(var vs=1;vs<ys.length;vs++){var Kc=(Za(ys[vs-1]+" "+ys[vs])-Za(ys[vs]))*Hi+id;vs==ys.length-1?E.push([ys[vs],Kc,0]):E.push([ys[vs]+" ",Kc,0]),iu-=Kc}}else E.push([Me[Sr],ei,Qn]);E.push(["",iu,0])}else{if(nt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(E=[],sn=Me.length,At=At!==0?At:Hc,Sr=0;Sr<sn;Sr++){Qn=Sr===0?Vs(ge):-Xa,ei=Sr===0?Hs(K):0;var Gc=Me[Sr].split(" ").length-1,Jc=Gc>0?(At-ki[Sr])/Gc:0;Sr<sn-1?Ro.push(z(U(Jc))):Ro.push(0),E.push([Me[Sr],ei,Qn])}}}(typeof we.R2L=="boolean"?we.R2L:fe)===!0&&(E=ru(E,function(zt,Yt,kr){return[zt.split("").reverse().join(""),Yt,kr]})),Pe={text:E,x:K,y:ge,options:we,mutex:{pdfEscape:xi,activeFontKey:Ke,fonts:bt,activeFontSize:R}},jt.publish("postProcessText",Pe),E=Pe.text,Ir=Pe.mutex.isHex||!1;var Yc=bt[Ke].encoding;Yc!=="WinAnsiEncoding"&&Yc!=="StandardEncoding"||(E=ru(E,function(zt,Yt,kr){return[Xs(zt),Yt,kr]})),Me=Uc(E),E=[];for(var Do,Fo,Bo,Qa=Array.isArray(Me[0])?1:0,jo="",el=function(zt,Yt,kr){var qr="";return kr instanceof ht?(kr=typeof we.angle=="number"?Us(kr,new ht(1,0,0,1,zt,Yt)):Us(new ht(1,0,0,1,zt,Yt),kr),w===b&&(kr=Us(new ht(1,0,0,-1,0,0),kr)),qr=kr.join(" ")+` Tm
`):qr=z(zt)+" "+z(Yt)+` Td
`,qr},_i=0;_i<Me.length;_i++){switch(jo="",Qa){case 1:Bo=(Ir?"<":"(")+Me[_i][0]+(Ir?">":")"),Do=parseFloat(Me[_i][1]),Fo=parseFloat(Me[_i][2]);break;case 0:Bo=(Ir?"<":"(")+Me[_i]+(Ir?">":")"),Do=Hs(K),Fo=Vs(ge)}Ro!==void 0&&Ro[_i]!==void 0&&(jo=Ro[_i]+` Tw
`),_i===0?E.push(jo+el(Do,Fo,Rr)+Bo):Qa===0?E.push(jo+Bo):Qa===1&&E.push(jo+el(Do,Fo,Rr)+Bo)}E=Qa===0?E.join(` Tj
T* `):E.join(` Tj
`),E+=` Tj
`;var ws=`BT
/`;return ws+=Ke+" "+R+` Tf
`,ws+=z(R*Ys)+` TL
`,ws+=Ha+`
`,ws+=nn,ws+=E,W(ws+="ET"),d[Ke]=!0,er};var Ag=f.__private__.clip=f.clip=function(E){return W(E==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Ag("evenodd")},f.__private__.discardPath=f.discardPath=function(){return W("n"),this};var gs=f.__private__.isValidStyle=function(E){var K=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(E)!==-1&&(K=!0),K};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(E){return gs(E)&&(u=E),this};var Jh=f.__private__.getStyle=f.getStyle=function(E){var K=u;switch(E){case"D":case"S":K="S";break;case"F":K="f";break;case"FD":case"DF":K="B";break;case"f":case"f*":case"B":case"B*":K=E}return K},Yh=f.close=function(){return W("h"),this};f.stroke=function(){return W("S"),this},f.fill=function(E){return Ql("f",E),this},f.fillEvenOdd=function(E){return Ql("f*",E),this},f.fillStroke=function(E){return Ql("B",E),this},f.fillStrokeEvenOdd=function(E){return Ql("B*",E),this};var Ql=function(E,K){Ht(K)==="object"?Ng(K,E):W(E)},qa=function(E){E===null||w===b&&E===void 0||(E=Jh(E),W(E))};function Eg(E,K,ge,we,ke){var Pe=new ju(K||this.boundingBox,ge||this.xStep,we||this.yStep,this.gState,ke||this.matrix);Pe.stream=this.stream;var Me=E+"$$"+this.cloneIndex+++"$$";return vi(Me,Pe),Pe}var Ng=function(E,K){var ge=$t[E.key],we=ot[ge];if(we instanceof fl)W("q"),W(Cg(K)),we.gState&&f.setGState(we.gState),W(E.matrix.toString()+" cm"),W("/"+ge+" sh"),W("Q");else if(we instanceof ju){var ke=new ht(1,0,0,-1,0,$a());E.matrix&&(ke=ke.multiply(E.matrix||qs),ge=Eg.call(we,E.key,E.boundingBox,E.xStep,E.yStep,ke).id),W("q"),W("/Pattern cs"),W("/"+ge+" scn"),we.gState&&f.setGState(we.gState),W(K),W("Q")}},Cg=function(E){switch(E){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Rc=f.moveTo=function(E,K){return W(z(U(E))+" "+z(A(K))+" m"),this},Xh=f.lineTo=function(E,K){return W(z(U(E))+" "+z(A(K))+" l"),this},Wi=f.curveTo=function(E,K,ge,we,ke,Pe){return W([z(U(E)),z(A(K)),z(U(ge)),z(A(we)),z(U(ke)),z(A(Pe)),"c"].join(" ")),this};f.__private__.line=f.line=function(E,K,ge,we,ke){if(isNaN(E)||isNaN(K)||isNaN(ge)||isNaN(we)||!gs(ke))throw new Error("Invalid arguments passed to jsPDF.line");return w===v?this.lines([[ge-E,we-K]],E,K,[1,1],ke||"S"):this.lines([[ge-E,we-K]],E,K,[1,1]).stroke()},f.__private__.lines=f.lines=function(E,K,ge,we,ke,Pe){var Me,Qe,nt,mt,At,Dt,ur,Rr,er,Ur,Ir,nn;if(typeof E=="number"&&(nn=ge,ge=K,K=E,E=nn),we=we||[1,1],Pe=Pe||!1,isNaN(K)||isNaN(ge)||!Array.isArray(E)||!Array.isArray(we)||!gs(ke)||typeof Pe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Rc(K,ge),Me=we[0],Qe=we[1],mt=E.length,Ur=K,Ir=ge,nt=0;nt<mt;nt++)(At=E[nt]).length===2?(Ur=At[0]*Me+Ur,Ir=At[1]*Qe+Ir,Xh(Ur,Ir)):(Dt=At[0]*Me+Ur,ur=At[1]*Qe+Ir,Rr=At[2]*Me+Ur,er=At[3]*Qe+Ir,Ur=At[4]*Me+Ur,Ir=At[5]*Qe+Ir,Wi(Dt,ur,Rr,er,Ur,Ir));return Pe&&Yh(),qa(ke),this},f.path=function(E){for(var K=0;K<E.length;K++){var ge=E[K],we=ge.c;switch(ge.op){case"m":Rc(we[0],we[1]);break;case"l":Xh(we[0],we[1]);break;case"c":Wi.apply(this,we);break;case"h":Yh()}}return this},f.__private__.rect=f.rect=function(E,K,ge,we,ke){if(isNaN(E)||isNaN(K)||isNaN(ge)||isNaN(we)||!gs(ke))throw new Error("Invalid arguments passed to jsPDF.rect");return w===v&&(we=-we),W([z(U(E)),z(A(K)),z(U(ge)),z(U(we)),"re"].join(" ")),qa(ke),this},f.__private__.triangle=f.triangle=function(E,K,ge,we,ke,Pe,Me){if(isNaN(E)||isNaN(K)||isNaN(ge)||isNaN(we)||isNaN(ke)||isNaN(Pe)||!gs(Me))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ge-E,we-K],[ke-ge,Pe-we],[E-ke,K-Pe]],E,K,[1,1],Me,!0),this},f.__private__.roundedRect=f.roundedRect=function(E,K,ge,we,ke,Pe,Me){if(isNaN(E)||isNaN(K)||isNaN(ge)||isNaN(we)||isNaN(ke)||isNaN(Pe)||!gs(Me))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Qe=4/3*(Math.SQRT2-1);return ke=Math.min(ke,.5*ge),Pe=Math.min(Pe,.5*we),this.lines([[ge-2*ke,0],[ke*Qe,0,ke,Pe-Pe*Qe,ke,Pe],[0,we-2*Pe],[0,Pe*Qe,-ke*Qe,Pe,-ke,Pe],[2*ke-ge,0],[-ke*Qe,0,-ke,-Pe*Qe,-ke,-Pe],[0,2*Pe-we],[0,-Pe*Qe,ke*Qe,-Pe,ke,-Pe]],E+ke,K,[1,1],Me,!0),this},f.__private__.ellipse=f.ellipse=function(E,K,ge,we,ke){if(isNaN(E)||isNaN(K)||isNaN(ge)||isNaN(we)||!gs(ke))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Pe=4/3*(Math.SQRT2-1)*ge,Me=4/3*(Math.SQRT2-1)*we;return Rc(E+ge,K),Wi(E+ge,K-Me,E+Pe,K-we,E,K-we),Wi(E-Pe,K-we,E-ge,K-Me,E-ge,K),Wi(E-ge,K+Me,E-Pe,K+we,E,K+we),Wi(E+Pe,K+we,E+ge,K+Me,E+ge,K),qa(ke),this},f.__private__.circle=f.circle=function(E,K,ge,we){if(isNaN(E)||isNaN(K)||isNaN(ge)||!gs(we))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(E,K,ge,ge,we)},f.setFont=function(E,K,ge){return ge&&(K=F(K,ge)),Ke=Vh(E,K,{disableWarning:!1}),this};var Tg=f.__private__.getFont=f.getFont=function(){return bt[Vh.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var E,K,ge={};for(E in kt)if(kt.hasOwnProperty(E))for(K in ge[E]=[],kt[E])kt[E].hasOwnProperty(K)&&ge[E].push(K);return ge},f.addFont=function(E,K,ge,we,ke){var Pe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Pe.indexOf(arguments[3])!==-1?ke=arguments[3]:arguments[3]&&Pe.indexOf(arguments[3])==-1&&(ge=F(ge,we)),Uh.call(this,E,K,ge,ke=ke||"Identity-H")};var Wa,Ic=t.lineWidth||.200025,Lg=f.__private__.getLineWidth=f.getLineWidth=function(){return Ic},yt=f.__private__.setLineWidth=f.setLineWidth=function(E){return Ic=E,W(z(U(E))+" w"),this};f.__private__.setLineDash=st.API.setLineDash=st.API.setLineDashPattern=function(E,K){if(E=E||[],K=K||0,isNaN(K)||!Array.isArray(E))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return E=E.map(function(ge){return z(U(ge))}).join(" "),K=z(U(K)),W("["+E+"] "+K+" d"),this};var Og=f.__private__.getLineHeight=f.getLineHeight=function(){return R*Wa};f.__private__.getLineHeight=f.getLineHeight=function(){return R*Wa};var Pg=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(E){return typeof(E=E||1.15)=="number"&&(Wa=E),this},Rg=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Wa};Pg(t.lineHeight);var Hs=f.__private__.getHorizontalCoordinate=function(E){return U(E)},Vs=f.__private__.getVerticalCoordinate=function(E){return w===b?E:lt[q].mediaBox.topRightY-lt[q].mediaBox.bottomLeftY-U(E)},Ig=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(E){return z(Hs(E))},Mg=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(E){return z(Vs(E))},eu=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return hs(eu)},f.__private__.setStrokeColor=f.setDrawColor=function(E,K,ge,we){return eu=Ui({ch1:E,ch2:K,ch3:ge,ch4:we,pdfColorType:"draw",precision:2}),W(eu),this};var Mc=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return hs(Mc)},f.__private__.setFillColor=f.setFillColor=function(E,K,ge,we){return Mc=Ui({ch1:E,ch2:K,ch3:ge,ch4:we,pdfColorType:"fill",precision:2}),W(Mc),this};var Ha=t.textColor||"0 g",Dg=f.__private__.getTextColor=f.getTextColor=function(){return hs(Ha)};f.__private__.setTextColor=f.setTextColor=function(E,K,ge,we){return Ha=Ui({ch1:E,ch2:K,ch3:ge,ch4:we,pdfColorType:"text",precision:3}),this};var $s=t.charSpace,Fg=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat($s||0)};f.__private__.setCharSpace=f.setCharSpace=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return $s=E,this};var Dc=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(E){var K=f.CapJoinStyles[E];if(K===void 0)throw new Error("Line cap style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Dc=K,W(K+" J"),this};var Fc=0;f.__private__.setLineJoin=f.setLineJoin=function(E){var K=f.CapJoinStyles[E];if(K===void 0)throw new Error("Line join style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Fc=K,W(K+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(E){if(E=E||0,isNaN(E))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return W(z(U(E))+" M"),this},f.GState=Cm,f.setGState=function(E){(E=typeof E=="string"?ft[gt[E]]:Zh(null,E)).equals(Jt)||(W("/"+E.id+" gs"),Jt=E)};var Zh=function(E,K){if(!E||!gt[E]){var ge=!1;for(var we in ft)if(ft.hasOwnProperty(we)&&ft[we].equals(K)){ge=!0;break}if(ge)K=ft[we];else{var ke="GS"+(Object.keys(ft).length+1).toString(10);ft[ke]=K,K.id=ke}return E&&(gt[E]=K.id),jt.publish("addGState",K),K}};f.addGState=function(E,K){return Zh(E,K),this},f.saveGraphicsState=function(){return W("q"),Rt.push({key:Ke,size:R,color:Ha}),this},f.restoreGraphicsState=function(){W("Q");var E=Rt.pop();return Ke=E.key,R=E.size,Ha=E.color,Jt=null,this},f.setCurrentTransformationMatrix=function(E){return W(E.toString()+" cm"),this},f.comment=function(E){return W("#"+E),this};var Ks=function(E,K){var ge=E||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ge},set:function(Pe){isNaN(Pe)||(ge=parseFloat(Pe))}});var we=K||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return we},set:function(Pe){isNaN(Pe)||(we=parseFloat(Pe))}});var ke="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ke},set:function(Pe){ke=Pe.toString()}}),this},Bc=function(E,K,ge,we){Ks.call(this,E,K),this.type="rect";var ke=ge||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ke},set:function(Me){isNaN(Me)||(ke=parseFloat(Me))}});var Pe=we||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Pe},set:function(Me){isNaN(Me)||(Pe=parseFloat(Me))}}),this},tu=function(){this.page=xt,this.currentPage=q,this.pages=V.slice(0),this.pagesContext=lt.slice(0),this.x=Je,this.y=Gt,this.matrix=at,this.width=zc(q),this.height=ed(q),this.outputDestination=ye,this.id="",this.objectNumber=-1};tu.prototype.restore=function(){xt=this.page,q=this.currentPage,lt=this.pagesContext,V=this.pages,Je=this.x,Gt=this.y,at=this.matrix,Qh(q,this.width),Gs(q,this.height),ye=this.outputDestination};var jc=function(E,K,ge,we,ke){fs.push(new tu),xt=q=0,V=[],Je=E,Gt=K,at=ke,Oc([ge,we])};for(var Va in f.beginFormObject=function(E,K,ge,we,ke){return jc(E,K,ge,we,ke),this},f.endFormObject=function(E){return function(K){if(zs[K])fs.pop().restore();else{var ge=new tu,we="Xo"+(Object.keys(vn).length+1).toString(10);ge.id=we,zs[K]=we,vn[we]=ge,jt.publish("addFormObject",ge),fs.pop().restore()}}(E),this},f.doFormObject=function(E,K){var ge=vn[zs[E]];return W("q"),W(K.toString()+" cm"),W("/"+ge.id+" Do"),W("Q"),this},f.getFormObject=function(E){var K=vn[zs[E]];return{x:K.x,y:K.y,width:K.width,height:K.height,matrix:K.matrix}},f.save=function(E,K){return E=E||"generated.pdf",(K=K||{}).returnPromise=K.returnPromise||!1,K.returnPromise===!1?(ll(Zl(ms()),E),typeof ll.unload=="function"&&dt.setTimeout&&setTimeout(ll.unload,911),this):new Promise(function(ge,we){try{var ke=ll(Zl(ms()),E);typeof ll.unload=="function"&&dt.setTimeout&&setTimeout(ll.unload,911),ge(ke)}catch(Pe){we(Pe.message)}})},st.API)st.API.hasOwnProperty(Va)&&(Va==="events"&&st.API.events.length?function(E,K){var ge,we,ke;for(ke=K.length-1;ke!==-1;ke--)ge=K[ke][0],we=K[ke][1],E.subscribe.apply(E,[ge].concat(typeof we=="function"?[we]:we))}(jt,st.API.events):f[Va]=st.API[Va]);function zc(E){return lt[E].mediaBox.topRightX-lt[E].mediaBox.bottomLeftX}function Qh(E,K){lt[E].mediaBox.topRightX=K+lt[E].mediaBox.bottomLeftX}function ed(E){return lt[E].mediaBox.topRightY-lt[E].mediaBox.bottomLeftY}function Gs(E,K){lt[E].mediaBox.topRightY=K+lt[E].mediaBox.bottomLeftY}var Js=f.getPageWidth=function(E){return zc(E=E||q)/ct},td=f.setPageWidth=function(E,K){Qh(E,K*ct)},$a=f.getPageHeight=function(E){return ed(E=E||q)/ct},rd=f.setPageHeight=function(E,K){Gs(E,K*ct)};return f.internal={pdfEscape:xi,getStyle:Jh,getFont:Tg,getFontSize:de,getCharSpace:Fg,getTextColor:Dg,getLineHeight:Og,getLineHeightFactor:Rg,getLineWidth:Lg,write:D,getHorizontalCoordinate:Hs,getVerticalCoordinate:Vs,getCoordinateString:Ig,getVerticalCoordinateString:Mg,collections:{},newObject:pr,newAdditionalObject:ja,newObjectDeferred:Gr,newObjectDeferredBegin:rn,getFilters:qi,putStream:bi,events:jt,scaleFactor:ct,pageSize:{getWidth:function(){return Js(q)},setWidth:function(E){td(q,E)},getHeight:function(){return $a(q)},setHeight:function(E){rd(q,E)}},encryptionOptions:c,encryption:zr,getEncryptor:function(E){return c!==null?zr.encryptor(E,0):function(K){return K}},output:Kh,getNumberOfPages:Hh,get pages(){return V},out:W,f2:H,f3:L,getPageInfo:Ws,getPageInfoByObjId:Gh,getCurrentPageInfo:_g,getPDFVersion:y,Point:Ks,Rectangle:Bc,Matrix:ht,hasHotfix:Si},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Js(q)},set:function(E){td(q,E)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return $a(q)},set:function(E){rd(q,E)},enumerable:!0,configurable:!0}),(function(E){for(var K=0,ge=_.length;K<ge;K++){var we=Uh.call(this,E[K][0],E[K][1],E[K][2],_[K][3],!0);h===!1&&(d[we]=!0);var ke=E[K][0].split("-");zh({id:we,fontName:ke[0],fontStyle:ke[1]||""})}jt.publish("addFonts",{fonts:bt,dictionary:kt})}).call(f,_),Ke="F1",qh(i,r),jt.publish("initialized"),f}Su.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Su.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Su.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Su.prototype.processOwnerPassword=function(t,e){return H2(W2(e).substr(0,5),t)},Su.prototype.encryptor=function(t,e){var r=W2(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return H2(r,n)}},Cm.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Ht(t)!==Ht(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},st.API={events:[]},st.version="4.1.0";var vr=st.API,N5=1,Vl=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},mu=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Tm=function(t){return t.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var r=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(r.length===1?"0"+r:r)})},St=function(t){return t.toFixed(2)},Jo=function(t){return t.toFixed(5)};vr.__acroform__={};var Zn=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},b4=function(t){return t*N5},ks=function(t){var e=new XN,r=Ze.internal.getHeight(t)||0,n=Ze.internal.getWidth(t)||0;return e.BBox=[0,0,Number(St(n)),Number(St(r))],e},bU=vr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},xU=vr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},SU=vr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Nr=vr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return SU(t,e-1)},Cr=vr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return bU(t,e-1)},Tr=vr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return xU(t,e-1)},kU=vr.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(s+a)||0,l.upperRight_X=r(i+o)||0,l.upperRight_Y=n(s)||0,[Number(St(l.lowerLeft_X)),Number(St(l.lowerLeft_Y)),Number(St(l.upperRight_X)),Number(St(l.upperRight_Y))]},_U=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=V2(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+St(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=ks(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},V2=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(H){return H.split(`
`)}):i.map(function(H){return[H]});var s=r,o=Ze.internal.getHeight(t)||0;o=o<0?-o:o;var a=Ze.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(H,L,U){if(H+1<i.length){var A=L+" "+i[H+1][0];return ep(A,t,U).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var u,c,h=ep("3",t,s).height,d=t.multiline?o-s:(o-h)/2,f=d+=2,g=0,y=0,x=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+ep(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var p="",v=0,b=0;b<i.length;b++)if(i.hasOwnProperty(b)){var w=!1;if(i[b].length!==1&&x!==i[b].length-1){if((h+2)*(v+2)+2>o)continue e;p+=i[b][x],w=!0,y=b,b--}else{p=(p+=i[b][x]+" ").substr(p.length-1)==" "?p.substr(0,p.length-1):p;var N=parseInt(b),j=l(N,p,s),F=b>=i.length-1;if(j&&!F){p+=" ",x=0;continue}if(j||F){if(F)y=N;else if(t.multiline&&(h+2)*(v+2)+2>o)continue e}else{if(!t.multiline||(h+2)*(v+2)+2>o)continue e;y=N}}for(var z="",T=g;T<=y;T++){var Z=i[T];if(t.multiline){if(T===y){z+=Z[x]+" ",x=(x+1)%Z.length;continue}if(T===g){z+=Z[Z.length-1]+" ";continue}}z+=Z[0]+" "}switch(z=z.substr(z.length-1)==" "?z.substr(0,z.length-1):z,c=ep(z,t,s).width,t.textAlign){case"right":u=a-c-2;break;case"center":u=(a-c)/2;break;default:u=2}e+=St(u)+" "+St(f)+` Td
`,e+="("+Vl(z)+`) Tj
`,e+=-St(u)+` 0 Td
`,f=-(s+2),c=0,g=w?y:y+1,v++,p=""}break}return n.text=e,n.fontSize=s,n},ep=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},AU={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},EU=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},NU=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(us.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(AU)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");N5=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new ZN,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&EU(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var a=n[o],l=[],u=a.Rect;if(a.Rect&&(a.Rect=kU(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Ze.createDefaultAppearanceStream(a),Ht(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=u,a.hasAppearanceStream&&!a.appearanceStreamContent){var c=_U(a);l.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(a.appearanceStreamContent){var h="";for(var d in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(d)){var f=a.appearanceStreamContent[d];if(h+="/"+d+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var g=f[o];typeof g=="function"&&(g=g.call(i,a)),h+="/"+o+" "+g+" ",i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g)}}else typeof(g=f)=="function"&&(g=g.call(i,a)),h+="/"+o+" "+g,i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&function(y,x){for(var p in y)if(y.hasOwnProperty(p)){var v=p,b=y[p];x.internal.newObjectDeferredBegin(b.objId,!0),Ht(b)==="object"&&typeof b.putStream=="function"&&b.putStream(),delete y[v]}}(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},YN=vr.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),Ht(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)==="/"?i+="/"+Tm(t[s].substr(1)):(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+Vl(n(t[s].toString()))+")")}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},m0=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+Vl(n(t))+")"},Os=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Os.prototype.toString=function(){return this.objId+" 0 R"},Os.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Os.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:YN(i,this.objId,this.scope)}):i instanceof Os?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var XN=function(){Os.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Zn(XN,Os);var ZN=function(){Os.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Vl(r(t))+")"}},set:function(r){t=r}})};Zn(ZN,Os);var us=function t(){Os.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(p){if(isNaN(p))throw new Error('Invalid value "'+p+'" for attribute F supplied.');e=p}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Nr(e,3)},set:function(p){p?this.F=Cr(e,3):this.F=Tr(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(p){if(isNaN(p))throw new Error('Invalid value "'+p+'" for attribute Ff supplied.');r=p}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(p){n=p!==void 0?p:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(p){n[0]=p}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(p){n[1]=p}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(p){n[2]=p}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(p){n[3]=p}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(p){switch(p){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=p;break;default:throw new Error('Invalid value "'+p+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Lm)return;s="FieldObject"+t.FieldNum++}var p=function(v){return v};return this.scope&&(p=this.scope.internal.getEncryptor(this.objId)),"("+Vl(p(s))+")"},set:function(p){s=p.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(p){s=p}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(p){o=p}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(p){a=p}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(p){l=p}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/N5:u},set:function(p){u=p}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(p){c=p}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof Lm||this instanceof Cl))return m0(h,this.objId,this.scope)},set:function(p){p=p.toString(),h=p}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Yr==0?m0(d,this.objId,this.scope):d},set:function(p){p=p.toString(),d=this instanceof Yr==0?p.substr(0,1)==="("?mu(p.substr(1,p.length-2)):mu(p):p}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Yr==1?mu(d.substr(1,d.length-1)):d},set:function(p){p=p.toString(),d=this instanceof Yr==1?"/"+Tm(p):p}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(p){this.V=p}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Yr==0?m0(f,this.objId,this.scope):f},set:function(p){p=p.toString(),f=this instanceof Yr==0?p.substr(0,1)==="("?mu(p.substr(1,p.length-2)):mu(p):p}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Yr==1?mu(f.substr(1,f.length-1)):f},set:function(p){p=p.toString(),f=this instanceof Yr==1?"/"+Tm(p):p}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(p){p=!!p,y=p}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(p){g=p}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,1)},set:function(p){p?this.Ff=Cr(this.Ff,1):this.Ff=Tr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,2)},set:function(p){p?this.Ff=Cr(this.Ff,2):this.Ff=Tr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,3)},set:function(p){p?this.Ff=Cr(this.Ff,3):this.Ff=Tr(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(p){if([0,1,2].indexOf(p)===-1)throw new Error('Invalid value "'+p+'" for attribute Q supplied.');x=p}}),Object.defineProperty(this,"textAlign",{get:function(){var p;switch(x){case 0:default:p="left";break;case 1:p="center";break;case 2:p="right"}return p},configurable:!0,enumerable:!0,set:function(p){switch(p){case"right":case 2:x=2;break;case"center":case 1:x=1;break;default:x=0}}})};Zn(us,Os);var Gu=function(){us.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return YN(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,u=[];l=o.exec(s);)u.push(l[a]);return u}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,18)},set:function(r){r?this.Ff=Cr(this.Ff,18):this.Ff=Tr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Cr(this.Ff,19):this.Ff=Tr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,20)},set:function(r){r?(this.Ff=Cr(this.Ff,20),e.sort()):this.Ff=Tr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,22)},set:function(r){r?this.Ff=Cr(this.Ff,22):this.Ff=Tr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,23)},set:function(r){r?this.Ff=Cr(this.Ff,23):this.Ff=Tr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,27)},set:function(r){r?this.Ff=Cr(this.Ff,27):this.Ff=Tr(this.Ff,27)}}),this.hasAppearanceStream=!1};Zn(Gu,us);var Ju=function(){Gu.call(this),this.fontName="helvetica",this.combo=!1};Zn(Ju,Gu);var Yu=function(){Ju.call(this),this.combo=!0};Zn(Yu,Ju);var Pp=function(){Yu.call(this),this.edit=!0};Zn(Pp,Yu);var Yr=function(){us.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,15)},set:function(r){r?this.Ff=Cr(this.Ff,15):this.Ff=Tr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,16)},set:function(r){r?this.Ff=Cr(this.Ff,16):this.Ff=Tr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,17)},set:function(r){r?this.Ff=Cr(this.Ff,17):this.Ff=Tr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,26)},set:function(r){r?this.Ff=Cr(this.Ff,26):this.Ff=Tr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+Vl(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Ht(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+Tm(r)}})};Zn(Yr,us);var Rp=function(){Yr.call(this),this.pushButton=!0};Zn(Rp,Yr);var Xu=function(){Yr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Zn(Xu,Yr);var Lm=function(){var t,e;us.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),n)o.push("/"+s+" ("+Vl(i(n[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Ht(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ze.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Zn(Lm,us),Xu.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Xu.prototype.createOption=function(t){var e=new Lm;return e.Parent=this,e.optionName=t,this.Kids.push(e),CU.call(this.scope,e),e};var Ip=function(){Yr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ze.CheckBox.createAppearanceStream()};Zn(Ip,Yr);var Cl=function(){us.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,13)},set:function(e){e?this.Ff=Cr(this.Ff,13):this.Ff=Tr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,21)},set:function(e){e?this.Ff=Cr(this.Ff,21):this.Ff=Tr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,23)},set:function(e){e?this.Ff=Cr(this.Ff,23):this.Ff=Tr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,24)},set:function(e){e?this.Ff=Cr(this.Ff,24):this.Ff=Tr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,25)},set:function(e){e?this.Ff=Cr(this.Ff,25):this.Ff=Tr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,26)},set:function(e){e?this.Ff=Cr(this.Ff,26):this.Ff=Tr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Zn(Cl,us);var Mp=function(){Cl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,14)},set:function(t){t?this.Ff=Cr(this.Ff,14):this.Ff=Tr(this.Ff,14)}}),this.password=!0};Zn(Mp,Cl);var Ze={CheckBox:{createAppearanceStream:function(){return{N:{On:Ze.CheckBox.YesNormal},D:{On:Ze.CheckBox.YesPushDown,Off:Ze.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=ks(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=V2(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+St(Ze.internal.getWidth(t))+" "+St(Ze.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+St(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=ks(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],s=Ze.internal.getHeight(t),o=Ze.internal.getWidth(t),a=V2(t,t.caption);return i.push("1 g"),i.push("0 0 "+St(o)+" "+St(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+St(o-1)+" "+St(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+St(a.fontSize)+" Tf "+n),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=ks(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+St(Ze.internal.getWidth(t))+" "+St(Ze.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ze.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ze.RadioButton.Circle.YesNormal,e.D[t]=Ze.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=ks(t);e.scope=t.scope;var r=[],n=Ze.internal.getWidth(t)<=Ze.internal.getHeight(t)?Ze.internal.getWidth(t)/4:Ze.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Ze.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Jo(Ze.internal.getWidth(t)/2)+" "+Jo(Ze.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=ks(t);e.scope=t.scope;var r=[],n=Ze.internal.getWidth(t)<=Ze.internal.getHeight(t)?Ze.internal.getWidth(t)/4:Ze.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Ze.internal.Bezier_C).toFixed(5)),o=Number((n*Ze.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Jo(Ze.internal.getWidth(t)/2)+" "+Jo(Ze.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Jo(Ze.internal.getWidth(t)/2)+" "+Jo(Ze.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=ks(t);e.scope=t.scope;var r=[],n=Ze.internal.getWidth(t)<=Ze.internal.getHeight(t)?Ze.internal.getWidth(t)/4:Ze.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Ze.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Jo(Ze.internal.getWidth(t)/2)+" "+Jo(Ze.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ze.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ze.RadioButton.Cross.YesNormal,e.D[t]=Ze.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=ks(t);e.scope=t.scope;var r=[],n=Ze.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+St(Ze.internal.getWidth(t)-2)+" "+St(Ze.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(St(n.x1.x)+" "+St(n.x1.y)+" m"),r.push(St(n.x2.x)+" "+St(n.x2.y)+" l"),r.push(St(n.x4.x)+" "+St(n.x4.y)+" m"),r.push(St(n.x3.x)+" "+St(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=ks(t);e.scope=t.scope;var r=Ze.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+St(Ze.internal.getWidth(t))+" "+St(Ze.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+St(Ze.internal.getWidth(t)-2)+" "+St(Ze.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(St(r.x1.x)+" "+St(r.x1.y)+" m"),n.push(St(r.x2.x)+" "+St(r.x2.y)+" l"),n.push(St(r.x4.x)+" "+St(r.x4.y)+" m"),n.push(St(r.x3.x)+" "+St(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=ks(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+St(Ze.internal.getWidth(t))+" "+St(Ze.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Ze.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ze.internal.getWidth(t),r=Ze.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Ze.internal.getWidth=function(t){var e=0;return Ht(t)==="object"&&(e=b4(t.Rect[2])),e},Ze.internal.getHeight=function(t){var e=0;return Ht(t)==="object"&&(e=b4(t.Rect[3])),e};var CU=vr.addField=function(t){if(NU(this,t),!(t instanceof us))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};vr.AcroFormChoiceField=Gu,vr.AcroFormListBox=Ju,vr.AcroFormComboBox=Yu,vr.AcroFormEditBox=Pp,vr.AcroFormButton=Yr,vr.AcroFormPushButton=Rp,vr.AcroFormRadioButton=Xu,vr.AcroFormCheckBox=Ip,vr.AcroFormTextField=Cl,vr.AcroFormPasswordField=Mp,vr.AcroFormAppearance=Ze,vr.AcroForm={ChoiceField:Gu,ListBox:Ju,ComboBox:Yu,EditBox:Pp,Button:Yr,PushButton:Rp,RadioButton:Xu,CheckBox:Ip,TextField:Cl,PasswordField:Mp,Appearance:Ze},st.AcroForm={ChoiceField:Gu,ListBox:Ju,ComboBox:Yu,EditBox:Pp,Button:Yr,PushButton:Rp,RadioButton:Xu,CheckBox:Ip,TextField:Cl,PasswordField:Mp,Appearance:Ze};st.AcroForm;function QN(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(H,L){var U,A,ie,he,te,re=r;if((L=L||r)==="RGBA"||H.data!==void 0&&H.data instanceof Uint8ClampedArray&&"height"in H&&"width"in H)return"RGBA";if(j(H))for(te in n)for(ie=n[te],U=0;U<ie.length;U+=1){for(he=!0,A=0;A<ie[U].length;A+=1)if(ie[U][A]!==void 0&&ie[U][A]!==H[A]){he=!1;break}if(he===!0){re=te;break}}else for(te in n)for(ie=n[te],U=0;U<ie.length;U+=1){for(he=!0,A=0;A<ie[U].length;A+=1)if(ie[U][A]!==void 0&&ie[U][A]!==H.charCodeAt(A)){he=!1;break}if(he===!0){re=te;break}}return re===r&&L!==r&&(re=L),re},s=function H(L){for(var U=this.internal.write,A=this.internal.putStream,ie=(0,this.internal.getFilters)();ie.indexOf("FlateEncode")!==-1;)ie.splice(ie.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var he=[];if(he.push({key:"Type",value:"/XObject"}),he.push({key:"Subtype",value:"/Image"}),he.push({key:"Width",value:L.width}),he.push({key:"Height",value:L.height}),L.colorSpace===p.INDEXED?he.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(he.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===p.DEVICE_CMYK&&he.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),he.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&he.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)&&L.transparency.length>0){for(var te="",re=0,ae=L.transparency.length;re<ae;re++)te+=L.transparency[re]+" "+L.transparency[re]+" ";he.push({key:"Mask",value:"["+te+"]"})}L.sMask!==void 0&&he.push({key:"SMask",value:L.objectId+1+" 0 R"});var ve=L.filter!==void 0?["/"+L.filter]:void 0;if(A({data:L.data,additionalKeyValues:he,alreadyAppliedFilters:ve,objectId:L.objectId}),U("endobj"),"sMask"in L&&L.sMask!==void 0){var le,C=(le=L.sMaskBitsPerComponent)!==null&&le!==void 0?le:L.bitsPerComponent,q={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:C,data:L.sMask};"filter"in L&&(q.decodeParameters="/Predictor ".concat(L.predictor," /Colors 1 /BitsPerComponent ").concat(C," /Columns ").concat(L.width),q.filter=L.filter),H.call(this,q)}if(L.colorSpace===p.INDEXED){var $=this.internal.newObject();A({data:z(new Uint8Array(L.palette)),objectId:$}),U("endobj")}},o=function(){var H=this.internal.collections[e+"images"];for(var L in H)s.call(this,H[L])},a=function(){var H,L=this.internal.collections[e+"images"],U=this.internal.write;for(var A in L)U("/I"+(H=L[A]).index,H.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},u=function(){var H=this.internal.collections[e+"images"];return l.call(this),H},c=function(){return Object.keys(this.internal.collections[e+"images"]).length},h=function(H){return typeof t["process"+H.toUpperCase()]=="function"},d=function(H){return Ht(H)==="object"&&H.nodeType===1},f=function(H,L){if(H.nodeName==="IMG"&&H.hasAttribute("src")){var U=""+H.getAttribute("src");if(U.indexOf("data:image/")===0)return Op(unescape(U).split("base64,").pop());var A=t.loadFile(U,!0);if(A!==void 0)return A}if(H.nodeName==="CANVAS"){if(H.width===0||H.height===0)throw new Error("Given canvas must have data. Canvas width: "+H.width+", height: "+H.height);var ie;switch(L){case"PNG":ie="image/png";break;case"WEBP":ie="image/webp";break;default:ie="image/jpeg"}return Op(H.toDataURL(ie,1).split("base64,").pop())}},g=function(H){var L=this.internal.collections[e+"images"];if(L){for(var U in L)if(H===L[U].alias)return L[U]}},y=function(H,L,U){return H||L||(H=-96,L=-96),H<0&&(H=-1*U.width*72/H/this.internal.scaleFactor),L<0&&(L=-1*U.height*72/L/this.internal.scaleFactor),H===0&&(H=L*U.width/U.height),L===0&&(L=H*U.height/U.width),[H,L]},x=function(H,L,U,A,ie,he){var te=y.call(this,U,A,ie),re=this.internal.getCoordinateString,ae=this.internal.getVerticalCoordinateString,ve=u.call(this);if(U=te[0],A=te[1],ve[ie.index]=ie,he){he*=Math.PI/180;var le=Math.cos(he),C=Math.sin(he),q=function(se){return se.toFixed(4)},$=[q(le),q(C),q(-1*C),q(le),0,0,"cm"]}this.internal.write("q"),he?(this.internal.write([1,"0","0",1,re(H),ae(L+A),"cm"].join(" ")),this.internal.write($.join(" ")),this.internal.write([re(U),"0","0",re(A),"0","0","cm"].join(" "))):this.internal.write([re(U),"0","0",re(A),re(H),ae(L+A),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ie.index+" Do"),this.internal.write("Q")},p=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=t.__addimage__.sHashCode=function(H){var L,U,A=0;if(typeof H=="string")for(U=H.length,L=0;L<U;L++)A=(A<<5)-A+H.charCodeAt(L),A|=0;else if(j(H))for(U=H.byteLength/2,L=0;L<U;L++)A=(A<<5)-A+H[L],A|=0;return A},w=t.__addimage__.validateStringAsBase64=function(H){(H=H||"").toString().trim();var L=!0;return H.length===0&&(L=!1),H.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(H.substr(0,H.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(H.substr(-2))===!1&&(L=!1),L},N=t.__addimage__.extractImageFromDataUrl=function(H){if(H==null||!(H=H.trim()).startsWith("data:"))return null;var L=H.indexOf(",");return L<0?null:H.substring(0,L).trim().endsWith("base64")?H.substring(L+1):null};t.__addimage__.isArrayBuffer=function(H){return H instanceof ArrayBuffer};var j=t.__addimage__.isArrayBufferView=function(H){return H instanceof Int8Array||H instanceof Uint8Array||H instanceof Uint8ClampedArray||H instanceof Int16Array||H instanceof Uint16Array||H instanceof Int32Array||H instanceof Uint32Array||H instanceof Float32Array||H instanceof Float64Array},F=t.__addimage__.binaryStringToUint8Array=function(H){for(var L=H.length,U=new Uint8Array(L),A=0;A<L;A++)U[A]=H.charCodeAt(A);return U},z=t.__addimage__.arrayBufferToBinaryString=function(H){for(var L="",U=j(H)?H:new Uint8Array(H),A=0;A<U.length;A+=8192)L+=String.fromCharCode.apply(null,U.subarray(A,A+8192));return L};t.addImage=function(){var H,L,U,A,ie,he,te,re,ae;if(typeof arguments[1]=="number"?(L=r,U=arguments[1],A=arguments[2],ie=arguments[3],he=arguments[4],te=arguments[5],re=arguments[6],ae=arguments[7]):(L=arguments[1],U=arguments[2],A=arguments[3],ie=arguments[4],he=arguments[5],te=arguments[6],re=arguments[7],ae=arguments[8]),Ht(H=arguments[0])==="object"&&!d(H)&&"imageData"in H){var ve=H;H=ve.imageData,L=ve.format||L||r,U=ve.x||U||0,A=ve.y||A||0,ie=ve.w||ve.width||ie,he=ve.h||ve.height||he,te=ve.alias||te,re=ve.compression||re,ae=ve.rotation||ve.angle||ae}var le=this.internal.getFilters();if(re===void 0&&le.indexOf("FlateEncode")!==-1&&(re="SLOW"),isNaN(U)||isNaN(A))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var C=T.call(this,H,L,te,re);return x.call(this,U,A,ie,he,C,ae),this};var T=function(H,L,U,A){var ie,he,te;if(typeof H=="string"&&i(H)===r){H=unescape(H);var re=Z(H,!1);(re!==""||(re=t.loadFile(H,!0))!==void 0)&&(H=re)}if(d(H)&&(H=f(H,L)),L=i(H,L),!h(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((te=U)==null||te.length===0)&&(U=function(ae){return typeof ae=="string"||j(ae)?b(ae):j(ae.data)?b(ae.data):null}(H)),(ie=g.call(this,U))||(H instanceof Uint8Array||L==="RGBA"||(he=H,H=F(H)),ie=this["process"+L.toUpperCase()](H,c.call(this),U,function(ae){return ae&&typeof ae=="string"&&(ae=ae.toUpperCase()),ae in t.image_compression?ae:v.NONE}(A),he)),!ie)throw new Error("An unknown error occurred whilst processing the image.");return ie},Z=t.__addimage__.convertBase64ToBinaryString=function(H,L){L=typeof L!="boolean"||L;var U,A="";if(typeof H=="string"){var ie;U=(ie=N(H))!==null&&ie!==void 0?ie:H;try{A=Op(U)}catch(he){if(L)throw w(U)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+he.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return A};t.getImageProperties=function(H){var L,U,A="";if(d(H)&&(H=f(H)),typeof H=="string"&&i(H)===r&&((A=Z(H,!1))===""&&(A=t.loadFile(H)||""),H=A),U=i(H),!h(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(H instanceof Uint8Array||(H=F(H)),!(L=this["process"+U.toUpperCase()](H)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=U,L}})(st.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};st.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,c=!1,h=0;h<u.length&&!c;h++)switch((n=u[h]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var d=0;d<u.length;d++){n=u[d];var f=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),p=this.internal.getEncryptor(y.objId),v=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+a(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y)+"] ")+"/Contents ("+f(p(n.contents))+")",s+=" /Popup "+x.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+f(p(v))+") >>",y.content=s;var b=y.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+a(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+a(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(s+=" /Open true"),s+=" >>",x.content=s,this.internal.write(y.objId,"0 R",x.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+a(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y+n.bounds.h)+"] ";var w=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(g(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+w+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var N=this.annotations._nameMap[n.options.name];n.options.pageNumber=N.page,n.options.top=N.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var j=a(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+j+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(r),y:u(n),w:l(r+i),h:u(n+s)},options:o,type:"link"})},t.textWithLink=function(r,n,i,s){var o,a,l=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var c=this.splitTextToSize(r,a).length;o=Math.ceil(u*c)}else a=l,o=u;return this.text(r,n,i,s),i+=.2*u,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,i-u,a,o,s),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(st.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(y){return e[y.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},a=t.__arabicParser__.isArabicEndLetter=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(y){return o(y)&&i.indexOf(y.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(y){var x=0,p=r,v="",b=0;for(x=0;x<y.length;x+=1)p[y.charCodeAt(x)]!==void 0?(b++,typeof(p=p[y.charCodeAt(x)])=="number"&&(v+=String.fromCharCode(p),p=r,b=0),x===y.length-1&&(p=r,v+=y.charAt(x-(b-1)),x-=b-1,b=0)):(p=r,v+=y.charAt(x-b),x-=b,b=0);return v};t.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&n[y.charCodeAt(0)]!==void 0};var d=t.__arabicParser__.getCorrectForm=function(y,x,p){return o(y)?s(y)===!1?-1:!u(y)||!o(x)&&!o(p)||!o(p)&&a(x)||a(y)&&!o(x)||a(y)&&l(x)||a(y)&&a(x)?0:c(y)&&o(x)&&!a(x)&&o(p)&&u(p)?3:a(y)||!o(p)?1:2:-1},f=function(y){var x=0,p=0,v=0,b="",w="",N="",j=(y=y||"").split("\\s+"),F=[];for(x=0;x<j.length;x+=1){for(F.push(""),p=0;p<j[x].length;p+=1)b=j[x][p],w=j[x][p-1],N=j[x][p+1],o(b)?(v=d(b,w,N),F[x]+=v!==-1?String.fromCharCode(e[b.charCodeAt(0)][v]):b):F[x]+=b;F[x]=h(F[x])}return F.join(" ")},g=t.__arabicParser__.processArabic=t.processArabic=function(){var y,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,p=[];if(Array.isArray(x)){var v=0;for(p=[],v=0;v<x.length;v+=1)Array.isArray(x[v])?p.push([f(x[v][0]),x[v][1],x[v][2]]):p.push([f(x[v])]);y=p}else y=f(x);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};t.events.push(["preProcessText",g])}(st.API),st.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(a){r=a}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(a){n=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(st.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(y){l=y}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var d=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(y){g=y}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){n.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),d=u.scaleFactor||this.internal.scaleFactor,f=0,g=0,y=0,x=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var p=u.maxWidth;p>0?typeof l=="string"?l=this.splitTextToSize(l,p):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(b,w){return b.concat(x.splitTextToSize(w,p))},[])):l=Array.isArray(l)?l:[l];for(var v=0;v<l.length;v++)f<(y=this.getStringUnitWidth(l[v],{font:h})*c)&&(f=y);return f!==0&&(g=l.length),{w:f/=d,h:Math.max((g*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/d,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,d=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,f&&d&&(this.printHeaderRow(l.lineNumber,!0),l.y+=d[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,c,h,d){if(n.call(this),!c)throw new Error("No data for PDF table.");var f,g,y,x,p=[],v=[],b=[],w={},N={},j=[],F=[],z=(d=d||{}).autoSize||!1,T=d.printHeaders!==!1,Z=d.css&&d.css["font-size"]!==void 0?16*d.css["font-size"]:d.fontSize||12,H=d.margins||Object.assign({width:this.getPageWidth()},e),L=typeof d.padding=="number"?d.padding:3,U=d.headerBackgroundColor||"#c8c8c8",A=d.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=H,this.internal.__cell__.table_font_size=Z,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=U,this.internal.__cell__.headerTextColor=A,this.setFontSize(Z),h==null)v=p=Object.keys(c[0]),b=p.map(function(){return"left"});else if(Array.isArray(h)&&Ht(h[0])==="object")for(p=h.map(function(ve){return ve.name}),v=h.map(function(ve){return ve.prompt||ve.name||""}),b=h.map(function(ve){return ve.align||"left"}),f=0;f<h.length;f+=1)N[h[f].name]=.7499990551181103*h[f].width;else Array.isArray(h)&&typeof h[0]=="string"&&(v=p=h,b=p.map(function(){return"left"}));if(z||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<p.length;f+=1){for(w[x=p[f]]=c.map(function(ve){return ve[x]}),this.setFont(void 0,"bold"),j.push(this.getTextDimensions(v[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=w[x],this.setFont(void 0,"normal"),y=0;y<g.length;y+=1)j.push(this.getTextDimensions(g[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[x]=Math.max.apply(null,j)+L+L,j=[]}if(T){var ie={};for(f=0;f<p.length;f+=1)ie[p[f]]={},ie[p[f]].text=v[f],ie[p[f]].align=b[f];var he=a.call(this,ie,N);F=p.map(function(ve){return new s(l,u,N[ve],he,ie[ve].text,void 0,ie[ve].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var te=h.reduce(function(ve,le){return ve[le.name]=le.align,ve},{});for(f=0;f<c.length;f+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:f,data:c[f]},this);var re=a.call(this,c[f],N);for(y=0;y<p.length;y+=1){var ae=c[f][p[y]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:f,col:y,data:ae},this),o.call(this,new s(l,u,N[p[y]],re,ae,f+2,te[p[y]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var a=function(l,u){var c=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,d=this.internal.scaleFactor;return Object.keys(l).map(function(f){var g=l[f];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,u[f]-c-c)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/d+c+c},this).reduce(function(f,g){return Math.max(f,g)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var d=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){c=this.internal.__cell__.tableHeaderRow[f].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,d.push(c)),c.lineNumber=l;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,c),this.setTextColor(g)}d.length>0&&this.setTableHeaderRow(d),this.setFont(void 0,"normal"),r=!1}}(st.API);var eC={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},tC=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],$2=QN(tC),rC=[100,200,300,400,500,600,700,800,900],TU=QN(rC);function g0(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return eC[s=s||"normal"]?s:"normal"}(t.style),n=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(t.weight),i=function(s){return typeof $2[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function x4(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var LU={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},S4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function k4(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function _4(t){return t.trimLeft()}function OU(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function PU(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var gu,tp,A4,E4,N4,y0=["times"];function C4(t,e,r,n,i){var s=4,o=L4;switch(i){case st.API.image_compression.FAST:s=1,o=T4;break;case st.API.image_compression.MEDIUM:s=6,o=O4;break;case st.API.image_compression.SLOW:s=9,o=P4}t=function(l,u,c,h){for(var d,f=l.length/u,g=new Uint8Array(l.length+f),y=[RU,T4,L4,O4,P4],x=0;x<f;x+=1){var p=x*u,v=l.subarray(p,p+u);if(h)g.set(h(v,c,d),p+x);else{for(var b=y.length,w=[],N=0;N<b;N+=1)w[N]=y[N](v,c,d);var j=MU(w.concat());g.set(w[j],p+x)}d=v}return g}(t,e,Math.ceil(r*n/8),o);var a=j2(t,{level:s});return st.API.__addimage__.arrayBufferToBinaryString(a)}function RU(t){var e=Array.apply([],t);return e.unshift(0),e}function T4(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var s=t[i-e]||0;n[i+1]=t[i]-s+256&255}return n}function L4(t,e,r){var n=t.length,i=[];i[0]=2;for(var s=0;s<n;s+=1){var o=r&&r[s]||0;i[s+1]=t[s]-o+256&255}return i}function O4(t,e,r){var n=t.length,i=[];i[0]=3;for(var s=0;s<n;s+=1){var o=t[s-e]||0,a=r&&r[s]||0;i[s+1]=t[s]+256-(o+a>>>1)&255}return i}function P4(t,e,r){var n=t.length,i=[];i[0]=4;for(var s=0;s<n;s+=1){var o=IU(t[s-e]||0,r&&r[s]||0,r&&r[s-e]||0);i[s+1]=t[s]-o+256&255}return i}function IU(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),s=Math.abs(t+e-r-r);return n<=i&&n<=s?t:i<=s?e:r}function MU(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function v0(t,e,r){var n=e*r,i=Math.floor(n/8),s=16-(n-8*i+r),o=(1<<r)-1;return nC(t,i)>>s&o}function R4(t,e,r,n){var i=r*n,s=Math.floor(i/8),o=16-(i-8*s+n),a=(1<<n)-1,l=(e&a)<<o;(function(u,c,h){if(c+1<u.byteLength)u.setUint16(c,h,!1);else{var d=h>>8&255;u.setUint8(c,d)}})(t,s,nC(t,s)&~(a<<o)&65535|l)}function nC(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function DU(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<1+(7&i);t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var u=!0,c=[],h=0,d=null,f=0,g=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,g=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((H=t[e++])>=0))throw Error("Invalid block size");if(H===0)break;e+=H}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var y=t[e++];h=t[e++]|t[e++]<<8,d=t[e++],1&y||(d=null),f=y>>2&7,e++;break;case 254:for(;;){if(!((H=t[e++])>=0))throw Error("Invalid block size");if(H===0)break;e+=H}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var x=t[e++]|t[e++]<<8,p=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,w=t[e++],N=w>>6&1,j=1<<1+(7&w),F=a,z=l,T=!1;w>>7&&(T=!0,F=e,z=j,e+=3*j);var Z=e;for(e++;;){var H;if(!((H=t[e++])>=0))throw Error("Invalid block size");if(H===0)break;e+=H}c.push({x,y:p,width:v,height:b,has_local_palette:T,palette_offset:F,palette_size:z,data_offset:Z,data_length:e-Z,transparent_index:d,interlaced:!!N,delay:h,disposal:f});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return g},this.frameInfo=function(L){if(L<0||L>=c.length)throw new Error("Frame index out of range.");return c[L]},this.decodeAndBlitFrameBGRA=function(L,U){var A=this.frameInfo(L),ie=A.width*A.height,he=new Uint8Array(ie);I4(t,A.data_offset,he,ie);var te=A.palette_offset,re=A.transparent_index;re===null&&(re=256);var ae=A.width,ve=r-ae,le=ae,C=4*(A.y*r+A.x),q=4*((A.y+A.height)*r+A.x),$=C,se=4*ve;A.interlaced===!0&&(se+=4*r*7);for(var J=8,O=0,I=he.length;O<I;++O){var Q=he[O];if(le===0&&(le=ae,($+=se)>=q&&(se=4*ve+4*r*(J-1),$=C+(ae+ve)*(J<<1),J>>=1)),Q===re)$+=4;else{var Y=t[te+3*Q],V=t[te+3*Q+1],X=t[te+3*Q+2];U[$++]=X,U[$++]=V,U[$++]=Y,U[$++]=255}--le}},this.decodeAndBlitFrameRGBA=function(L,U){var A=this.frameInfo(L),ie=A.width*A.height,he=new Uint8Array(ie);I4(t,A.data_offset,he,ie);var te=A.palette_offset,re=A.transparent_index;re===null&&(re=256);var ae=A.width,ve=r-ae,le=ae,C=4*(A.y*r+A.x),q=4*((A.y+A.height)*r+A.x),$=C,se=4*ve;A.interlaced===!0&&(se+=4*r*7);for(var J=8,O=0,I=he.length;O<I;++O){var Q=he[O];if(le===0&&(le=ae,($+=se)>=q&&(se=4*ve+4*r*(J-1),$=C+(ae+ve)*(J<<1),J>>=1)),Q===re)$+=4;else{var Y=t[te+3*Q],V=t[te+3*Q+1],X=t[te+3*Q+2];U[$++]=Y,U[$++]=V,U[$++]=X,U[$++]=255}--le}}}function I4(t,e,r,n){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,l=i+1,u=(1<<l)-1,c=0,h=0,d=0,f=t[e++],g=new Int32Array(4096),y=null;;){for(;c<16&&f!==0;)h|=t[e++]<<c,c+=8,f===1?f=t[e++]:--f;if(c<l)break;var x=h&u;if(h>>=l,c-=l,x!==s){if(x===o)break;for(var p=x<a?x:y,v=0,b=p;b>s;)b=g[b]>>8,++v;var w=b;if(d+v+(p!==x?1:0)>n)return void Zt.log("Warning, gif stream longer than expected.");r[d++]=w;var N=d+=v;for(p!==x&&(r[d++]=w),b=p;v--;)b=g[b],r[--N]=255&b,b>>=8;y!==null&&a<4096&&(g[a++]=y<<8|w,a>=u+1&&l<12&&(++l,u=u<<1|1)),y=x}else a=o+1,u=(1<<(l=i+1))-1,y=null}return d!==n&&Zt.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function w0(t){var e,r,n,i,s,o=Math.floor,a=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),h=new Array(65535),d=new Array(65535),f=new Array(64),g=new Array(64),y=[],x=0,p=7,v=new Array(64),b=new Array(64),w=new Array(64),N=new Array(256),j=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],z=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],H=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],A=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ie=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function he(C,q){for(var $=0,se=0,J=new Array,O=1;O<=16;O++){for(var I=1;I<=C[O];I++)J[q[se]]=[],J[q[se]][0]=$,J[q[se]][1]=O,se++,$++;$*=2}return J}function te(C){for(var q=C[0],$=C[1]-1;$>=0;)q&1<<$&&(x|=1<<p),$--,--p<0&&(x==255?(re(255),re(0)):re(x),p=7,x=0)}function re(C){y.push(C)}function ae(C){re(C>>8&255),re(255&C)}function ve(C,q,$,se,J){for(var O,I=J[0],Q=J[240],Y=function(R,oe){var de,fe,Se,Ce,Ne,Oe,We,Ve,Ke,ct,Je=0;for(Ke=0;Ke<8;++Ke){de=R[Je],fe=R[Je+1],Se=R[Je+2],Ce=R[Je+3],Ne=R[Je+4],Oe=R[Je+5],We=R[Je+6];var Gt=de+(Ve=R[Je+7]),at=de-Ve,bt=fe+We,kt=fe-We,Rt=Se+Oe,ot=Se-Oe,$t=Ce+Ne,ft=Ce-Ne,gt=Gt+$t,Jt=Gt-$t,xt=bt+Rt,lt=bt-Rt;R[Je]=gt+xt,R[Je+4]=gt-xt;var jt=.707106781*(lt+Jt);R[Je+2]=Jt+jt,R[Je+6]=Jt-jt;var Ba=.382683433*((gt=ft+ot)-(lt=kt+at)),vn=.5411961*gt+Ba,zs=1.306562965*lt+Ba,fs=.707106781*(xt=ot+kt),ht=at+fs,Us=at-fs;R[Je+5]=Us+vn,R[Je+3]=Us-vn,R[Je+1]=ht+zs,R[Je+7]=ht-zs,Je+=8}for(Je=0,Ke=0;Ke<8;++Ke){de=R[Je],fe=R[Je+8],Se=R[Je+16],Ce=R[Je+24],Ne=R[Je+32],Oe=R[Je+40],We=R[Je+48];var qs=de+(Ve=R[Je+56]),vi=de-Ve,wi=fe+We,pr=fe-We,Gr=Se+Oe,rn=Se-Oe,ja=Ce+Ne,Lo=Ce-Ne,zi=qs+ja,hs=qs-ja,Ui=wi+Gr,qi=wi-Gr;R[Je]=zi+Ui,R[Je+32]=zi-Ui;var bi=.707106781*(qi+hs);R[Je+16]=hs+bi,R[Je+48]=hs-bi;var za=.382683433*((zi=Lo+rn)-(qi=pr+vi)),ds=.5411961*zi+za,Ua=1.306562965*qi+za,Gl=.707106781*(Ui=rn+pr),Jl=vi+Gl,Yl=vi-Gl;R[Je+40]=Yl+ds,R[Je+24]=Yl-ds,R[Je+8]=Jl+Ua,R[Je+56]=Jl-Ua,Je++}for(Ke=0;Ke<64;++Ke)ct=R[Ke]*oe[Ke],f[Ke]=ct>0?ct+.5|0:ct-.5|0;return f}(C,q),V=0;V<64;++V)g[F[V]]=Y[V];var X=g[0]-$;$=g[0],X==0?te(se[0]):(te(se[d[O=32767+X]]),te(h[O]));for(var ye=63;ye>0&&g[ye]==0;)ye--;if(ye==0)return te(I),$;for(var M,W=1;W<=ye;){for(var D=W;g[W]==0&&W<=ye;)++W;var k=W-D;if(k>=16){M=k>>4;for(var _=1;_<=M;++_)te(Q);k&=15}O=32767+g[W],te(J[(k<<4)+d[O]]),te(h[O]),W++}return ye!=63&&te(I),$}function le(C){C=Math.min(Math.max(C,1),100),s!=C&&(function(q){for(var $=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],se=0;se<64;se++){var J=o(($[se]*q+50)/100);J=Math.min(Math.max(J,1),255),a[F[se]]=J}for(var O=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],I=0;I<64;I++){var Q=o((O[I]*q+50)/100);Q=Math.min(Math.max(Q,1),255),l[F[I]]=Q}for(var Y=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],V=0,X=0;X<8;X++)for(var ye=0;ye<8;ye++)u[V]=1/(a[F[V]]*Y[X]*Y[ye]*8),c[V]=1/(l[F[V]]*Y[X]*Y[ye]*8),V++}(C<50?Math.floor(5e3/C):Math.floor(200-2*C)),s=C)}this.encode=function(C,q){q&&le(q),y=new Array,x=0,p=7,ae(65496),ae(65504),ae(16),re(74),re(70),re(73),re(70),re(0),re(1),re(1),re(0),ae(1),ae(1),re(0),re(0),function(){ae(65499),ae(132),re(0);for(var fe=0;fe<64;fe++)re(a[fe]);re(1);for(var Se=0;Se<64;Se++)re(l[Se])}(),function(fe,Se){ae(65472),ae(17),re(8),ae(Se),ae(fe),re(3),re(1),re(17),re(0),re(2),re(17),re(1),re(3),re(17),re(1)}(C.width,C.height),function(){ae(65476),ae(418),re(0);for(var fe=0;fe<16;fe++)re(z[fe+1]);for(var Se=0;Se<=11;Se++)re(T[Se]);re(16);for(var Ce=0;Ce<16;Ce++)re(Z[Ce+1]);for(var Ne=0;Ne<=161;Ne++)re(H[Ne]);re(1);for(var Oe=0;Oe<16;Oe++)re(L[Oe+1]);for(var We=0;We<=11;We++)re(U[We]);re(17);for(var Ve=0;Ve<16;Ve++)re(A[Ve+1]);for(var Ke=0;Ke<=161;Ke++)re(ie[Ke])}(),ae(65498),ae(12),re(3),re(1),re(0),re(2),re(17),re(3),re(17),re(0),re(63),re(0);var $=0,se=0,J=0;x=0,p=7,this.encode.displayName="_encode_";for(var O,I,Q,Y,V,X,ye,M,W,D=C.data,k=C.width,_=C.height,R=4*k,oe=0;oe<_;){for(O=0;O<R;){for(V=R*oe+O,ye=-1,M=0,W=0;W<64;W++)X=V+(M=W>>3)*R+(ye=4*(7&W)),oe+M>=_&&(X-=R*(oe+1+M-_)),O+ye>=R&&(X-=O+ye-R+4),I=D[X++],Q=D[X++],Y=D[X++],v[W]=(j[I]+j[Q+256|0]+j[Y+512|0]>>16)-128,b[W]=(j[I+768|0]+j[Q+1024|0]+j[Y+1280|0]>>16)-128,w[W]=(j[I+1280|0]+j[Q+1536|0]+j[Y+1792|0]>>16)-128;$=ve(v,u,$,e,n),se=ve(b,c,se,r,i),J=ve(w,c,J,r,i),O+=32}oe+=8}if(p>=0){var de=[];de[1]=p+1,de[0]=(1<<p+1)-1,te(de)}return ae(65497),new Uint8Array(y)},t=t||50,function(){for(var C=String.fromCharCode,q=0;q<256;q++)N[q]=C(q)}(),e=he(z,T),r=he(L,U),n=he(Z,H),i=he(A,ie),function(){for(var C=1,q=2,$=1;$<=15;$++){for(var se=C;se<q;se++)d[32767+se]=$,h[32767+se]=[],h[32767+se][1]=$,h[32767+se][0]=se;for(var J=-(q-1);J<=-C;J++)d[32767+J]=$,h[32767+J]=[],h[32767+J][1]=$,h[32767+J][0]=q-1+J;C<<=1,q<<=1}}(),function(){for(var C=0;C<256;C++)j[C]=19595*C,j[C+256|0]=38470*C,j[C+512|0]=7471*C+32768,j[C+768|0]=-11059*C,j[C+1024|0]=-21709*C,j[C+1280|0]=32768*C+8421375,j[C+1536|0]=-27439*C,j[C+1792|0]=-5329*C}(),le(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ji(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function M4(t){function e(T){if(!T)throw Error("assert :P")}function r(T,Z,H){for(var L=0;4>L;L++)if(T[Z+L]!=H.charCodeAt(L))return!0;return!1}function n(T,Z,H,L,U){for(var A=0;A<U;A++)T[Z+A]=H[L+A]}function i(T,Z,H,L){for(var U=0;U<L;U++)T[Z+U]=H}function s(T){return new Int32Array(T)}function o(T,Z){for(var H=[],L=0;L<T;L++)H.push(new Z);return H}function a(T,Z){var H=[];return function L(U,A,ie){for(var he=ie[A],te=0;te<he&&(U.push(ie.length>A+1?[]:new Z),!(ie.length<A+1));te++)L(U[te],A+1,ie)}(H,0,T),H}var l=function(){var T=this;function Z(m,S){for(var P=1<<S-1>>>0;m&P;)P>>>=1;return P?(m&P-1)+P:m}function H(m,S,P,B,G){e(!(B%P));do m[S+(B-=P)]=G;while(0<B)}function L(m,S,P,B,G){if(e(2328>=G),512>=G)var ee=s(512);else if((ee=s(G))==null)return 0;return function(ne,ue,ce,pe,be,Ee){var me,xe,_e=ue,Te=1<<ce,Ae=s(16),Le=s(16);for(e(be!=0),e(pe!=null),e(ne!=null),e(0<ce),xe=0;xe<be;++xe){if(15<pe[xe])return 0;++Ae[pe[xe]]}if(Ae[0]==be)return 0;for(Le[1]=0,me=1;15>me;++me){if(Ae[me]>1<<me)return 0;Le[me+1]=Le[me]+Ae[me]}for(xe=0;xe<be;++xe)me=pe[xe],0<pe[xe]&&(Ee[Le[me]++]=xe);if(Le[15]==1)return(pe=new U).g=0,pe.value=Ee[0],H(ne,_e,1,Te,pe),Te;var Re,qe=-1,De=Te-1,it=0,Xe=1,Et=1,tt=1<<ce;for(xe=0,me=1,be=2;me<=ce;++me,be<<=1){if(Xe+=Et<<=1,0>(Et-=Ae[me]))return 0;for(;0<Ae[me];--Ae[me])(pe=new U).g=me,pe.value=Ee[xe++],H(ne,_e+it,be,tt,pe),it=Z(it,me)}for(me=ce+1,be=2;15>=me;++me,be<<=1){if(Xe+=Et<<=1,0>(Et-=Ae[me]))return 0;for(;0<Ae[me];--Ae[me]){if(pe=new U,(it&De)!=qe){for(_e+=tt,Re=1<<(qe=me)-ce;15>qe&&!(0>=(Re-=Ae[qe]));)++qe,Re<<=1;Te+=tt=1<<(Re=qe-ce),ne[ue+(qe=it&De)].g=Re+ce,ne[ue+qe].value=_e-ue-qe}pe.g=me-ce,pe.value=Ee[xe++],H(ne,_e+(it>>ce),be,tt,pe),it=Z(it,me)}}return Xe!=2*Le[15]-1?0:Te}(m,S,P,B,G,ee)}function U(){this.value=this.g=0}function A(){this.value=this.g=0}function ie(){this.G=o(5,U),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Za,A)}function he(m,S,P,B){e(m!=null),e(S!=null),e(2147483648>B),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=S,m.pa=P,m.Jd=S,m.Yc=P+B,m.Zc=4<=B?P+B-4+1:P,I(m)}function te(m,S){for(var P=0;0<S--;)P|=Y(m,128)<<S;return P}function re(m,S){var P=te(m,S);return Q(m)?-P:P}function ae(m,S,P,B){var G,ee=0;for(e(m!=null),e(S!=null),e(4294967288>B),m.Sb=B,m.Ra=0,m.u=0,m.h=0,4<B&&(B=4),G=0;G<B;++G)ee+=S[P+G]<<8*G;m.Ra=ee,m.bb=B,m.oa=S,m.pa=P}function ve(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<Io-8>>>0,++m.bb,m.u-=8;se(m)&&(m.h=1,m.u=0)}function le(m,S){if(e(0<=S),!m.h&&S<=ei){var P=$(m)&Qn[S];return m.u+=S,ve(m),P}return m.h=1,m.u=0}function C(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function $(m){return m.Ra>>>(m.u&Io-1)>>>0}function se(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>Io}function J(m,S){m.u=S,m.h=se(m)}function O(m){m.u>=Qs&&(e(m.u>=Qs),ve(m))}function I(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function Q(m){return te(m,1)}function Y(m,S){var P=m.Ca;0>m.b&&I(m);var B=m.b,G=P*S>>>8,ee=(m.I>>>B>G)+0;for(ee?(P-=G,m.I-=G+1<<B>>>0):P=G+1,B=P,G=0;256<=B;)G+=8,B>>=8;return B=7^G+Mo[B],m.b-=B,m.Ca=(P<<B)-1,ee}function V(m,S,P){m[S+0]=P>>24&255,m[S+1]=P>>16&255,m[S+2]=P>>8&255,m[S+3]=255&P}function X(m,S){return m[S+0]|m[S+1]<<8}function ye(m,S){return X(m,S)|m[S+2]<<16}function M(m,S){return X(m,S)|X(m,S+2)<<16}function W(m,S){var P=1<<S;return e(m!=null),e(0<S),m.X=s(P),m.X==null?0:(m.Mb=32-S,m.Xa=S,1)}function D(m,S){e(m!=null),e(S!=null),e(m.Xa==S.Xa),n(S.X,0,m.X,0,1<<S.Xa)}function k(){this.X=[],this.Xa=this.Mb=0}function _(m,S,P,B){e(P!=null),e(B!=null);var G=P[0],ee=B[0];return G==0&&(G=(m*ee+S/2)/S),ee==0&&(ee=(S*G+m/2)/m),0>=G||0>=ee?0:(P[0]=G,B[0]=ee,1)}function R(m,S){return m+(1<<S)-1>>>S}function oe(m,S){return((4278255360&m)+(4278255360&S)>>>0&4278255360)+((16711935&m)+(16711935&S)>>>0&16711935)>>>0}function de(m,S){T[S]=function(P,B,G,ee,ne,ue,ce){var pe;for(pe=0;pe<ne;++pe){var be=T[m](ue[ce+pe-1],G,ee+pe);ue[ce+pe]=oe(P[B+pe],be)}}}function fe(){this.ud=this.hd=this.jd=0}function Se(m,S){return((4278124286&(m^S))>>>1)+(m&S)>>>0}function Ce(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function Ne(m,S){return Ce(m+(m-S+.5>>1))}function Oe(m,S,P){return Math.abs(S-P)-Math.abs(m-P)}function We(m,S,P,B,G,ee,ne){for(B=ee[ne-1],P=0;P<G;++P)ee[ne+P]=B=oe(m[S+P],B)}function Ve(m,S,P,B,G){var ee;for(ee=0;ee<P;++ee){var ne=m[S+ee],ue=ne>>8&255,ce=16711935&(ce=(ce=16711935&ne)+((ue<<16)+ue));B[G+ee]=(4278255360&ne)+ce>>>0}}function Ke(m,S){S.jd=255&m,S.hd=m>>8&255,S.ud=m>>16&255}function ct(m,S,P,B,G,ee){var ne;for(ne=0;ne<B;++ne){var ue=S[P+ne],ce=ue>>>8,pe=ue,be=255&(be=(be=ue>>>16)+((m.jd<<24>>24)*(ce<<24>>24)>>>5));pe=255&(pe=(pe+=(m.hd<<24>>24)*(ce<<24>>24)>>>5)+((m.ud<<24>>24)*(be<<24>>24)>>>5)),G[ee+ne]=(4278255360&ue)+(be<<16)+pe}}function Je(m,S,P,B,G){T[S]=function(ee,ne,ue,ce,pe,be,Ee,me,xe){for(ce=Ee;ce<me;++ce)for(Ee=0;Ee<xe;++Ee)pe[be++]=G(ue[B(ee[ne++])])},T[m]=function(ee,ne,ue,ce,pe,be,Ee){var me=8>>ee.b,xe=ee.Ea,_e=ee.K[0],Te=ee.w;if(8>me)for(ee=(1<<ee.b)-1,Te=(1<<me)-1;ne<ue;++ne){var Ae,Le=0;for(Ae=0;Ae<xe;++Ae)Ae&ee||(Le=B(ce[pe++])),be[Ee++]=G(_e[Le&Te]),Le>>=me}else T["VP8LMapColor"+P](ce,pe,_e,Te,be,Ee,ne,ue,xe)}}function Gt(m,S,P,B,G){for(P=S+P;S<P;){var ee=m[S++];B[G++]=ee>>16&255,B[G++]=ee>>8&255,B[G++]=255&ee}}function at(m,S,P,B,G){for(P=S+P;S<P;){var ee=m[S++];B[G++]=ee>>16&255,B[G++]=ee>>8&255,B[G++]=255&ee,B[G++]=ee>>24&255}}function bt(m,S,P,B,G){for(P=S+P;S<P;){var ee=(ne=m[S++])>>16&240|ne>>12&15,ne=240&ne|ne>>28&15;B[G++]=ee,B[G++]=ne}}function kt(m,S,P,B,G){for(P=S+P;S<P;){var ee=(ne=m[S++])>>16&248|ne>>13&7,ne=ne>>5&224|ne>>3&31;B[G++]=ee,B[G++]=ne}}function Rt(m,S,P,B,G){for(P=S+P;S<P;){var ee=m[S++];B[G++]=255&ee,B[G++]=ee>>8&255,B[G++]=ee>>16&255}}function ot(m,S,P,B,G,ee){if(ee==0)for(P=S+P;S<P;)V(B,((ee=m[S++])[0]>>24|ee[1]>>8&65280|ee[2]<<8&16711680|ee[3]<<24)>>>0),G+=32;else n(B,G,m,S,P)}function $t(m,S){T[S][0]=T[m+"0"],T[S][1]=T[m+"1"],T[S][2]=T[m+"2"],T[S][3]=T[m+"3"],T[S][4]=T[m+"4"],T[S][5]=T[m+"5"],T[S][6]=T[m+"6"],T[S][7]=T[m+"7"],T[S][8]=T[m+"8"],T[S][9]=T[m+"9"],T[S][10]=T[m+"10"],T[S][11]=T[m+"11"],T[S][12]=T[m+"12"],T[S][13]=T[m+"13"],T[S][14]=T[m+"0"],T[S][15]=T[m+"0"]}function ft(m){return m==zg||m==Ug||m==fd||m==qg}function gt(){this.eb=[],this.size=this.A=this.fb=0}function Jt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function xt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new gt,this.f.kb=new Jt,this.sd=null}function lt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function jt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ba(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function vn(m,S){var P=m.T,B=S.ba.f.RGBA,G=B.eb,ee=B.fb+m.ka*B.A,ne=Ei[S.ba.S],ue=m.y,ce=m.O,pe=m.f,be=m.N,Ee=m.ea,me=m.W,xe=S.cc,_e=S.dc,Te=S.Mc,Ae=S.Nc,Le=m.ka,Re=m.ka+m.T,qe=m.U,De=qe+1>>1;for(Le==0?ne(ue,ce,null,null,pe,be,Ee,me,pe,be,Ee,me,G,ee,null,null,qe):(ne(S.ec,S.fc,ue,ce,xe,_e,Te,Ae,pe,be,Ee,me,G,ee-B.A,G,ee,qe),++P);Le+2<Re;Le+=2)xe=pe,_e=be,Te=Ee,Ae=me,be+=m.Rc,me+=m.Rc,ee+=2*B.A,ne(ue,(ce+=2*m.fa)-m.fa,ue,ce,xe,_e,Te,Ae,pe,be,Ee,me,G,ee-B.A,G,ee,qe);return ce+=m.fa,m.j+Re<m.o?(n(S.ec,S.fc,ue,ce,qe),n(S.cc,S.dc,pe,be,De),n(S.Mc,S.Nc,Ee,me,De),P--):1&Re||ne(ue,ce,null,null,pe,be,Ee,me,pe,be,Ee,me,G,ee+B.A,null,null,qe),P}function zs(m,S,P){var B=m.F,G=[m.J];if(B!=null){var ee=m.U,ne=S.ba.S,ue=ne==cd||ne==fd;S=S.ba.f.RGBA;var ce=[0],pe=m.ka;ce[0]=m.T,m.Kb&&(pe==0?--ce[0]:(--pe,G[0]-=m.width),m.j+m.ka+m.T==m.o&&(ce[0]=m.o-m.j-pe));var be=S.eb;pe=S.fb+pe*S.A,m=Y5(B,G[0],m.width,ee,ce,be,pe+(ue?0:3),S.A),e(P==ce),m&&ft(ne)&&Zc(be,pe,ue,ee,ce,S.A)}return 0}function fs(m){var S=m.ma,P=S.ba.S,B=11>P,G=P==ld||P==ud||P==cd||P==jg||P==12||ft(P);if(S.memory=null,S.Ib=null,S.Jb=null,S.Nd=null,!Hc(S.Oa,m,G?11:12))return 0;if(G&&ft(P)&&Uc(),m.da)alert("todo:use_scaling");else{if(B){if(S.Ib=Ba,m.Kb){if(P=m.U+1>>1,S.memory=s(m.U+2*P),S.memory==null)return 0;S.ec=S.memory,S.fc=0,S.cc=S.ec,S.dc=S.fc+m.U,S.Mc=S.cc,S.Nc=S.dc+P,S.Ib=vn,Uc()}}else alert("todo:EmitYUV");G&&(S.Jb=zs,B&&Hi())}if(B&&!hb){for(m=0;256>m;++m)hT[m]=89858*(m-128)+dd>>hd,mT[m]=-22014*(m-128)+dd,pT[m]=-45773*(m-128),dT[m]=113618*(m-128)+dd>>hd;for(m=ef;m<Vg;++m)S=76283*(m-16)+dd>>hd,gT[m-ef]=ps(S,255),yT[m-ef]=ps(S+8>>4,15);hb=1}return 1}function ht(m){var S=m.ma,P=m.U,B=m.T;return e(!(1&m.ka)),0>=P||0>=B?0:(P=S.Ib(m,S),S.Jb!=null&&S.Jb(m,S,P),S.Dc+=P,1)}function Us(m){m.ma.memory=null}function qs(m,S,P,B){return le(m,8)!=47?0:(S[0]=le(m,14)+1,P[0]=le(m,14)+1,B[0]=le(m,1),le(m,3)!=0?0:!m.h)}function vi(m,S){if(4>m)return m+1;var P=m-2>>1;return(2+(1&m)<<P)+le(S,P)+1}function wi(m,S){return 120<S?S-120:1<=(P=((P=ZC[S-1])>>4)*m+(8-(15&P)))?P:1;var P}function pr(m,S,P){var B=$(P),G=m[S+=255&B].g-8;return 0<G&&(J(P,P.u+8),B=$(P),S+=m[S].value,S+=B&(1<<G)-1),J(P,P.u+m[S].g),m[S].value}function Gr(m,S,P){return P.g+=m.g,P.value+=m.value<<S>>>0,e(8>=P.g),m.g}function rn(m,S,P){var B=m.xc;return e((S=B==0?0:m.vc[m.md*(P>>B)+(S>>B)])<m.Wb),m.Ya[S]}function ja(m,S,P,B){var G=m.ab,ee=m.c*S,ne=m.C;S=ne+S;var ue=P,ce=B;for(B=m.Ta,P=m.Ua;0<G--;){var pe=m.gc[G],be=ne,Ee=S,me=ue,xe=ce,_e=(ce=B,ue=P,pe.Ea);switch(e(be<Ee),e(Ee<=pe.nc),pe.hc){case 2:Sr(me,xe,(Ee-be)*_e,ce,ue);break;case 0:var Te=be,Ae=Ee,Le=ce,Re=ue,qe=(tt=pe).Ea;Te==0&&($c(me,xe,null,null,1,Le,Re),We(me,xe+1,0,0,qe-1,Le,Re+1),xe+=qe,Re+=qe,++Te);for(var De=1<<tt.b,it=De-1,Xe=R(qe,tt.b),Et=tt.K,tt=tt.w+(Te>>tt.b)*Xe;Te<Ae;){var Pt=Et,Wr=tt,Nt=1;for(iu(me,xe,Le,Re-qe,1,Le,Re);Nt<qe;){var rt=(Nt&~it)+De;rt>qe&&(rt=qe),(0,Gc[Pt[Wr++]>>8&15])(me,xe+ +Nt,Le,Re+Nt-qe,rt-Nt,Le,Re+Nt),Nt=rt}xe+=qe,Re+=qe,++Te&it||(tt+=Xe)}Ee!=pe.nc&&n(ce,ue-_e,ce,ue+(Ee-be-1)*_e,_e);break;case 1:for(_e=me,Ae=xe,qe=(me=pe.Ea)-(Re=me&~(Le=(xe=1<<pe.b)-1)),Te=R(me,pe.b),De=pe.K,pe=pe.w+(be>>pe.b)*Te;be<Ee;){for(it=De,Xe=pe,Et=new fe,tt=Ae+Re,Pt=Ae+me;Ae<tt;)Ke(it[Xe++],Et),Jc(Et,_e,Ae,xe,ce,ue),Ae+=xe,ue+=xe;Ae<Pt&&(Ke(it[Xe++],Et),Jc(Et,_e,Ae,qe,ce,ue),Ae+=qe,ue+=qe),++be&Le||(pe+=Te)}break;case 3:if(me==ce&&xe==ue&&0<pe.b){for(Ae=ce,me=_e=ue+(Ee-be)*_e-(Re=(Ee-be)*R(pe.Ea,pe.b)),xe=ce,Le=ue,Te=[],Re=(qe=Re)-1;0<=Re;--Re)Te[Re]=xe[Le+Re];for(Re=qe-1;0<=Re;--Re)Ae[me+Re]=Te[Re];id(pe,be,Ee,ce,_e,ce,ue)}else id(pe,be,Ee,me,xe,ce,ue)}ue=B,ce=P}ce!=P&&n(B,P,ue,ce,ee)}function Lo(m,S){var P=m.V,B=m.Ba+m.c*m.C,G=S-m.C;if(e(S<=m.l.o),e(16>=G),0<G){var ee=m.l,ne=m.Ta,ue=m.Ua,ce=ee.width;if(ja(m,G,P,B),G=ue=[ue],e((P=m.C)<(B=S)),e(ee.v<ee.va),B>ee.o&&(B=ee.o),P<ee.j){var pe=ee.j-P;P=ee.j,G[0]+=pe*ce}if(P>=B?P=0:(G[0]+=4*ee.v,ee.ka=P-ee.j,ee.U=ee.va-ee.v,ee.T=B-P,P=1),P){if(ue=ue[0],11>(P=m.ca).S){var be=P.f.RGBA,Ee=(B=P.S,G=ee.U,ee=ee.T,pe=be.eb,be.A),me=ee;for(be=be.fb+m.Ma*be.A;0<me--;){var xe=ne,_e=ue,Te=G,Ae=pe,Le=be;switch(B){case ad:Yc(xe,_e,Te,Ae,Le);break;case ld:Do(xe,_e,Te,Ae,Le);break;case zg:Do(xe,_e,Te,Ae,Le),Zc(Ae,Le,0,Te,1,0);break;case nb:Qa(xe,_e,Te,Ae,Le);break;case ud:ot(xe,_e,Te,Ae,Le,1);break;case Ug:ot(xe,_e,Te,Ae,Le,1),Zc(Ae,Le,0,Te,1,0);break;case cd:ot(xe,_e,Te,Ae,Le,0);break;case fd:ot(xe,_e,Te,Ae,Le,0),Zc(Ae,Le,1,Te,1,0);break;case jg:Fo(xe,_e,Te,Ae,Le);break;case qg:Fo(xe,_e,Te,Ae,Le),J5(Ae,Le,Te,1,0);break;case ib:Bo(xe,_e,Te,Ae,Le);break;default:e(0)}ue+=ce,be+=Ee}m.Ma+=ee}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=P.height)}}m.C=S,e(m.C<=m.i)}function zi(m){var S;if(0<m.ua)return 0;for(S=0;S<m.Wb;++S){var P=m.Ya[S].G,B=m.Ya[S].H;if(0<P[1][B[1]+0].g||0<P[2][B[2]+0].g||0<P[3][B[3]+0].g)return 0}return 1}function hs(m,S,P,B,G,ee){if(m.Z!=0){var ne=m.qd,ue=m.rd;for(e(Uo[m.Z]!=null);S<P;++S)Uo[m.Z](ne,ue,B,G,B,G,ee),ne=B,ue=G,G+=ee;m.qd=ne,m.rd=ue}}function Ui(m,S){var P=m.l.ma,B=P.Z==0||P.Z==1?m.l.j:m.C;if(B=m.C<B?B:m.C,e(S<=m.l.o),S>B){var G=m.l.width,ee=P.ca,ne=P.tb+G*B,ue=m.V,ce=m.Ba+m.c*B,pe=m.gc;e(m.ab==1),e(pe[0].hc==3),vs(pe[0],B,S,ue,ce,ee,ne),hs(P,B,S,ee,ne,G)}m.C=m.Ma=S}function qi(m,S,P,B,G,ee,ne){var ue=m.$/B,ce=m.$%B,pe=m.m,be=m.s,Ee=P+m.$,me=Ee;G=P+B*G;var xe=P+B*ee,_e=280+be.ua,Te=m.Pb?ue:16777216,Ae=0<be.ua?be.Wa:null,Le=be.wc,Re=Ee<xe?rn(be,ce,ue):null;e(m.C<ee),e(xe<=G);var qe=!1;e:for(;;){for(;qe||Ee<xe;){var De=0;if(ue>=Te){var it=Ee-P;e((Te=m).Pb),Te.wd=Te.m,Te.xd=it,0<Te.s.ua&&D(Te.s.Wa,Te.s.vb),Te=ue+eT}if(ce&Le||(Re=rn(be,ce,ue)),e(Re!=null),Re.Qb&&(S[Ee]=Re.qb,qe=!0),!qe)if(O(pe),Re.jc){De=pe,it=S;var Xe=Ee,Et=Re.pd[$(De)&Za-1];e(Re.jc),256>Et.g?(J(De,De.u+Et.g),it[Xe]=Et.value,De=0):(J(De,De.u+Et.g-256),e(256<=Et.value),De=Et.value),De==0&&(qe=!0)}else De=pr(Re.G[0],Re.H[0],pe);if(pe.h)break;if(qe||256>De){if(!qe)if(Re.nd)S[Ee]=(Re.qb|De<<8)>>>0;else{if(O(pe),qe=pr(Re.G[1],Re.H[1],pe),O(pe),it=pr(Re.G[2],Re.H[2],pe),Xe=pr(Re.G[3],Re.H[3],pe),pe.h)break;S[Ee]=(Xe<<24|qe<<16|De<<8|it)>>>0}if(qe=!1,++Ee,++ce>=B&&(ce=0,++ue,ne!=null&&ue<=ee&&!(ue%16)&&ne(m,ue),Ae!=null))for(;me<Ee;)De=S[me++],Ae.X[(506832829*De&4294967295)>>>Ae.Mb]=De}else if(280>De){if(De=vi(De-256,pe),it=pr(Re.G[4],Re.H[4],pe),O(pe),it=wi(B,it=vi(it,pe)),pe.h)break;if(Ee-P<it||G-Ee<De)break e;for(Xe=0;Xe<De;++Xe)S[Ee+Xe]=S[Ee+Xe-it];for(Ee+=De,ce+=De;ce>=B;)ce-=B,++ue,ne!=null&&ue<=ee&&!(ue%16)&&ne(m,ue);if(e(Ee<=G),ce&Le&&(Re=rn(be,ce,ue)),Ae!=null)for(;me<Ee;)De=S[me++],Ae.X[(506832829*De&4294967295)>>>Ae.Mb]=De}else{if(!(De<_e))break e;for(qe=De-280,e(Ae!=null);me<Ee;)De=S[me++],Ae.X[(506832829*De&4294967295)>>>Ae.Mb]=De;De=Ee,e(!(qe>>>(it=Ae).Xa)),S[De]=it.X[qe],qe=!0}qe||e(pe.h==se(pe))}if(m.Pb&&pe.h&&Ee<G)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&D(m.s.vb,m.s.Wa);else{if(pe.h)break e;ne!=null&&ne(m,ue>ee?ee:ue),m.a=0,m.$=Ee-P}return 1}return m.a=3,0}function bi(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var S=m.Wa;S!=null&&(S.X=null),m.vb=null,e(m!=null)}function za(){var m=new mt;return m==null?null:(m.a=0,m.xb=ab,$t("Predictor","VP8LPredictors"),$t("Predictor","VP8LPredictors_C"),$t("PredictorAdd","VP8LPredictorsAdd"),$t("PredictorAdd","VP8LPredictorsAdd_C"),Sr=Ve,Jc=ct,Yc=Gt,Do=at,Fo=bt,Bo=kt,Qa=Rt,T.VP8LMapColor32b=ys,T.VP8LMapColor8b=Kc,m)}function ds(m,S,P,B,G){var ee=1,ne=[m],ue=[S],ce=B.m,pe=B.s,be=null,Ee=0;e:for(;;){if(P)for(;ee&&le(ce,1);){var me=ne,xe=ue,_e=B,Te=1,Ae=_e.m,Le=_e.gc[_e.ab],Re=le(Ae,2);if(_e.Oc&1<<Re)ee=0;else{switch(_e.Oc|=1<<Re,Le.hc=Re,Le.Ea=me[0],Le.nc=xe[0],Le.K=[null],++_e.ab,e(4>=_e.ab),Re){case 0:case 1:Le.b=le(Ae,3)+2,Te=ds(R(Le.Ea,Le.b),R(Le.nc,Le.b),0,_e,Le.K),Le.K=Le.K[0];break;case 3:var qe,De=le(Ae,8)+1,it=16<De?0:4<De?1:2<De?2:3;if(me[0]=R(Le.Ea,it),Le.b=it,qe=Te=ds(De,1,0,_e,Le.K)){var Xe,Et=De,tt=Le,Pt=1<<(8>>tt.b),Wr=s(Pt);if(Wr==null)qe=0;else{var Nt=tt.K[0],rt=tt.w;for(Wr[0]=tt.K[0][0],Xe=1;Xe<1*Et;++Xe)Wr[Xe]=oe(Nt[rt+Xe],Wr[Xe-1]);for(;Xe<4*Pt;++Xe)Wr[Xe]=0;tt.K[0]=null,tt.K[0]=Wr,qe=1}}Te=qe;break;case 2:break;default:e(0)}ee=Te}}if(ne=ne[0],ue=ue[0],ee&&le(ce,1)&&!(ee=1<=(Ee=le(ce,4))&&11>=Ee)){B.a=3;break e}var $e;if($e=ee)t:{var _r,_t,It,nr=B,on=ne,Rn=ue,mr=Ee,wn=P,In=nr.m,Hr=nr.s,Ft=[null],qt=1,gr=0,Wt=QC[mr];r:for(;;){if(wn&&le(In,1)){var an=le(In,3)+2,$i=R(on,an),Ar=R(Rn,an),Wn=$i*Ar;if(!ds($i,Ar,0,nr,Ft))break r;for(Ft=Ft[0],Hr.xc=an,_r=0;_r<Wn;++_r){var Xt=Ft[_r]>>8&65535;Ft[_r]=Xt,Xt>=qt&&(qt=Xt+1)}}if(In.h)break r;for(_t=0;5>_t;++_t){var Vr=sb[_t];!_t&&0<mr&&(Vr+=1<<mr),gr<Vr&&(gr=Vr)}var ri=o(qt*Wt,U),Mn=qt,ni=o(Mn,ie);if(ni==null)var ii=null;else e(65536>=Mn),ii=ni;var Hn=s(gr);if(ii==null||Hn==null||ri==null){nr.a=1;break r}var si=ri;for(_r=It=0;_r<qt;++_r){var tr=ii[_r],oi=tr.G,Ki=tr.H,tl=0,ro=1,ln=0;for(_t=0;5>_t;++_t){Vr=sb[_t],oi[_t]=si,Ki[_t]=It,!_t&&0<mr&&(Vr+=1<<mr);i:{var md,$g=Vr,gd=nr,tf=Hn,bT=si,xT=It,Kg=0,qo=gd.m,ST=le(qo,1);if(i(tf,0,0,$g),ST){var kT=le(qo,1)+1,_T=le(qo,1),mb=le(qo,_T==0?1:8);tf[mb]=1,kT==2&&(tf[mb=le(qo,8)]=1);var yd=1}else{var gb=s(19),yb=le(qo,4)+4;if(19<yb){gd.a=3;var vd=0;break i}for(md=0;md<yb;++md)gb[XC[md]]=le(qo,3);var Gg=void 0,rf=void 0,vb=gd,AT=gb,wd=$g,wb=tf,Jg=0,Wo=vb.m,bb=8,xb=o(128,U);n:for(;L(xb,0,7,AT,19);){if(le(Wo,1)){var ET=2+2*le(Wo,3);if((Gg=2+le(Wo,ET))>wd)break n}else Gg=wd;for(rf=0;rf<wd&&Gg--;){O(Wo);var Sb=xb[0+(127&$(Wo))];J(Wo,Wo.u+Sb.g);var ou=Sb.value;if(16>ou)wb[rf++]=ou,ou!=0&&(bb=ou);else{var NT=ou==16,kb=ou-16,CT=JC[kb],_b=le(Wo,GC[kb])+CT;if(rf+_b>wd)break n;for(var TT=NT?bb:0;0<_b--;)wb[rf++]=TT}}Jg=1;break n}Jg||(vb.a=3),yd=Jg}(yd=yd&&!qo.h)&&(Kg=L(bT,xT,8,tf,$g)),yd&&Kg!=0?vd=Kg:(gd.a=3,vd=0)}if(vd==0)break r;if(ro&&YC[_t]==1&&(ro=si[It].g==0),tl+=si[It].g,It+=vd,3>=_t){var nf,Yg=Hn[0];for(nf=1;nf<Vr;++nf)Hn[nf]>Yg&&(Yg=Hn[nf]);ln+=Yg}}if(tr.nd=ro,tr.Qb=0,ro&&(tr.qb=(oi[3][Ki[3]+0].value<<24|oi[1][Ki[1]+0].value<<16|oi[2][Ki[2]+0].value)>>>0,tl==0&&256>oi[0][Ki[0]+0].value&&(tr.Qb=1,tr.qb+=oi[0][Ki[0]+0].value<<8)),tr.jc=!tr.Qb&&6>ln,tr.jc){var bd,no=tr;for(bd=0;bd<Za;++bd){var Ho=bd,Vo=no.pd[Ho],xd=no.G[0][no.H[0]+Ho];256<=xd.value?(Vo.g=xd.g+256,Vo.value=xd.value):(Vo.g=0,Vo.value=0,Ho>>=Gr(xd,8,Vo),Ho>>=Gr(no.G[1][no.H[1]+Ho],16,Vo),Ho>>=Gr(no.G[2][no.H[2]+Ho],0,Vo),Gr(no.G[3][no.H[3]+Ho],24,Vo))}}}Hr.vc=Ft,Hr.Wb=qt,Hr.Ya=ii,Hr.yc=ri,$e=1;break t}$e=0}if(!(ee=$e)){B.a=3;break e}if(0<Ee){if(pe.ua=1<<Ee,!W(pe.Wa,Ee)){B.a=1,ee=0;break e}}else pe.ua=0;var Xg=B,Ab=ne,LT=ue,Zg=Xg.s,Qg=Zg.xc;if(Xg.c=Ab,Xg.i=LT,Zg.md=R(Ab,Qg),Zg.wc=Qg==0?-1:(1<<Qg)-1,P){B.xb=aT;break e}if((be=s(ne*ue))==null){B.a=1,ee=0;break e}ee=(ee=qi(B,be,0,ne,ue,ue,null))&&!ce.h;break e}return ee?(G!=null?G[0]=be:(e(be==null),e(P)),B.$=0,P||bi(pe)):bi(pe),ee}function Ua(m,S){var P=m.c*m.i,B=P+S+16*S;return e(m.c<=S),m.V=s(B),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+P+S,1)}function Gl(m,S){var P=m.C,B=S-P,G=m.V,ee=m.Ba+m.c*P;for(e(S<=m.l.o);0<B;){var ne=16<B?16:B,ue=m.l.ma,ce=m.l.width,pe=ce*ne,be=ue.ca,Ee=ue.tb+ce*P,me=m.Ta,xe=m.Ua;ja(m,ne,G,ee),X5(me,xe,be,Ee,pe),hs(ue,P,P+ne,be,Ee,ce),B-=ne,G+=ne*m.c,P+=ne}e(P==S),m.C=m.Ma=S}function Jl(){this.ub=this.yd=this.td=this.Rb=0}function Yl(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Sg(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Lc(){this.Yb=function(){var m=[];return function S(P,B,G){for(var ee=G[B],ne=0;ne<ee&&(P.push(G.length>B+1?[]:0),!(G.length<B+1));ne++)S(P[ne],B+1,G)}(m,0,[3,11]),m}()}function zh(){this.jb=s(3),this.Wc=a([4,8],Lc),this.Xc=a([4,17],Lc)}function Uh(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function xi(){this.ld=this.La=this.dd=this.tc=0}function Oc(){this.Na=this.la=0}function qh(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Pc(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Wh(){this.uc=this.M=this.Nb=0,this.wa=Array(new xi),this.Y=0,this.ya=Array(new Pc),this.aa=0,this.l=new Xl}function Hh(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Vh(){this.cb=this.a=0,this.sc="",this.m=new C,this.Od=new Jl,this.Kc=new Yl,this.ed=new Uh,this.Qa=new Sg,this.Ic=this.$c=this.Aa=0,this.D=new Wh,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,C),this.ia=0,this.pb=o(4,qh),this.Pa=new zh,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Hh),this.Hd=0,this.rb=Array(new Oc),this.sb=0,this.wa=Array(new xi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Pc),this.L=this.aa=0,this.gd=a([4,2],xi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ps(m,S){return 0>m?0:m>S?S:m}function Xl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function kg(){var m=new Vh;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,Qc||(Qc=Zl)),m}function Pr(m,S,P){return m.a==0&&(m.a=S,m.sc=P,m.cb=0),0}function $h(m,S,P){return 3<=P&&m[S+0]==157&&m[S+1]==1&&m[S+2]==42}function ms(m,S){if(m==null)return 0;if(m.a=0,m.sc="OK",S==null)return Pr(m,2,"null VP8Io passed to VP8GetHeaders()");var P=S.data,B=S.w,G=S.ha;if(4>G)return Pr(m,7,"Truncated header.");var ee=P[B+0]|P[B+1]<<8|P[B+2]<<16,ne=m.Od;if(ne.Rb=!(1&ee),ne.td=ee>>1&7,ne.yd=ee>>4&1,ne.ub=ee>>5,3<ne.td)return Pr(m,3,"Incorrect keyframe parameters.");if(!ne.yd)return Pr(m,4,"Frame not displayable.");B+=3,G-=3;var ue=m.Kc;if(ne.Rb){if(7>G)return Pr(m,7,"cannot parse picture header");if(!$h(P,B,G))return Pr(m,3,"Bad code word");ue.c=16383&(P[B+4]<<8|P[B+3]),ue.Td=P[B+4]>>6,ue.i=16383&(P[B+6]<<8|P[B+5]),ue.Ud=P[B+6]>>6,B+=7,G-=7,m.za=ue.c+15>>4,m.Ub=ue.i+15>>4,S.width=ue.c,S.height=ue.i,S.Da=0,S.j=0,S.v=0,S.va=S.width,S.o=S.height,S.da=0,S.ib=S.width,S.hb=S.height,S.U=S.width,S.T=S.height,i((ee=m.Pa).jb,0,255,ee.jb.length),e((ee=m.Qa)!=null),ee.Cb=0,ee.Bb=0,ee.Fb=1,i(ee.Zb,0,0,ee.Zb.length),i(ee.Lb,0,0,ee.Lb)}if(ne.ub>G)return Pr(m,7,"bad partition length");he(ee=m.m,P,B,ne.ub),B+=ne.ub,G-=ne.ub,ne.Rb&&(ue.Ld=Q(ee),ue.Kd=Q(ee)),ue=m.Qa;var ce,pe=m.Pa;if(e(ee!=null),e(ue!=null),ue.Cb=Q(ee),ue.Cb){if(ue.Bb=Q(ee),Q(ee)){for(ue.Fb=Q(ee),ce=0;4>ce;++ce)ue.Zb[ce]=Q(ee)?re(ee,7):0;for(ce=0;4>ce;++ce)ue.Lb[ce]=Q(ee)?re(ee,6):0}if(ue.Bb)for(ce=0;3>ce;++ce)pe.jb[ce]=Q(ee)?te(ee,8):255}else ue.Bb=0;if(ee.Ka)return Pr(m,3,"cannot parse segment header");if((ue=m.ed).zd=Q(ee),ue.Tb=te(ee,6),ue.wb=te(ee,3),ue.Pc=Q(ee),ue.Pc&&Q(ee)){for(pe=0;4>pe;++pe)Q(ee)&&(ue.vd[pe]=re(ee,6));for(pe=0;4>pe;++pe)Q(ee)&&(ue.od[pe]=re(ee,6))}if(m.L=ue.Tb==0?0:ue.zd?1:2,ee.Ka)return Pr(m,3,"cannot parse filter header");var be=G;if(G=ce=B,B=ce+be,ue=be,m.Xb=(1<<te(m.m,2))-1,be<3*(pe=m.Xb))P=7;else{for(ce+=3*pe,ue-=3*pe,be=0;be<pe;++be){var Ee=P[G+0]|P[G+1]<<8|P[G+2]<<16;Ee>ue&&(Ee=ue),he(m.Jc[+be],P,ce,Ee),ce+=Ee,ue-=Ee,G+=3}he(m.Jc[+pe],P,ce,ue),P=ce<B?0:5}if(P!=0)return Pr(m,P,"cannot parse partitions");for(P=te(ce=m.m,7),G=Q(ce)?re(ce,4):0,B=Q(ce)?re(ce,4):0,ue=Q(ce)?re(ce,4):0,pe=Q(ce)?re(ce,4):0,ce=Q(ce)?re(ce,4):0,be=m.Qa,Ee=0;4>Ee;++Ee){if(be.Cb){var me=be.Zb[Ee];be.Fb||(me+=P)}else{if(0<Ee){m.pb[Ee]=m.pb[0];continue}me=P}var xe=m.pb[Ee];xe.Sc[0]=Wg[ps(me+G,127)],xe.Sc[1]=Hg[ps(me+0,127)],xe.Eb[0]=2*Wg[ps(me+B,127)],xe.Eb[1]=101581*Hg[ps(me+ue,127)]>>16,8>xe.Eb[1]&&(xe.Eb[1]=8),xe.Qc[0]=Wg[ps(me+pe,117)],xe.Qc[1]=Hg[ps(me+ce,127)],xe.lc=me+ce}if(!ne.Rb)return Pr(m,4,"Not a key frame.");for(Q(ee),ne=m.Pa,P=0;4>P;++P){for(G=0;8>G;++G)for(B=0;3>B;++B)for(ue=0;11>ue;++ue)pe=Y(ee,sT[P][G][B][ue])?te(ee,8):nT[P][G][B][ue],ne.Wc[P][G].Yb[B][ue]=pe;for(G=0;17>G;++G)ne.Xc[P][G]=ne.Wc[P][oT[G]]}return m.kc=Q(ee),m.kc&&(m.Bd=te(ee,8)),m.cb=1}function Zl(m,S,P,B,G,ee,ne){var ue=S[G].Yb[P];for(P=0;16>G;++G){if(!Y(m,ue[P+0]))return G;for(;!Y(m,ue[P+1]);)if(ue=S[++G].Yb[0],P=0,G==16)return 16;var ce=S[G+1].Yb;if(Y(m,ue[P+2])){var pe=m,be=0;if(Y(pe,(me=ue)[(Ee=P)+3]))if(Y(pe,me[Ee+6])){for(ue=0,Ee=2*(be=Y(pe,me[Ee+8]))+(me=Y(pe,me[Ee+9+be])),be=0,me=tT[Ee];me[ue];++ue)be+=be+Y(pe,me[ue]);be+=3+(8<<Ee)}else Y(pe,me[Ee+7])?(be=7+2*Y(pe,165),be+=Y(pe,145)):be=5+Y(pe,159);else be=Y(pe,me[Ee+4])?3+Y(pe,me[Ee+5]):2;ue=ce[2]}else be=1,ue=ce[1];ce=ne+rT[G],0>(pe=m).b&&I(pe);var Ee,me=pe.b,xe=(Ee=pe.Ca>>1)-(pe.I>>me)>>31;--pe.b,pe.Ca+=xe,pe.Ca|=1,pe.I-=(Ee+1&xe)<<me,ee[ce]=((be^xe)-xe)*B[(0<G)+0]}return 16}function Kh(m){var S=m.rb[m.sb-1];S.la=0,S.Na=0,i(m.zc,0,0,m.zc.length),m.ja=0}function Si(m,S,P,B,G){G=m[S+P+32*B]+(G>>3),m[S+P+32*B]=-256&G?0>G?0:255:G}function zr(m,S,P,B,G,ee){Si(m,S,0,P,B+G),Si(m,S,1,P,B+ee),Si(m,S,2,P,B-ee),Si(m,S,3,P,B-G)}function Ws(m){return(20091*m>>16)+m}function Gh(m,S,P,B){var G,ee=0,ne=s(16);for(G=0;4>G;++G){var ue=m[S+0]+m[S+8],ce=m[S+0]-m[S+8],pe=(35468*m[S+4]>>16)-Ws(m[S+12]),be=Ws(m[S+4])+(35468*m[S+12]>>16);ne[ee+0]=ue+be,ne[ee+1]=ce+pe,ne[ee+2]=ce-pe,ne[ee+3]=ue-be,ee+=4,S++}for(G=ee=0;4>G;++G)ue=(m=ne[ee+0]+4)+ne[ee+8],ce=m-ne[ee+8],pe=(35468*ne[ee+4]>>16)-Ws(ne[ee+12]),Si(P,B,0,0,ue+(be=Ws(ne[ee+4])+(35468*ne[ee+12]>>16))),Si(P,B,1,0,ce+pe),Si(P,B,2,0,ce-pe),Si(P,B,3,0,ue-be),ee++,B+=32}function _g(m,S,P,B){var G=m[S+0]+4,ee=35468*m[S+4]>>16,ne=Ws(m[S+4]),ue=35468*m[S+1]>>16;zr(P,B,0,G+ne,m=Ws(m[S+1]),ue),zr(P,B,1,G+ee,m,ue),zr(P,B,2,G-ee,m,ue),zr(P,B,3,G-ne,m,ue)}function Ag(m,S,P,B,G){Gh(m,S,P,B),G&&Gh(m,S+16,P,B+4)}function gs(m,S,P,B){el(m,S+0,P,B,1),el(m,S+32,P,B+128,1)}function Jh(m,S,P,B){var G;for(m=m[S+0]+4,G=0;4>G;++G)for(S=0;4>S;++S)Si(P,B,S,G,m)}function Yh(m,S,P,B){m[S+0]&&zt(m,S+0,P,B),m[S+16]&&zt(m,S+16,P,B+4),m[S+32]&&zt(m,S+32,P,B+128),m[S+48]&&zt(m,S+48,P,B+128+4)}function Ql(m,S,P,B){var G,ee=s(16);for(G=0;4>G;++G){var ne=m[S+0+G]+m[S+12+G],ue=m[S+4+G]+m[S+8+G],ce=m[S+4+G]-m[S+8+G],pe=m[S+0+G]-m[S+12+G];ee[0+G]=ne+ue,ee[8+G]=ne-ue,ee[4+G]=pe+ce,ee[12+G]=pe-ce}for(G=0;4>G;++G)ne=(m=ee[0+4*G]+3)+ee[3+4*G],ue=ee[1+4*G]+ee[2+4*G],ce=ee[1+4*G]-ee[2+4*G],pe=m-ee[3+4*G],P[B+0]=ne+ue>>3,P[B+16]=pe+ce>>3,P[B+32]=ne-ue>>3,P[B+48]=pe-ce>>3,B+=64}function qa(m,S,P){var B,G=S-32,ee=ti,ne=255-m[G-1];for(B=0;B<P;++B){var ue,ce=ee,pe=ne+m[S-1];for(ue=0;ue<P;++ue)m[S+ue]=ce[pe+m[G+ue]];S+=32}}function Eg(m,S){qa(m,S,4)}function Ng(m,S){qa(m,S,8)}function Cg(m,S){qa(m,S,16)}function Rc(m,S){var P;for(P=0;16>P;++P)n(m,S+32*P,m,S-32,16)}function Xh(m,S){var P;for(P=16;0<P;--P)i(m,S,m[S-1],16),S+=32}function Wi(m,S,P){var B;for(B=0;16>B;++B)i(S,P+32*B,m,16)}function Tg(m,S){var P,B=16;for(P=0;16>P;++P)B+=m[S-1+32*P]+m[S+P-32];Wi(B>>5,m,S)}function Wa(m,S){var P,B=8;for(P=0;16>P;++P)B+=m[S-1+32*P];Wi(B>>4,m,S)}function Ic(m,S){var P,B=8;for(P=0;16>P;++P)B+=m[S+P-32];Wi(B>>4,m,S)}function Lg(m,S){Wi(128,m,S)}function yt(m,S,P){return m+2*S+P+2>>2}function Og(m,S){var P,B=S-32;for(B=new Uint8Array([yt(m[B-1],m[B+0],m[B+1]),yt(m[B+0],m[B+1],m[B+2]),yt(m[B+1],m[B+2],m[B+3]),yt(m[B+2],m[B+3],m[B+4])]),P=0;4>P;++P)n(m,S+32*P,B,0,B.length)}function Pg(m,S){var P=m[S-1],B=m[S-1+32],G=m[S-1+64],ee=m[S-1+96];V(m,S+0,16843009*yt(m[S-1-32],P,B)),V(m,S+32,16843009*yt(P,B,G)),V(m,S+64,16843009*yt(B,G,ee)),V(m,S+96,16843009*yt(G,ee,ee))}function Rg(m,S){var P,B=4;for(P=0;4>P;++P)B+=m[S+P-32]+m[S-1+32*P];for(B>>=3,P=0;4>P;++P)i(m,S+32*P,B,4)}function Hs(m,S){var P=m[S-1+0],B=m[S-1+32],G=m[S-1+64],ee=m[S-1-32],ne=m[S+0-32],ue=m[S+1-32],ce=m[S+2-32],pe=m[S+3-32];m[S+0+96]=yt(B,G,m[S-1+96]),m[S+1+96]=m[S+0+64]=yt(P,B,G),m[S+2+96]=m[S+1+64]=m[S+0+32]=yt(ee,P,B),m[S+3+96]=m[S+2+64]=m[S+1+32]=m[S+0+0]=yt(ne,ee,P),m[S+3+64]=m[S+2+32]=m[S+1+0]=yt(ue,ne,ee),m[S+3+32]=m[S+2+0]=yt(ce,ue,ne),m[S+3+0]=yt(pe,ce,ue)}function Vs(m,S){var P=m[S+1-32],B=m[S+2-32],G=m[S+3-32],ee=m[S+4-32],ne=m[S+5-32],ue=m[S+6-32],ce=m[S+7-32];m[S+0+0]=yt(m[S+0-32],P,B),m[S+1+0]=m[S+0+32]=yt(P,B,G),m[S+2+0]=m[S+1+32]=m[S+0+64]=yt(B,G,ee),m[S+3+0]=m[S+2+32]=m[S+1+64]=m[S+0+96]=yt(G,ee,ne),m[S+3+32]=m[S+2+64]=m[S+1+96]=yt(ee,ne,ue),m[S+3+64]=m[S+2+96]=yt(ne,ue,ce),m[S+3+96]=yt(ue,ce,ce)}function Ig(m,S){var P=m[S-1+0],B=m[S-1+32],G=m[S-1+64],ee=m[S-1-32],ne=m[S+0-32],ue=m[S+1-32],ce=m[S+2-32],pe=m[S+3-32];m[S+0+0]=m[S+1+64]=ee+ne+1>>1,m[S+1+0]=m[S+2+64]=ne+ue+1>>1,m[S+2+0]=m[S+3+64]=ue+ce+1>>1,m[S+3+0]=ce+pe+1>>1,m[S+0+96]=yt(G,B,P),m[S+0+64]=yt(B,P,ee),m[S+0+32]=m[S+1+96]=yt(P,ee,ne),m[S+1+32]=m[S+2+96]=yt(ee,ne,ue),m[S+2+32]=m[S+3+96]=yt(ne,ue,ce),m[S+3+32]=yt(ue,ce,pe)}function Mg(m,S){var P=m[S+0-32],B=m[S+1-32],G=m[S+2-32],ee=m[S+3-32],ne=m[S+4-32],ue=m[S+5-32],ce=m[S+6-32],pe=m[S+7-32];m[S+0+0]=P+B+1>>1,m[S+1+0]=m[S+0+64]=B+G+1>>1,m[S+2+0]=m[S+1+64]=G+ee+1>>1,m[S+3+0]=m[S+2+64]=ee+ne+1>>1,m[S+0+32]=yt(P,B,G),m[S+1+32]=m[S+0+96]=yt(B,G,ee),m[S+2+32]=m[S+1+96]=yt(G,ee,ne),m[S+3+32]=m[S+2+96]=yt(ee,ne,ue),m[S+3+64]=yt(ne,ue,ce),m[S+3+96]=yt(ue,ce,pe)}function eu(m,S){var P=m[S-1+0],B=m[S-1+32],G=m[S-1+64],ee=m[S-1+96];m[S+0+0]=P+B+1>>1,m[S+2+0]=m[S+0+32]=B+G+1>>1,m[S+2+32]=m[S+0+64]=G+ee+1>>1,m[S+1+0]=yt(P,B,G),m[S+3+0]=m[S+1+32]=yt(B,G,ee),m[S+3+32]=m[S+1+64]=yt(G,ee,ee),m[S+3+64]=m[S+2+64]=m[S+0+96]=m[S+1+96]=m[S+2+96]=m[S+3+96]=ee}function Mc(m,S){var P=m[S-1+0],B=m[S-1+32],G=m[S-1+64],ee=m[S-1+96],ne=m[S-1-32],ue=m[S+0-32],ce=m[S+1-32],pe=m[S+2-32];m[S+0+0]=m[S+2+32]=P+ne+1>>1,m[S+0+32]=m[S+2+64]=B+P+1>>1,m[S+0+64]=m[S+2+96]=G+B+1>>1,m[S+0+96]=ee+G+1>>1,m[S+3+0]=yt(ue,ce,pe),m[S+2+0]=yt(ne,ue,ce),m[S+1+0]=m[S+3+32]=yt(P,ne,ue),m[S+1+32]=m[S+3+64]=yt(B,P,ne),m[S+1+64]=m[S+3+96]=yt(G,B,P),m[S+1+96]=yt(ee,G,B)}function Ha(m,S){var P;for(P=0;8>P;++P)n(m,S+32*P,m,S-32,8)}function Dg(m,S){var P;for(P=0;8>P;++P)i(m,S,m[S-1],8),S+=32}function $s(m,S,P){var B;for(B=0;8>B;++B)i(S,P+32*B,m,8)}function Fg(m,S){var P,B=8;for(P=0;8>P;++P)B+=m[S+P-32]+m[S-1+32*P];$s(B>>4,m,S)}function Dc(m,S){var P,B=4;for(P=0;8>P;++P)B+=m[S+P-32];$s(B>>3,m,S)}function Fc(m,S){var P,B=4;for(P=0;8>P;++P)B+=m[S-1+32*P];$s(B>>3,m,S)}function Zh(m,S){$s(128,m,S)}function Ks(m,S,P){var B=m[S-P],G=m[S+0],ee=3*(G-B)+Bg[1020+m[S-2*P]-m[S+P]],ne=od[112+(ee+4>>3)];m[S-P]=ti[255+B+od[112+(ee+3>>3)]],m[S+0]=ti[255+G-ne]}function Bc(m,S,P,B){var G=m[S+0],ee=m[S+P];return Ai[255+m[S-2*P]-m[S-P]]>B||Ai[255+ee-G]>B}function tu(m,S,P,B){return 4*Ai[255+m[S-P]-m[S+0]]+Ai[255+m[S-2*P]-m[S+P]]<=B}function jc(m,S,P,B,G){var ee=m[S-3*P],ne=m[S-2*P],ue=m[S-P],ce=m[S+0],pe=m[S+P],be=m[S+2*P],Ee=m[S+3*P];return 4*Ai[255+ue-ce]+Ai[255+ne-pe]>B?0:Ai[255+m[S-4*P]-ee]<=G&&Ai[255+ee-ne]<=G&&Ai[255+ne-ue]<=G&&Ai[255+Ee-be]<=G&&Ai[255+be-pe]<=G&&Ai[255+pe-ce]<=G}function Va(m,S,P,B){var G=2*B+1;for(B=0;16>B;++B)tu(m,S+B,P,G)&&Ks(m,S+B,P)}function zc(m,S,P,B){var G=2*B+1;for(B=0;16>B;++B)tu(m,S+B*P,1,G)&&Ks(m,S+B*P,1)}function Qh(m,S,P,B){var G;for(G=3;0<G;--G)Va(m,S+=4*P,P,B)}function ed(m,S,P,B){var G;for(G=3;0<G;--G)zc(m,S+=4,P,B)}function Gs(m,S,P,B,G,ee,ne,ue){for(ee=2*ee+1;0<G--;){if(jc(m,S,P,ee,ne))if(Bc(m,S,P,ue))Ks(m,S,P);else{var ce=m,pe=S,be=P,Ee=ce[pe-2*be],me=ce[pe-be],xe=ce[pe+0],_e=ce[pe+be],Te=ce[pe+2*be],Ae=27*(Re=Bg[1020+3*(xe-me)+Bg[1020+Ee-_e]])+63>>7,Le=18*Re+63>>7,Re=9*Re+63>>7;ce[pe-3*be]=ti[255+ce[pe-3*be]+Re],ce[pe-2*be]=ti[255+Ee+Le],ce[pe-be]=ti[255+me+Ae],ce[pe+0]=ti[255+xe-Ae],ce[pe+be]=ti[255+_e-Le],ce[pe+2*be]=ti[255+Te-Re]}S+=B}}function Js(m,S,P,B,G,ee,ne,ue){for(ee=2*ee+1;0<G--;){if(jc(m,S,P,ee,ne))if(Bc(m,S,P,ue))Ks(m,S,P);else{var ce=m,pe=S,be=P,Ee=ce[pe-be],me=ce[pe+0],xe=ce[pe+be],_e=od[112+(4+(Te=3*(me-Ee))>>3)],Te=od[112+(Te+3>>3)],Ae=_e+1>>1;ce[pe-2*be]=ti[255+ce[pe-2*be]+Ae],ce[pe-be]=ti[255+Ee+Te],ce[pe+0]=ti[255+me-_e],ce[pe+be]=ti[255+xe-Ae]}S+=B}}function td(m,S,P,B,G,ee){Gs(m,S,P,1,16,B,G,ee)}function $a(m,S,P,B,G,ee){Gs(m,S,1,P,16,B,G,ee)}function rd(m,S,P,B,G,ee){var ne;for(ne=3;0<ne;--ne)Js(m,S+=4*P,P,1,16,B,G,ee)}function E(m,S,P,B,G,ee){var ne;for(ne=3;0<ne;--ne)Js(m,S+=4,1,P,16,B,G,ee)}function K(m,S,P,B,G,ee,ne,ue){Gs(m,S,G,1,8,ee,ne,ue),Gs(P,B,G,1,8,ee,ne,ue)}function ge(m,S,P,B,G,ee,ne,ue){Gs(m,S,1,G,8,ee,ne,ue),Gs(P,B,1,G,8,ee,ne,ue)}function we(m,S,P,B,G,ee,ne,ue){Js(m,S+4*G,G,1,8,ee,ne,ue),Js(P,B+4*G,G,1,8,ee,ne,ue)}function ke(m,S,P,B,G,ee,ne,ue){Js(m,S+4,1,G,8,ee,ne,ue),Js(P,B+4,1,G,8,ee,ne,ue)}function Pe(){this.ba=new xt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new jt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Me(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Qe(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function nt(){this.ua=0,this.Wa=new k,this.vb=new k,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ie,this.yc=new U}function mt(){this.xb=this.a=0,this.l=new Xl,this.ca=new xt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new q,this.Pb=0,this.wd=new q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new nt,this.ab=0,this.gc=o(4,Qe),this.Oc=0}function At(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Xl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Dt(m,S,P,B,G,ee,ne){for(m=m==null?0:m[S+0],S=0;S<ne;++S)G[ee+S]=m+P[B+S]&255,m=G[ee+S]}function ur(m,S,P,B,G,ee,ne){var ue;if(m==null)Dt(null,null,P,B,G,ee,ne);else for(ue=0;ue<ne;++ue)G[ee+ue]=m[S+ue]+P[B+ue]&255}function Rr(m,S,P,B,G,ee,ne){if(m==null)Dt(null,null,P,B,G,ee,ne);else{var ue,ce=m[S+0],pe=ce,be=ce;for(ue=0;ue<ne;++ue)pe=be+(ce=m[S+ue])-pe,be=P[B+ue]+(-256&pe?0>pe?0:255:pe)&255,pe=ce,G[ee+ue]=be}}function er(m,S,P,B){var G=S.width,ee=S.o;if(e(m!=null&&S!=null),0>P||0>=B||P+B>ee)return null;if(!m.Cc){if(m.ga==null){var ne;if(m.ga=new At,(ne=m.ga==null)||(ne=S.width*S.o,e(m.Gb.length==0),m.Gb=s(ne),m.Uc=0,m.Gb==null?ne=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,ne=1),ne=!ne),!ne){ne=m.ga;var ue=m.Fa,ce=m.P,pe=m.qc,be=m.mb,Ee=m.nb,me=ce+1,xe=pe-1,_e=ne.l;if(e(ue!=null&&be!=null&&S!=null),Uo[0]=null,Uo[1]=Dt,Uo[2]=ur,Uo[3]=Rr,ne.ca=be,ne.tb=Ee,ne.c=S.width,ne.i=S.height,e(0<ne.c&&0<ne.i),1>=pe)S=0;else if(ne.$a=3&ue[ce+0],ne.Z=ue[ce+0]>>2&3,ne.Lc=ue[ce+0]>>4&3,ce=ue[ce+0]>>6&3,0>ne.$a||1<ne.$a||4<=ne.Z||1<ne.Lc||ce)S=0;else if(_e.put=ht,_e.ac=fs,_e.bc=Us,_e.ma=ne,_e.width=S.width,_e.height=S.height,_e.Da=S.Da,_e.v=S.v,_e.va=S.va,_e.j=S.j,_e.o=S.o,ne.$a)e:{e(ne.$a==1),S=za();t:for(;;){if(S==null){S=0;break e}if(e(ne!=null),ne.mc=S,S.c=ne.c,S.i=ne.i,S.l=ne.l,S.l.ma=ne,S.l.width=ne.c,S.l.height=ne.i,S.a=0,ae(S.m,ue,me,xe),!ds(ne.c,ne.i,1,S,null)||(S.ab==1&&S.gc[0].hc==3&&zi(S.s)?(ne.ic=1,ue=S.c*S.i,S.Ta=null,S.Ua=0,S.V=s(ue),S.Ba=0,S.V==null?(S.a=1,S=0):S=1):(ne.ic=0,S=Ua(S,ne.c)),!S))break t;S=1;break e}ne.mc=null,S=0}else S=xe>=ne.c*ne.i;ne=!S}if(ne)return null;m.ga.Lc!=1?m.Ga=0:B=ee-P}e(m.ga!=null),e(P+B<=ee);e:{if(S=(ue=m.ga).c,ee=ue.l.o,ue.$a==0){if(me=m.rc,xe=m.Vc,_e=m.Fa,ce=m.P+1+P*S,pe=m.mb,be=m.nb+P*S,e(ce<=m.P+m.qc),ue.Z!=0)for(e(Uo[ue.Z]!=null),ne=0;ne<B;++ne)Uo[ue.Z](me,xe,_e,ce,pe,be,S),me=pe,xe=be,be+=S,ce+=S;else for(ne=0;ne<B;++ne)n(pe,be,_e,ce,S),me=pe,xe=be,be+=S,ce+=S;m.rc=me,m.Vc=xe}else{if(e(ue.mc!=null),S=P+B,e((ne=ue.mc)!=null),e(S<=ne.i),ne.C>=S)S=1;else if(ue.ic||Hi(),ue.ic){ue=ne.V,me=ne.Ba,xe=ne.c;var Te=ne.i,Ae=(_e=1,ce=ne.$/xe,pe=ne.$%xe,be=ne.m,Ee=ne.s,ne.$),Le=xe*Te,Re=xe*S,qe=Ee.wc,De=Ae<Re?rn(Ee,pe,ce):null;e(Ae<=Le),e(S<=Te),e(zi(Ee));t:for(;;){for(;!be.h&&Ae<Re;){if(pe&qe||(De=rn(Ee,pe,ce)),e(De!=null),O(be),256>(Te=pr(De.G[0],De.H[0],be)))ue[me+Ae]=Te,++Ae,++pe>=xe&&(pe=0,++ce<=S&&!(ce%16)&&Ui(ne,ce));else{if(!(280>Te)){_e=0;break t}Te=vi(Te-256,be);var it,Xe=pr(De.G[4],De.H[4],be);if(O(be),!(Ae>=(Xe=wi(xe,Xe=vi(Xe,be)))&&Le-Ae>=Te)){_e=0;break t}for(it=0;it<Te;++it)ue[me+Ae+it]=ue[me+Ae+it-Xe];for(Ae+=Te,pe+=Te;pe>=xe;)pe-=xe,++ce<=S&&!(ce%16)&&Ui(ne,ce);Ae<Re&&pe&qe&&(De=rn(Ee,pe,ce))}e(be.h==se(be))}Ui(ne,ce>S?S:ce);break t}!_e||be.h&&Ae<Le?(_e=0,ne.a=be.h?5:3):ne.$=Ae,S=_e}else S=qi(ne,ne.V,ne.Ba,ne.c,ne.i,S,Gl);if(!S){B=0;break e}}P+B>=ee&&(m.Cc=1),B=1}if(!B)return null;if(m.Cc&&((B=m.ga)!=null&&(B.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+P*G}function Ur(m,S,P,B,G,ee){for(;0<G--;){var ne,ue=m,ce=S+(P?1:0),pe=m,be=S+(P?0:3);for(ne=0;ne<B;++ne){var Ee=pe[be+4*ne];Ee!=255&&(Ee*=32897,ue[ce+4*ne+0]=ue[ce+4*ne+0]*Ee>>23,ue[ce+4*ne+1]=ue[ce+4*ne+1]*Ee>>23,ue[ce+4*ne+2]=ue[ce+4*ne+2]*Ee>>23)}S+=ee}}function Ir(m,S,P,B,G){for(;0<B--;){var ee;for(ee=0;ee<P;++ee){var ne=m[S+2*ee+0],ue=15&(pe=m[S+2*ee+1]),ce=4369*ue,pe=(240&pe|pe>>4)*ce>>16;m[S+2*ee+0]=(240&ne|ne>>4)*ce>>16&240|(15&ne|ne<<4)*ce>>16>>4&15,m[S+2*ee+1]=240&pe|ue}S+=G}}function nn(m,S,P,B,G,ee,ne,ue){var ce,pe,be=255;for(pe=0;pe<G;++pe){for(ce=0;ce<B;++ce){var Ee=m[S+ce];ee[ne+4*ce]=Ee,be&=Ee}S+=P,ne+=ue}return be!=255}function Ys(m,S,P,B,G){var ee;for(ee=0;ee<G;++ee)P[B+ee]=m[S+ee]>>8}function Hi(){Zc=Ur,J5=Ir,Y5=nn,X5=Ys}function Xs(m,S,P){T[m]=function(B,G,ee,ne,ue,ce,pe,be,Ee,me,xe,_e,Te,Ae,Le,Re,qe){var De,it=qe-1>>1,Xe=ue[ce+0]|pe[be+0]<<16,Et=Ee[me+0]|xe[_e+0]<<16;e(B!=null);var tt=3*Xe+Et+131074>>2;for(S(B[G+0],255&tt,tt>>16,Te,Ae),ee!=null&&(tt=3*Et+Xe+131074>>2,S(ee[ne+0],255&tt,tt>>16,Le,Re)),De=1;De<=it;++De){var Pt=ue[ce+De]|pe[be+De]<<16,Wr=Ee[me+De]|xe[_e+De]<<16,Nt=Xe+Pt+Et+Wr+524296,rt=Nt+2*(Pt+Et)>>3;tt=rt+Xe>>1,Xe=(Nt=Nt+2*(Xe+Wr)>>3)+Pt>>1,S(B[G+2*De-1],255&tt,tt>>16,Te,Ae+(2*De-1)*P),S(B[G+2*De-0],255&Xe,Xe>>16,Te,Ae+(2*De-0)*P),ee!=null&&(tt=Nt+Et>>1,Xe=rt+Wr>>1,S(ee[ne+2*De-1],255&tt,tt>>16,Le,Re+(2*De-1)*P),S(ee[ne+2*De+0],255&Xe,Xe>>16,Le,Re+(2*De+0)*P)),Xe=Pt,Et=Wr}1&qe||(tt=3*Xe+Et+131074>>2,S(B[G+qe-1],255&tt,tt>>16,Te,Ae+(qe-1)*P),ee!=null&&(tt=3*Et+Xe+131074>>2,S(ee[ne+qe-1],255&tt,tt>>16,Le,Re+(qe-1)*P)))}}function Uc(){Ei[ad]=lT,Ei[ld]=lb,Ei[nb]=uT,Ei[ud]=ub,Ei[cd]=cb,Ei[jg]=fb,Ei[ib]=cT,Ei[zg]=lb,Ei[Ug]=ub,Ei[fd]=cb,Ei[qg]=fb}function ru(m){return m&-16384?0>m?0:255:m>>fT}function Oo(m,S){return ru((19077*m>>8)+(26149*S>>8)-14234)}function Ka(m,S,P){return ru((19077*m>>8)-(6419*S>>8)-(13320*P>>8)+8708)}function Ga(m,S){return ru((19077*m>>8)+(33050*S>>8)-17685)}function Po(m,S,P,B,G){B[G+0]=Oo(m,P),B[G+1]=Ka(m,S,P),B[G+2]=Ga(m,S)}function sn(m,S,P,B,G){B[G+0]=Ga(m,S),B[G+1]=Ka(m,S,P),B[G+2]=Oo(m,P)}function Ja(m,S,P,B,G){var ee=Ka(m,S,P);S=ee<<3&224|Ga(m,S)>>3,B[G+0]=248&Oo(m,P)|ee>>5,B[G+1]=S}function Ya(m,S,P,B,G){var ee=240&Ga(m,S)|15;B[G+0]=240&Oo(m,P)|Ka(m,S,P)>>4,B[G+1]=ee}function qc(m,S,P,B,G){B[G+0]=255,Po(m,S,P,B,G+1)}function Wc(m,S,P,B,G){sn(m,S,P,B,G),B[G+3]=255}function Pn(m,S,P,B,G){Po(m,S,P,B,G),B[G+3]=255}function Zs(m,S,P){T[m]=function(B,G,ee,ne,ue,ce,pe,be,Ee){for(var me=be+(-2&Ee)*P;be!=me;)S(B[G+0],ee[ne+0],ue[ce+0],pe,be),S(B[G+1],ee[ne+0],ue[ce+0],pe,be+P),G+=2,++ne,++ce,be+=2*P;1&Ee&&S(B[G+0],ee[ne+0],ue[ce+0],pe,be)}}function nu(m,S,P){return P==0?m==0?S==0?6:5:S==0?4:0:P}function nd(m,S,P,B,G){switch(m>>>30){case 3:el(S,P,B,G,0);break;case 2:_i(S,P,B,G);break;case 1:zt(S,P,B,G)}}function ki(m,S){var P,B,G=S.M,ee=S.Nb,ne=m.oc,ue=m.pc+40,ce=m.oc,pe=m.pc+584,be=m.oc,Ee=m.pc+600;for(P=0;16>P;++P)ne[ue+32*P-1]=129;for(P=0;8>P;++P)ce[pe+32*P-1]=129,be[Ee+32*P-1]=129;for(0<G?ne[ue-1-32]=ce[pe-1-32]=be[Ee-1-32]=129:(i(ne,ue-32-1,127,21),i(ce,pe-32-1,127,9),i(be,Ee-32-1,127,9)),B=0;B<m.za;++B){var me=S.ya[S.aa+B];if(0<B){for(P=-1;16>P;++P)n(ne,ue+32*P-4,ne,ue+32*P+12,4);for(P=-1;8>P;++P)n(ce,pe+32*P-4,ce,pe+32*P+4,4),n(be,Ee+32*P-4,be,Ee+32*P+4,4)}var xe=m.Gd,_e=m.Hd+B,Te=me.ad,Ae=me.Hc;if(0<G&&(n(ne,ue-32,xe[_e].y,0,16),n(ce,pe-32,xe[_e].f,0,8),n(be,Ee-32,xe[_e].ea,0,8)),me.Za){var Le=ne,Re=ue-32+16;for(0<G&&(B>=m.za-1?i(Le,Re,xe[_e].y[15],4):n(Le,Re,xe[_e+1].y,0,4)),P=0;4>P;P++)Le[Re+128+P]=Le[Re+256+P]=Le[Re+384+P]=Le[Re+0+P];for(P=0;16>P;++P,Ae<<=2)Le=ne,Re=ue+db[P],Vi[me.Ob[P]](Le,Re),nd(Ae,Te,16*+P,Le,Re)}else if(Le=nu(B,G,me.Ob[0]),zo[Le](ne,ue),Ae!=0)for(P=0;16>P;++P,Ae<<=2)nd(Ae,Te,16*+P,ne,ue+db[P]);for(P=me.Gc,Le=nu(B,G,me.Dd),to[Le](ce,pe),to[Le](be,Ee),Ae=Te,Le=ce,Re=pe,255&(me=0|P)&&(170&me?ws(Ae,256,Le,Re):Yt(Ae,256,Le,Re)),me=be,Ae=Ee,255&(P>>=8)&&(170&P?ws(Te,320,me,Ae):Yt(Te,320,me,Ae)),G<m.Ub-1&&(n(xe[_e].y,0,ne,ue+480,16),n(xe[_e].f,0,ce,pe+224,8),n(xe[_e].ea,0,be,Ee+224,8)),P=8*ee*m.B,xe=m.sa,_e=m.ta+16*B+16*ee*m.R,Te=m.qa,me=m.ra+8*B+P,Ae=m.Ha,Le=m.Ia+8*B+P,P=0;16>P;++P)n(xe,_e+P*m.R,ne,ue+32*P,16);for(P=0;8>P;++P)n(Te,me+P*m.B,ce,pe+32*P,8),n(Ae,Le+P*m.B,be,Ee+32*P,8)}}function Xa(m,S,P,B,G,ee,ne,ue,ce){var pe=[0],be=[0],Ee=0,me=ce!=null?ce.kd:0,xe=ce??new Me;if(m==null||12>P)return 7;xe.data=m,xe.w=S,xe.ha=P,S=[S],P=[P],xe.gb=[xe.gb];e:{var _e=S,Te=P,Ae=xe.gb;if(e(m!=null),e(Te!=null),e(Ae!=null),Ae[0]=0,12<=Te[0]&&!r(m,_e[0],"RIFF")){if(r(m,_e[0]+8,"WEBP")){Ae=3;break e}var Le=M(m,_e[0]+4);if(12>Le||4294967286<Le){Ae=3;break e}if(me&&Le>Te[0]-8){Ae=7;break e}Ae[0]=Le,_e[0]+=12,Te[0]-=12}Ae=0}if(Ae!=0)return Ae;for(Le=0<xe.gb[0],P=P[0];;){e:{var Re=m;Te=S,Ae=P;var qe=pe,De=be,it=_e=[0];if((tt=Ee=[Ee])[0]=0,8>Ae[0])Ae=7;else{if(!r(Re,Te[0],"VP8X")){if(M(Re,Te[0]+4)!=10){Ae=3;break e}if(18>Ae[0]){Ae=7;break e}var Xe=M(Re,Te[0]+8),Et=1+ye(Re,Te[0]+12);if(2147483648<=Et*(Re=1+ye(Re,Te[0]+15))){Ae=3;break e}it!=null&&(it[0]=Xe),qe!=null&&(qe[0]=Et),De!=null&&(De[0]=Re),Te[0]+=18,Ae[0]-=18,tt[0]=1}Ae=0}}if(Ee=Ee[0],_e=_e[0],Ae!=0)return Ae;if(Te=!!(2&_e),!Le&&Ee)return 3;if(ee!=null&&(ee[0]=!!(16&_e)),ne!=null&&(ne[0]=Te),ue!=null&&(ue[0]=0),ne=pe[0],_e=be[0],Ee&&Te&&ce==null){Ae=0;break}if(4>P){Ae=7;break}if(Le&&Ee||!Le&&!Ee&&!r(m,S[0],"ALPH")){P=[P],xe.na=[xe.na],xe.P=[xe.P],xe.Sa=[xe.Sa];e:{Xe=m,Ae=S,Le=P;var tt=xe.gb;qe=xe.na,De=xe.P,it=xe.Sa,Et=22,e(Xe!=null),e(Le!=null),Re=Ae[0];var Pt=Le[0];for(e(qe!=null),e(it!=null),qe[0]=null,De[0]=null,it[0]=0;;){if(Ae[0]=Re,Le[0]=Pt,8>Pt){Ae=7;break e}var Wr=M(Xe,Re+4);if(4294967286<Wr){Ae=3;break e}var Nt=8+Wr+1&-2;if(Et+=Nt,0<tt&&Et>tt){Ae=3;break e}if(!r(Xe,Re,"VP8 ")||!r(Xe,Re,"VP8L")){Ae=0;break e}if(Pt[0]<Nt){Ae=7;break e}r(Xe,Re,"ALPH")||(qe[0]=Xe,De[0]=Re+8,it[0]=Wr),Re+=Nt,Pt-=Nt}}if(P=P[0],xe.na=xe.na[0],xe.P=xe.P[0],xe.Sa=xe.Sa[0],Ae!=0)break}P=[P],xe.Ja=[xe.Ja],xe.xa=[xe.xa];e:if(tt=m,Ae=S,Le=P,qe=xe.gb[0],De=xe.Ja,it=xe.xa,Xe=Ae[0],Re=!r(tt,Xe,"VP8 "),Et=!r(tt,Xe,"VP8L"),e(tt!=null),e(Le!=null),e(De!=null),e(it!=null),8>Le[0])Ae=7;else{if(Re||Et){if(tt=M(tt,Xe+4),12<=qe&&tt>qe-12){Ae=3;break e}if(me&&tt>Le[0]-8){Ae=7;break e}De[0]=tt,Ae[0]+=8,Le[0]-=8,it[0]=Et}else it[0]=5<=Le[0]&&tt[Xe+0]==47&&!(tt[Xe+4]>>5),De[0]=Le[0];Ae=0}if(P=P[0],xe.Ja=xe.Ja[0],xe.xa=xe.xa[0],S=S[0],Ae!=0)break;if(4294967286<xe.Ja)return 3;if(ue==null||Te||(ue[0]=xe.xa?2:1),ne=[ne],_e=[_e],xe.xa){if(5>P){Ae=7;break}ue=ne,me=_e,Te=ee,m==null||5>P?m=0:5<=P&&m[S+0]==47&&!(m[S+4]>>5)?(Le=[0],tt=[0],qe=[0],ae(De=new q,m,S,P),qs(De,Le,tt,qe)?(ue!=null&&(ue[0]=Le[0]),me!=null&&(me[0]=tt[0]),Te!=null&&(Te[0]=qe[0]),m=1):m=0):m=0}else{if(10>P){Ae=7;break}ue=_e,m==null||10>P||!$h(m,S+3,P-3)?m=0:(me=m[S+0]|m[S+1]<<8|m[S+2]<<16,Te=16383&(m[S+7]<<8|m[S+6]),m=16383&(m[S+9]<<8|m[S+8]),1&me||3<(me>>1&7)||!(me>>4&1)||me>>5>=xe.Ja||!Te||!m?m=0:(ne&&(ne[0]=Te),ue&&(ue[0]=m),m=1))}if(!m||(ne=ne[0],_e=_e[0],Ee&&(pe[0]!=ne||be[0]!=_e)))return 3;ce!=null&&(ce[0]=xe,ce.offset=S-ce.w,e(4294967286>S-ce.w),e(ce.offset==ce.ha-P));break}return Ae==0||Ae==7&&Ee&&ce==null?(ee!=null&&(ee[0]|=xe.na!=null&&0<xe.na.length),B!=null&&(B[0]=ne),G!=null&&(G[0]=_e),0):Ae}function Hc(m,S,P){var B=S.width,G=S.height,ee=0,ne=0,ue=B,ce=G;if(S.Da=m!=null&&0<m.Da,S.Da&&(ue=m.cd,ce=m.bd,ee=m.v,ne=m.j,11>P||(ee&=-2,ne&=-2),0>ee||0>ne||0>=ue||0>=ce||ee+ue>B||ne+ce>G))return 0;if(S.v=ee,S.j=ne,S.va=ee+ue,S.o=ne+ce,S.U=ue,S.T=ce,S.da=m!=null&&0<m.da,S.da){if(!_(ue,ce,P=[m.ib],ee=[m.hb]))return 0;S.ib=P[0],S.hb=ee[0]}return S.ob=m!=null&&m.ob,S.Kb=m==null||!m.Sd,S.da&&(S.ob=S.ib<3*B/4&&S.hb<3*G/4,S.Kb=0),1}function Vc(m){if(m==null)return 2;if(11>m.S){var S=m.f.RGBA;S.fb+=(m.height-1)*S.A,S.A=-S.A}else S=m.f.kb,m=m.height,S.O+=(m-1)*S.fa,S.fa=-S.fa,S.N+=(m-1>>1)*S.Ab,S.Ab=-S.Ab,S.W+=(m-1>>1)*S.Db,S.Db=-S.Db,S.F!=null&&(S.J+=(m-1)*S.lb,S.lb=-S.lb);return 0}function Ro(m,S,P,B){if(B==null||0>=m||0>=S)return 2;if(P!=null){if(P.Da){var G=P.cd,ee=P.bd,ne=-2&P.v,ue=-2&P.j;if(0>ne||0>ue||0>=G||0>=ee||ne+G>m||ue+ee>S)return 2;m=G,S=ee}if(P.da){if(!_(m,S,G=[P.ib],ee=[P.hb]))return 2;m=G[0],S=ee[0]}}B.width=m,B.height=S;e:{var ce=B.width,pe=B.height;if(m=B.S,0>=ce||0>=pe||!(m>=ad&&13>m))m=2;else{if(0>=B.Rd&&B.sd==null){ne=ee=G=S=0;var be=(ue=ce*pb[m])*pe;if(11>m||(ee=(pe+1)/2*(S=(ce+1)/2),m==12&&(ne=(G=ce)*pe)),(pe=s(be+2*ee+ne))==null){m=1;break e}B.sd=pe,11>m?((ce=B.f.RGBA).eb=pe,ce.fb=0,ce.A=ue,ce.size=be):((ce=B.f.kb).y=pe,ce.O=0,ce.fa=ue,ce.Fd=be,ce.f=pe,ce.N=0+be,ce.Ab=S,ce.Cd=ee,ce.ea=pe,ce.W=0+be+ee,ce.Db=S,ce.Ed=ee,m==12&&(ce.F=pe,ce.J=0+be+2*ee),ce.Tc=ne,ce.lb=G)}if(S=1,G=B.S,ee=B.width,ne=B.height,G>=ad&&13>G)if(11>G)m=B.f.RGBA,S&=(ue=Math.abs(m.A))*(ne-1)+ee<=m.size,S&=ue>=ee*pb[G],S&=m.eb!=null;else{m=B.f.kb,ue=(ee+1)/2,be=(ne+1)/2,ce=Math.abs(m.fa),pe=Math.abs(m.Ab);var Ee=Math.abs(m.Db),me=Math.abs(m.lb),xe=me*(ne-1)+ee;S&=ce*(ne-1)+ee<=m.Fd,S&=pe*(be-1)+ue<=m.Cd,S=(S&=Ee*(be-1)+ue<=m.Ed)&ce>=ee&pe>=ue&Ee>=ue,S&=m.y!=null,S&=m.f!=null,S&=m.ea!=null,G==12&&(S&=me>=ee,S&=xe<=m.Tc,S&=m.F!=null)}else S=0;m=S?0:2}}return m!=0||P!=null&&P.fd&&(m=Vc(B)),m}var Za=64,Qn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ei=24,Io=32,Qs=8,Mo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];de("Predictor0","PredictorAdd0"),T.Predictor0=function(){return 4278190080},T.Predictor1=function(m){return m},T.Predictor2=function(m,S,P){return S[P+0]},T.Predictor3=function(m,S,P){return S[P+1]},T.Predictor4=function(m,S,P){return S[P-1]},T.Predictor5=function(m,S,P){return Se(Se(m,S[P+1]),S[P+0])},T.Predictor6=function(m,S,P){return Se(m,S[P-1])},T.Predictor7=function(m,S,P){return Se(m,S[P+0])},T.Predictor8=function(m,S,P){return Se(S[P-1],S[P+0])},T.Predictor9=function(m,S,P){return Se(S[P+0],S[P+1])},T.Predictor10=function(m,S,P){return Se(Se(m,S[P-1]),Se(S[P+0],S[P+1]))},T.Predictor11=function(m,S,P){var B=S[P+0];return 0>=Oe(B>>24&255,m>>24&255,(S=S[P-1])>>24&255)+Oe(B>>16&255,m>>16&255,S>>16&255)+Oe(B>>8&255,m>>8&255,S>>8&255)+Oe(255&B,255&m,255&S)?B:m},T.Predictor12=function(m,S,P){var B=S[P+0];return(Ce((m>>24&255)+(B>>24&255)-((S=S[P-1])>>24&255))<<24|Ce((m>>16&255)+(B>>16&255)-(S>>16&255))<<16|Ce((m>>8&255)+(B>>8&255)-(S>>8&255))<<8|Ce((255&m)+(255&B)-(255&S)))>>>0},T.Predictor13=function(m,S,P){var B=S[P-1];return(Ne((m=Se(m,S[P+0]))>>24&255,B>>24&255)<<24|Ne(m>>16&255,B>>16&255)<<16|Ne(m>>8&255,B>>8&255)<<8|Ne(255&m,255&B))>>>0};var $c=T.PredictorAdd0;T.PredictorAdd1=We,de("Predictor2","PredictorAdd2"),de("Predictor3","PredictorAdd3"),de("Predictor4","PredictorAdd4"),de("Predictor5","PredictorAdd5"),de("Predictor6","PredictorAdd6"),de("Predictor7","PredictorAdd7"),de("Predictor8","PredictorAdd8"),de("Predictor9","PredictorAdd9"),de("Predictor10","PredictorAdd10"),de("Predictor11","PredictorAdd11"),de("Predictor12","PredictorAdd12"),de("Predictor13","PredictorAdd13");var iu=T.PredictorAdd2;Je("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),Je("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var Sr,id=T.ColorIndexInverseTransform,ys=T.MapARGB,vs=T.VP8LColorIndexInverseTransformAlpha,Kc=T.MapAlpha,Gc=T.VP8LPredictorsAdd=[];Gc.length=16,(T.VP8LPredictors=[]).length=16,(T.VP8LPredictorsAdd_C=[]).length=16,(T.VP8LPredictors_C=[]).length=16;var Jc,Yc,Do,Fo,Bo,Qa,jo,el,_i,ws,zt,Yt,kr,qr,eo,Xc,su,sd,W5,H5,V5,$5,K5,G5,Zc,J5,Y5,X5,Z5=s(511),Q5=s(2041),eb=s(225),tb=s(767),rb=0,Bg=Q5,od=eb,ti=tb,Ai=Z5,ad=0,ld=1,nb=2,ud=3,cd=4,jg=5,ib=6,zg=7,Ug=8,fd=9,qg=10,GC=[2,3,7],JC=[3,3,11],sb=[280,256,256,256,40],YC=[0,1,1,1,0],XC=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ZC=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],QC=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],eT=8,Wg=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Hg=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Qc=null,tT=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],rT=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ob=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],nT=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],iT=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],sT=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],oT=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],zo=[],Vi=[],to=[],aT=1,ab=2,Uo=[],Ei=[];Xs("UpsampleRgbLinePair",Po,3),Xs("UpsampleBgrLinePair",sn,3),Xs("UpsampleRgbaLinePair",Pn,4),Xs("UpsampleBgraLinePair",Wc,4),Xs("UpsampleArgbLinePair",qc,4),Xs("UpsampleRgba4444LinePair",Ya,2),Xs("UpsampleRgb565LinePair",Ja,2);var lT=T.UpsampleRgbLinePair,uT=T.UpsampleBgrLinePair,lb=T.UpsampleRgbaLinePair,ub=T.UpsampleBgraLinePair,cb=T.UpsampleArgbLinePair,fb=T.UpsampleRgba4444LinePair,cT=T.UpsampleRgb565LinePair,hd=16,dd=1<<hd-1,ef=-227,Vg=482,fT=6,hb=0,hT=s(256),dT=s(256),pT=s(256),mT=s(256),gT=s(Vg-ef),yT=s(Vg-ef);Zs("YuvToRgbRow",Po,3),Zs("YuvToBgrRow",sn,3),Zs("YuvToRgbaRow",Pn,4),Zs("YuvToBgraRow",Wc,4),Zs("YuvToArgbRow",qc,4),Zs("YuvToRgba4444Row",Ya,2),Zs("YuvToRgb565Row",Ja,2);var db=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],pd=[0,2,8],vT=[8,7,6,4,4,2,2,2,1,1,1,1],wT=1;this.WebPDecodeRGBA=function(m,S,P,B,G){var ee=ld,ne=new Pe,ue=new xt;ne.ba=ue,ue.S=ee,ue.width=[ue.width],ue.height=[ue.height];var ce=ue.width,pe=ue.height,be=new lt;if(be==null||m==null)var Ee=2;else e(be!=null),Ee=Xa(m,S,P,be.width,be.height,be.Pd,be.Qd,be.format,null);if(Ee!=0?ce=0:(ce!=null&&(ce[0]=be.width[0]),pe!=null&&(pe[0]=be.height[0]),ce=1),ce){ue.width=ue.width[0],ue.height=ue.height[0],B!=null&&(B[0]=ue.width),G!=null&&(G[0]=ue.height);e:{if(B=new Xl,(G=new Me).data=m,G.w=S,G.ha=P,G.kd=1,S=[0],e(G!=null),((m=Xa(G.data,G.w,G.ha,null,null,null,S,null,G))==0||m==7)&&S[0]&&(m=4),(S=m)==0){if(e(ne!=null),B.data=G.data,B.w=G.w+G.offset,B.ha=G.ha-G.offset,B.put=ht,B.ac=fs,B.bc=Us,B.ma=ne,G.xa){if((m=za())==null){ne=1;break e}if(function(me,xe){var _e=[0],Te=[0],Ae=[0];t:for(;;){if(me==null)return 0;if(xe==null)return me.a=2,0;if(me.l=xe,me.a=0,ae(me.m,xe.data,xe.w,xe.ha),!qs(me.m,_e,Te,Ae)){me.a=3;break t}if(me.xb=ab,xe.width=_e[0],xe.height=Te[0],!ds(_e[0],Te[0],1,me,null))break t;return 1}return e(me.a!=0),0}(m,B)){if(B=(S=Ro(B.width,B.height,ne.Oa,ne.ba))==0){t:{B=m;r:for(;;){if(B==null){B=0;break t}if(e(B.s.yc!=null),e(B.s.Ya!=null),e(0<B.s.Wb),e((P=B.l)!=null),e((G=P.ma)!=null),B.xb!=0){if(B.ca=G.ba,B.tb=G.tb,e(B.ca!=null),!Hc(G.Oa,P,ud)){B.a=2;break r}if(!Ua(B,P.width)||P.da)break r;if((P.da||ft(B.ca.S))&&Hi(),11>B.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),B.ca.f.kb.F!=null&&Hi()),B.Pb&&0<B.s.ua&&B.s.vb.X==null&&!W(B.s.vb,B.s.Wa.Xa)){B.a=1;break r}B.xb=0}if(!qi(B,B.V,B.Ba,B.c,B.i,P.o,Lo))break r;G.Dc=B.Ma,B=1;break t}e(B.a!=0),B=0}B=!B}B&&(S=m.a)}else S=m.a}else{if((m=new kg)==null){ne=1;break e}if(m.Fa=G.na,m.P=G.P,m.qc=G.Sa,ms(m,B)){if((S=Ro(B.width,B.height,ne.Oa,ne.ba))==0){if(m.Aa=0,P=ne.Oa,e((G=m)!=null),P!=null){if(0<(ce=0>(ce=P.Md)?0:100<ce?255:255*ce/100)){for(pe=be=0;4>pe;++pe)12>(Ee=G.pb[pe]).lc&&(Ee.ia=ce*vT[0>Ee.lc?0:Ee.lc]>>3),be|=Ee.ia;be&&(alert("todo:VP8InitRandom"),G.ia=1)}G.Ga=P.Id,100<G.Ga?G.Ga=100:0>G.Ga&&(G.Ga=0)}(function(me,xe){if(me==null)return 0;if(xe==null)return Pr(me,2,"NULL VP8Io parameter in VP8Decode().");if(!me.cb&&!ms(me,xe))return 0;if(e(me.cb),xe.ac==null||xe.ac(xe)){xe.ob&&(me.L=0);var _e=pd[me.L];if(me.L==2?(me.yb=0,me.zb=0):(me.yb=xe.v-_e>>4,me.zb=xe.j-_e>>4,0>me.yb&&(me.yb=0),0>me.zb&&(me.zb=0)),me.Va=xe.o+15+_e>>4,me.Hb=xe.va+15+_e>>4,me.Hb>me.za&&(me.Hb=me.za),me.Va>me.Ub&&(me.Va=me.Ub),0<me.L){var Te=me.ed;for(_e=0;4>_e;++_e){var Ae;if(me.Qa.Cb){var Le=me.Qa.Lb[_e];me.Qa.Fb||(Le+=Te.Tb)}else Le=Te.Tb;for(Ae=0;1>=Ae;++Ae){var Re=me.gd[_e][Ae],qe=Le;if(Te.Pc&&(qe+=Te.vd[0],Ae&&(qe+=Te.od[0])),0<(qe=0>qe?0:63<qe?63:qe)){var De=qe;0<Te.wb&&(De=4<Te.wb?De>>2:De>>1)>9-Te.wb&&(De=9-Te.wb),1>De&&(De=1),Re.dd=De,Re.tc=2*qe+De,Re.ld=40<=qe?2:15<=qe?1:0}else Re.tc=0;Re.La=Ae}}}_e=0}else Pr(me,6,"Frame setup failed"),_e=me.a;if(_e=_e==0){if(_e){me.$c=0,0<me.Aa||(me.Ic=wT);t:{_e=me.Ic,Te=4*(De=me.za);var it=32*De,Xe=De+1,Et=0<me.L?De*(0<me.Aa?2:1):0,tt=(me.Aa==2?2:1)*De;if((Re=Te+832+(Ae=3*(16*_e+pd[me.L])/2*it)+(Le=me.Fa!=null&&0<me.Fa.length?me.Kc.c*me.Kc.i:0))!=Re)_e=0;else{if(Re>me.Vb){if(me.Vb=0,me.Ec=s(Re),me.Fc=0,me.Ec==null){_e=Pr(me,1,"no memory during frame initialization.");break t}me.Vb=Re}Re=me.Ec,qe=me.Fc,me.Ac=Re,me.Bc=qe,qe+=Te,me.Gd=o(it,Hh),me.Hd=0,me.rb=o(Xe+1,Oc),me.sb=1,me.wa=Et?o(Et,xi):null,me.Y=0,me.D.Nb=0,me.D.wa=me.wa,me.D.Y=me.Y,0<me.Aa&&(me.D.Y+=De),e(!0),me.oc=Re,me.pc=qe,qe+=832,me.ya=o(tt,Pc),me.aa=0,me.D.ya=me.ya,me.D.aa=me.aa,me.Aa==2&&(me.D.aa+=De),me.R=16*De,me.B=8*De,De=(it=pd[me.L])*me.R,it=it/2*me.B,me.sa=Re,me.ta=qe+De,me.qa=me.sa,me.ra=me.ta+16*_e*me.R+it,me.Ha=me.qa,me.Ia=me.ra+8*_e*me.B+it,me.$c=0,qe+=Ae,me.mb=Le?Re:null,me.nb=Le?qe:null,e(qe+Le<=me.Fc+me.Vb),Kh(me),i(me.Ac,me.Bc,0,Te),_e=1}}if(_e){if(xe.ka=0,xe.y=me.sa,xe.O=me.ta,xe.f=me.qa,xe.N=me.ra,xe.ea=me.Ha,xe.Vd=me.Ia,xe.fa=me.R,xe.Rc=me.B,xe.F=null,xe.J=0,!rb){for(_e=-255;255>=_e;++_e)Z5[255+_e]=0>_e?-_e:_e;for(_e=-1020;1020>=_e;++_e)Q5[1020+_e]=-128>_e?-128:127<_e?127:_e;for(_e=-112;112>=_e;++_e)eb[112+_e]=-16>_e?-16:15<_e?15:_e;for(_e=-255;510>=_e;++_e)tb[255+_e]=0>_e?0:255<_e?255:_e;rb=1}jo=Ql,el=Ag,ws=gs,zt=Jh,Yt=Yh,_i=_g,kr=td,qr=$a,eo=K,Xc=ge,su=rd,sd=E,W5=we,H5=ke,V5=Va,$5=zc,K5=Qh,G5=ed,Vi[0]=Rg,Vi[1]=Eg,Vi[2]=Og,Vi[3]=Pg,Vi[4]=Hs,Vi[5]=Ig,Vi[6]=Vs,Vi[7]=Mg,Vi[8]=Mc,Vi[9]=eu,zo[0]=Tg,zo[1]=Cg,zo[2]=Rc,zo[3]=Xh,zo[4]=Wa,zo[5]=Ic,zo[6]=Lg,to[0]=Fg,to[1]=Ng,to[2]=Ha,to[3]=Dg,to[4]=Fc,to[5]=Dc,to[6]=Zh,_e=1}else _e=0}_e&&(_e=function(Pt,Wr){for(Pt.M=0;Pt.M<Pt.Va;++Pt.M){var Nt,rt=Pt.Jc[Pt.M&Pt.Xb],$e=Pt.m,_r=Pt;for(Nt=0;Nt<_r.za;++Nt){var _t=$e,It=_r,nr=It.Ac,on=It.Bc+4*Nt,Rn=It.zc,mr=It.ya[It.aa+Nt];if(It.Qa.Bb?mr.$b=Y(_t,It.Pa.jb[0])?2+Y(_t,It.Pa.jb[2]):Y(_t,It.Pa.jb[1]):mr.$b=0,It.kc&&(mr.Ad=Y(_t,It.Bd)),mr.Za=!Y(_t,145)+0,mr.Za){var wn=mr.Ob,In=0;for(It=0;4>It;++It){var Hr,Ft=Rn[0+It];for(Hr=0;4>Hr;++Hr){Ft=iT[nr[on+Hr]][Ft];for(var qt=ob[Y(_t,Ft[0])];0<qt;)qt=ob[2*qt+Y(_t,Ft[qt])];Ft=-qt,nr[on+Hr]=Ft}n(wn,In,nr,on,4),In+=4,Rn[0+It]=Ft}}else Ft=Y(_t,156)?Y(_t,128)?1:3:Y(_t,163)?2:0,mr.Ob[0]=Ft,i(nr,on,Ft,4),i(Rn,0,Ft,4);mr.Dd=Y(_t,142)?Y(_t,114)?Y(_t,183)?1:3:2:0}if(_r.m.Ka)return Pr(Pt,7,"Premature end-of-partition0 encountered.");for(;Pt.ja<Pt.za;++Pt.ja){if(_r=rt,_t=($e=Pt).rb[$e.sb-1],nr=$e.rb[$e.sb+$e.ja],Nt=$e.ya[$e.aa+$e.ja],on=$e.kc?Nt.Ad:0)_t.la=nr.la=0,Nt.Za||(_t.Na=nr.Na=0),Nt.Hc=0,Nt.Gc=0,Nt.ia=0;else{var gr,Wt;if(_t=nr,nr=_r,on=$e.Pa.Xc,Rn=$e.ya[$e.aa+$e.ja],mr=$e.pb[Rn.$b],It=Rn.ad,wn=0,In=$e.rb[$e.sb-1],Ft=Hr=0,i(It,wn,0,384),Rn.Za)var an=0,$i=on[3];else{qt=s(16);var Ar=_t.Na+In.Na;if(Ar=Qc(nr,on[1],Ar,mr.Eb,0,qt,0),_t.Na=In.Na=(0<Ar)+0,1<Ar)jo(qt,0,It,wn);else{var Wn=qt[0]+3>>3;for(qt=0;256>qt;qt+=16)It[wn+qt]=Wn}an=1,$i=on[0]}var Xt=15&_t.la,Vr=15&In.la;for(qt=0;4>qt;++qt){var ri=1&Vr;for(Wn=Wt=0;4>Wn;++Wn)Xt=Xt>>1|(ri=(Ar=Qc(nr,$i,Ar=ri+(1&Xt),mr.Sc,an,It,wn))>an)<<7,Wt=Wt<<2|(3<Ar?3:1<Ar?2:It[wn+0]!=0),wn+=16;Xt>>=4,Vr=Vr>>1|ri<<7,Hr=(Hr<<8|Wt)>>>0}for($i=Xt,an=Vr>>4,gr=0;4>gr;gr+=2){for(Wt=0,Xt=_t.la>>4+gr,Vr=In.la>>4+gr,qt=0;2>qt;++qt){for(ri=1&Vr,Wn=0;2>Wn;++Wn)Ar=ri+(1&Xt),Xt=Xt>>1|(ri=0<(Ar=Qc(nr,on[2],Ar,mr.Qc,0,It,wn)))<<3,Wt=Wt<<2|(3<Ar?3:1<Ar?2:It[wn+0]!=0),wn+=16;Xt>>=2,Vr=Vr>>1|ri<<5}Ft|=Wt<<4*gr,$i|=Xt<<4<<gr,an|=(240&Vr)<<gr}_t.la=$i,In.la=an,Rn.Hc=Hr,Rn.Gc=Ft,Rn.ia=43690&Ft?0:mr.ia,on=!(Hr|Ft)}if(0<$e.L&&($e.wa[$e.Y+$e.ja]=$e.gd[Nt.$b][Nt.Za],$e.wa[$e.Y+$e.ja].La|=!on),_r.Ka)return Pr(Pt,7,"Premature end-of-file encountered.")}if(Kh(Pt),$e=Wr,_r=1,Nt=(rt=Pt).D,_t=0<rt.L&&rt.M>=rt.zb&&rt.M<=rt.Va,rt.Aa==0)t:{if(Nt.M=rt.M,Nt.uc=_t,ki(rt,Nt),_r=1,Nt=(Wt=rt.D).Nb,_t=(Ft=pd[rt.L])*rt.R,nr=Ft/2*rt.B,qt=16*Nt*rt.R,Wn=8*Nt*rt.B,on=rt.sa,Rn=rt.ta-_t+qt,mr=rt.qa,It=rt.ra-nr+Wn,wn=rt.Ha,In=rt.Ia-nr+Wn,Vr=(Xt=Wt.M)==0,Hr=Xt>=rt.Va-1,rt.Aa==2&&ki(rt,Wt),Wt.uc)for(ri=(Ar=rt).D.M,e(Ar.D.uc),Wt=Ar.yb;Wt<Ar.Hb;++Wt){an=Wt,$i=ri;var Mn=(ni=(ln=Ar).D).Nb;gr=ln.R;var ni=ni.wa[ni.Y+an],ii=ln.sa,Hn=ln.ta+16*Mn*gr+16*an,si=ni.dd,tr=ni.tc;if(tr!=0)if(e(3<=tr),ln.L==1)0<an&&$5(ii,Hn,gr,tr+4),ni.La&&G5(ii,Hn,gr,tr),0<$i&&V5(ii,Hn,gr,tr+4),ni.La&&K5(ii,Hn,gr,tr);else{var oi=ln.B,Ki=ln.qa,tl=ln.ra+8*Mn*oi+8*an,ro=ln.Ha,ln=ln.Ia+8*Mn*oi+8*an;Mn=ni.ld,0<an&&(qr(ii,Hn,gr,tr+4,si,Mn),Xc(Ki,tl,ro,ln,oi,tr+4,si,Mn)),ni.La&&(sd(ii,Hn,gr,tr,si,Mn),H5(Ki,tl,ro,ln,oi,tr,si,Mn)),0<$i&&(kr(ii,Hn,gr,tr+4,si,Mn),eo(Ki,tl,ro,ln,oi,tr+4,si,Mn)),ni.La&&(su(ii,Hn,gr,tr,si,Mn),W5(Ki,tl,ro,ln,oi,tr,si,Mn))}}if(rt.ia&&alert("todo:DitherRow"),$e.put!=null){if(Wt=16*Xt,Xt=16*(Xt+1),Vr?($e.y=rt.sa,$e.O=rt.ta+qt,$e.f=rt.qa,$e.N=rt.ra+Wn,$e.ea=rt.Ha,$e.W=rt.Ia+Wn):(Wt-=Ft,$e.y=on,$e.O=Rn,$e.f=mr,$e.N=It,$e.ea=wn,$e.W=In),Hr||(Xt-=Ft),Xt>$e.o&&(Xt=$e.o),$e.F=null,$e.J=null,rt.Fa!=null&&0<rt.Fa.length&&Wt<Xt&&($e.J=er(rt,$e,Wt,Xt-Wt),$e.F=rt.mb,$e.F==null&&$e.F.length==0)){_r=Pr(rt,3,"Could not decode alpha data.");break t}Wt<$e.j&&(Ft=$e.j-Wt,Wt=$e.j,e(!(1&Ft)),$e.O+=rt.R*Ft,$e.N+=rt.B*(Ft>>1),$e.W+=rt.B*(Ft>>1),$e.F!=null&&($e.J+=$e.width*Ft)),Wt<Xt&&($e.O+=$e.v,$e.N+=$e.v>>1,$e.W+=$e.v>>1,$e.F!=null&&($e.J+=$e.v),$e.ka=Wt-$e.j,$e.U=$e.va-$e.v,$e.T=Xt-Wt,_r=$e.put($e))}Nt+1!=rt.Ic||Hr||(n(rt.sa,rt.ta-_t,on,Rn+16*rt.R,_t),n(rt.qa,rt.ra-nr,mr,It+8*rt.B,nr),n(rt.Ha,rt.Ia-nr,wn,In+8*rt.B,nr))}if(!_r)return Pr(Pt,6,"Output aborted.")}return 1}(me,xe)),xe.bc!=null&&xe.bc(xe),_e&=1}return _e?(me.cb=0,_e):0})(m,B)||(S=m.a)}}else S=m.a}S==0&&ne.Oa!=null&&ne.Oa.fd&&(S=Vc(ne.ba))}ne=S}ee=ne!=0?null:11>ee?ue.f.RGBA.eb:ue.f.kb.y}else ee=null;return ee};var pb=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(T,Z){for(var H="",L=0;L<4;L++)H+=String.fromCharCode(T[Z++]);return H}function c(T,Z){return T[Z+0]|T[Z+1]<<8}function h(T,Z){return(T[Z+0]|T[Z+1]<<8|T[Z+2]<<16)>>>0}function d(T,Z){return(T[Z+0]|T[Z+1]<<8|T[Z+2]<<16|T[Z+3]<<24)>>>0}new l;var f=[0],g=[0],y=[],x=new l,p=t,v=function(T,Z){var H={},L=0,U=!1,A=0,ie=0;if(H.frames=[],!function(C,q){for(var $=0;$<4;$++)if(C[q+$]!="RIFF".charCodeAt($))return!0;return!1}(T,Z)){for(d(T,Z+=4),Z+=8;Z<T.length;){var he=u(T,Z),te=d(T,Z+=4);Z+=4;var re=te+(1&te);switch(he){case"VP8 ":case"VP8L":H.frames[L]===void 0&&(H.frames[L]={}),(le=H.frames[L]).src_off=U?ie:Z-8,le.src_size=A+te+8,L++,U&&(U=!1,A=0,ie=0);break;case"VP8X":(le=H.header={}).feature_flags=T[Z];var ae=Z+4;le.canvas_width=1+h(T,ae),ae+=3,le.canvas_height=1+h(T,ae),ae+=3;break;case"ALPH":U=!0,A=re+8,ie=Z-8;break;case"ANIM":(le=H.header).bgcolor=d(T,Z),ae=Z+4,le.loop_count=c(T,ae),ae+=2;break;case"ANMF":var ve,le;(le=H.frames[L]={}).offset_x=2*h(T,Z),Z+=3,le.offset_y=2*h(T,Z),Z+=3,le.width=1+h(T,Z),Z+=3,le.height=1+h(T,Z),Z+=3,le.duration=h(T,Z),Z+=3,ve=T[Z++],le.dispose=1&ve,le.blend=ve>>1&1}he!="ANMF"&&(Z+=re)}return H}}(p,0);v.response=p,v.rgbaoutput=!0,v.dataurl=!1;var b=v.header?v.header:null,w=v.frames?v.frames:null;if(b){b.loop_counter=b.loop_count,f=[b.canvas_height],g=[b.canvas_width];for(var N=0;N<w.length&&w[N].blend!=0;N++);}var j=w[0],F=x.WebPDecodeRGBA(p,j.src_off,j.src_size,g,f);j.rgba=F,j.imgwidth=g[0],j.imgheight=f[0];for(var z=0;z<g[0]*f[0]*4;z++)y[z]=F[z];return this.width=g,this.height=f,this.data=y,this}/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */function FU(){var t,e=this.internal.__metadata__.metadata,r=unescape(encodeURIComponent(e));t=this.internal.__metadata__.rawXml?r:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+t.length+" >>"),this.internal.write("stream"),this.internal.write(t),this.internal.write("endstream"),this.internal.write("endobj")}function BU(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(t){var e,r,n,i,s,o,a,l,u,c=function(C){return C=C||{},this.isStrokeTransparent=C.isStrokeTransparent||!1,this.strokeOpacity=C.strokeOpacity||1,this.strokeStyle=C.strokeStyle||"#000000",this.fillStyle=C.fillStyle||"#000000",this.isFillTransparent=C.isFillTransparent||!1,this.fillOpacity=C.fillOpacity||1,this.font=C.font||"10px sans-serif",this.textBaseline=C.textBaseline||"alphabetic",this.textAlign=C.textAlign||"left",this.lineWidth=C.lineWidth||1,this.lineJoin=C.lineJoin||"miter",this.lineCap=C.lineCap||"butt",this.path=C.path||[],this.transform=C.transform!==void 0?C.transform.clone():new l,this.globalCompositeOperation=C.globalCompositeOperation||"normal",this.globalAlpha=C.globalAlpha||1,this.clip_path=C.clip_path||[],this.currentPoint=C.currentPoint||new o,this.miterLimit=C.miterLimit||10,this.lastPoint=C.lastPoint||new o,this.lineDashOffset=C.lineDashOffset||0,this.lineDash=C.lineDash||[],this.margin=C.margin||[0,0,0,0],this.prevPageLastElemOffset=C.prevPageLastElemOffset||0,this.ignoreClearRect=typeof C.ignoreClearRect!="boolean"||C.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var h=function(C){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=C;Object.defineProperty(this,"pdf",{get:function(){return q}});var $=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return $},set:function(W){$=!!W}});var se=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return se},set:function(W){se=!!W}});var J=0;Object.defineProperty(this,"posX",{get:function(){return J},set:function(W){isNaN(W)||(J=W)}});var O=0;Object.defineProperty(this,"posY",{get:function(){return O},set:function(W){isNaN(W)||(O=W)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(W){var D;typeof W=="number"?D=[W,W,W,W]:((D=new Array(4))[0]=W[0],D[1]=W.length>=2?W[1]:D[0],D[2]=W.length>=3?W[2]:D[0],D[3]=W.length>=4?W[3]:D[1]),u.margin=D}});var I=!1;Object.defineProperty(this,"autoPaging",{get:function(){return I},set:function(W){I=W}});var Q=0;Object.defineProperty(this,"lastBreak",{get:function(){return Q},set:function(W){Q=W}});var Y=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Y},set:function(W){Y=W}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(W){W instanceof c&&(u=W)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(W){u.path=W}});var V=[];Object.defineProperty(this,"ctxStack",{get:function(){return V},set:function(W){V=W}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(W){var D;D=d(W),this.ctx.fillStyle=D.style,this.ctx.isFillTransparent=D.a===0,this.ctx.fillOpacity=D.a,this.pdf.setFillColor(D.r,D.g,D.b,{a:D.a}),this.pdf.setTextColor(D.r,D.g,D.b,{a:D.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(W){var D=d(W);this.ctx.strokeStyle=D.style,this.ctx.isStrokeTransparent=D.a===0,this.ctx.strokeOpacity=D.a,D.a===0?this.pdf.setDrawColor(255,255,255):(D.a,this.pdf.setDrawColor(D.r,D.g,D.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(W){["butt","round","square"].indexOf(W)!==-1&&(this.ctx.lineCap=W,this.pdf.setLineCap(W))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(W){isNaN(W)||(this.ctx.lineWidth=W,this.pdf.setLineWidth(W))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(W){["bevel","round","miter"].indexOf(W)!==-1&&(this.ctx.lineJoin=W,this.pdf.setLineJoin(W))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(W){isNaN(W)||(this.ctx.miterLimit=W,this.pdf.setMiterLimit(W))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(W){this.ctx.textBaseline=W}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(W){["right","end","center","left","start"].indexOf(W)!==-1&&(this.ctx.textAlign=W)}});var X=null,ye=null,M=null;Object.defineProperty(this,"fontFaces",{get:function(){return M},set:function(W){X=null,ye=null,M=W}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(W){var D;if(this.ctx.font=W,(D=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(W))!==null){var k=D[1];D[2];var _=D[3],R=D[4];D[5];var oe=D[6],de=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(R)[2];R=Math.floor(de==="px"?parseFloat(R)*this.pdf.internal.scaleFactor:de==="em"?parseFloat(R)*this.pdf.getFontSize():parseFloat(R)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(R);var fe=function(Je){var Gt,at,bt=[],kt=Je.trim();if(kt==="")return y0;if(kt in S4)return[S4[kt]];for(;kt!=="";){switch(at=null,Gt=(kt=_4(kt)).charAt(0)){case'"':case"'":at=OU(kt.substring(1),Gt);break;default:at=PU(kt)}if(at===null||(bt.push(at[0]),(kt=_4(at[1]))!==""&&kt.charAt(0)!==","))return y0;kt=kt.replace(/^,/,"")}return bt}(oe);if(this.fontFaces){var Se=function(Je,Gt){var at=Je.getFontList(),bt=JSON.stringify(at);if(X===null||ye!==bt){var kt=function(Rt){var ot=[];return Object.keys(Rt).forEach(function($t){Rt[$t].forEach(function(ft){var gt=null;switch(ft){case"bold":gt={family:$t,weight:"bold"};break;case"italic":gt={family:$t,style:"italic"};break;case"bolditalic":gt={family:$t,weight:"bold",style:"italic"};break;case"":case"normal":gt={family:$t}}gt!==null&&(gt.ref={name:$t,style:ft},ot.push(gt))})}),ot}(at);X=function(Rt){for(var ot={},$t=0;$t<Rt.length;++$t){var ft=g0(Rt[$t]),gt=ft.family,Jt=ft.stretch,xt=ft.style,lt=ft.weight;ot[gt]=ot[gt]||{},ot[gt][Jt]=ot[gt][Jt]||{},ot[gt][Jt][xt]=ot[gt][Jt][xt]||{},ot[gt][Jt][xt][lt]=ft}return ot}(kt.concat(Gt)),ye=bt}return X}(this.pdf,this.fontFaces),Ce=fe.map(function(Je){return{family:Je,stretch:"normal",weight:_,style:k}}),Ne=function(Je,Gt,at){for(var bt=(at=at||{}).defaultFontFamily||"times",kt=Object.assign({},LU,at.genericFontFamilies||{}),Rt=null,ot=null,$t=0;$t<Gt.length;++$t)if(kt[(Rt=g0(Gt[$t])).family]&&(Rt.family=kt[Rt.family]),Je.hasOwnProperty(Rt.family)){ot=Je[Rt.family];break}if(!(ot=ot||Je[bt]))throw new Error("Could not find a font-family for the rule '"+k4(Rt)+"' and default family '"+bt+"'.");if(ot=function(ft,gt){if(gt[ft])return gt[ft];var Jt=$2[ft],xt=Jt<=$2.normal?-1:1,lt=x4(gt,tC,Jt,xt);if(!lt)throw new Error("Could not find a matching font-stretch value for "+ft);return lt}(Rt.stretch,ot),ot=function(ft,gt){if(gt[ft])return gt[ft];for(var Jt=eC[ft],xt=0;xt<Jt.length;++xt)if(gt[Jt[xt]])return gt[Jt[xt]];throw new Error("Could not find a matching font-style for "+ft)}(Rt.style,ot),!(ot=function(ft,gt){if(gt[ft])return gt[ft];if(ft===400&&gt[500])return gt[500];if(ft===500&&gt[400])return gt[400];var Jt=TU[ft],xt=x4(gt,rC,Jt,ft<400?-1:1);if(!xt)throw new Error("Could not find a matching font-weight for value "+ft);return xt}(Rt.weight,ot)))throw new Error("Failed to resolve a font for the rule '"+k4(Rt)+"'.");return ot}(Se,Ce);this.pdf.setFont(Ne.ref.name,Ne.ref.style)}else{var Oe="";(_==="bold"||parseInt(_,10)>=700||k==="bold")&&(Oe="bold"),k==="italic"&&(Oe+="italic"),Oe.length===0&&(Oe="normal");for(var We="",Ve={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ke=0;Ke<fe.length;Ke++){if(this.pdf.internal.getFont(fe[Ke],Oe,{noFallback:!0,disableWarning:!0})!==void 0){We=fe[Ke];break}if(Oe==="bolditalic"&&this.pdf.internal.getFont(fe[Ke],"bold",{noFallback:!0,disableWarning:!0})!==void 0)We=fe[Ke],Oe="bold";else if(this.pdf.internal.getFont(fe[Ke],"normal",{noFallback:!0,disableWarning:!0})!==void 0){We=fe[Ke],Oe="normal";break}}if(We===""){for(var ct=0;ct<fe.length;ct++)if(Ve[fe[ct]]){We=Ve[fe[ct]];break}}We=We===""?"Times":We,this.pdf.setFont(We,Oe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(W){this.ctx.globalCompositeOperation=W}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(W){this.ctx.globalAlpha=W}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(W){this.ctx.lineDashOffset=W,le.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(W){this.ctx.lineDash=W,le.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(W){this.ctx.ignoreClearRect=!!W}})};h.prototype.setLineDash=function(C){this.lineDash=C},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){w.call(this,"fill",!1)},h.prototype.stroke=function(){w.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(C,q){if(isNaN(C)||isNaN(q))throw Zt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var $=this.ctx.transform.applyToPoint(new o(C,q));this.path.push({type:"mt",x:$.x,y:$.y}),this.ctx.lastPoint=new o(C,q)},h.prototype.closePath=function(){var C=new o(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&Ht(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){C=new o(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(C.x,C.y)},h.prototype.lineTo=function(C,q){if(isNaN(C)||isNaN(q))throw Zt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var $=this.ctx.transform.applyToPoint(new o(C,q));this.path.push({type:"lt",x:$.x,y:$.y}),this.ctx.lastPoint=new o($.x,$.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},h.prototype.quadraticCurveTo=function(C,q,$,se){if(isNaN($)||isNaN(se)||isNaN(C)||isNaN(q))throw Zt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var J=this.ctx.transform.applyToPoint(new o($,se)),O=this.ctx.transform.applyToPoint(new o(C,q));this.path.push({type:"qct",x1:O.x,y1:O.y,x:J.x,y:J.y}),this.ctx.lastPoint=new o(J.x,J.y)},h.prototype.bezierCurveTo=function(C,q,$,se,J,O){if(isNaN(J)||isNaN(O)||isNaN(C)||isNaN(q)||isNaN($)||isNaN(se))throw Zt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var I=this.ctx.transform.applyToPoint(new o(J,O)),Q=this.ctx.transform.applyToPoint(new o(C,q)),Y=this.ctx.transform.applyToPoint(new o($,se));this.path.push({type:"bct",x1:Q.x,y1:Q.y,x2:Y.x,y2:Y.y,x:I.x,y:I.y}),this.ctx.lastPoint=new o(I.x,I.y)},h.prototype.arc=function(C,q,$,se,J,O){if(isNaN(C)||isNaN(q)||isNaN($)||isNaN(se)||isNaN(J))throw Zt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(O=!!O,!this.ctx.transform.isIdentity){var I=this.ctx.transform.applyToPoint(new o(C,q));C=I.x,q=I.y;var Q=this.ctx.transform.applyToPoint(new o(0,$)),Y=this.ctx.transform.applyToPoint(new o(0,0));$=Math.sqrt(Math.pow(Q.x-Y.x,2)+Math.pow(Q.y-Y.y,2))}Math.abs(J-se)>=2*Math.PI&&(se=0,J=2*Math.PI),this.path.push({type:"arc",x:C,y:q,radius:$,startAngle:se,endAngle:J,counterclockwise:O})},h.prototype.arcTo=function(C,q,$,se,J){throw new Error("arcTo not implemented.")},h.prototype.rect=function(C,q,$,se){if(isNaN(C)||isNaN(q)||isNaN($)||isNaN(se))throw Zt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(C,q),this.lineTo(C+$,q),this.lineTo(C+$,q+se),this.lineTo(C,q+se),this.lineTo(C,q),this.lineTo(C+$,q),this.lineTo(C,q)},h.prototype.fillRect=function(C,q,$,se){if(isNaN(C)||isNaN(q)||isNaN($)||isNaN(se))throw Zt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var J={};this.lineCap!=="butt"&&(J.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(J.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(C,q,$,se),this.fill(),J.hasOwnProperty("lineCap")&&(this.lineCap=J.lineCap),J.hasOwnProperty("lineJoin")&&(this.lineJoin=J.lineJoin)}},h.prototype.strokeRect=function(C,q,$,se){if(isNaN(C)||isNaN(q)||isNaN($)||isNaN(se))throw Zt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(C,q,$,se),this.stroke())},h.prototype.clearRect=function(C,q,$,se){if(isNaN(C)||isNaN(q)||isNaN($)||isNaN(se))throw Zt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(C,q,$,se))},h.prototype.save=function(C){C=typeof C!="boolean"||C;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),C){this.ctx.fontSize=this.pdf.internal.getFontSize();var se=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=se}},h.prototype.restore=function(C){C=typeof C!="boolean"||C;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("Q");this.pdf.setPage(q),C&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(C){var q,$,se,J;if(C.isCanvasGradient===!0&&(C=C.getColor()),!C)return{r:0,g:0,b:0,a:0,style:C};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(C))q=0,$=0,se=0,J=0;else{var O=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(C);if(O!==null)q=parseInt(O[1]),$=parseInt(O[2]),se=parseInt(O[3]),J=1;else if((O=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(C))!==null)q=parseInt(O[1]),$=parseInt(O[2]),se=parseInt(O[3]),J=parseFloat(O[4]);else{if(J=1,typeof C=="string"&&C.charAt(0)!=="#"){var I=new KN(C);C=I.ok?I.toHex():"#000000"}C.length===4?(q=C.substring(1,2),q+=q,$=C.substring(2,3),$+=$,se=C.substring(3,4),se+=se):(q=C.substring(1,3),$=C.substring(3,5),se=C.substring(5,7)),q=parseInt(q,16),$=parseInt($,16),se=parseInt(se,16)}}return{r:q,g:$,b:se,a:J,style:C}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(C,q,$,se){if(isNaN(q)||isNaN($)||typeof C!="string")throw Zt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(se=isNaN(se)?void 0:se,!f.call(this)){var J=re(this.ctx.transform.rotation),O=this.ctx.transform.scaleX;L.call(this,{text:C,x:q,y:$,scale:O,angle:J,align:this.textAlign,maxWidth:se})}},h.prototype.strokeText=function(C,q,$,se){if(isNaN(q)||isNaN($)||typeof C!="string")throw Zt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){se=isNaN(se)?void 0:se;var J=re(this.ctx.transform.rotation),O=this.ctx.transform.scaleX;L.call(this,{text:C,x:q,y:$,scale:O,renderingMode:"stroke",angle:J,align:this.textAlign,maxWidth:se})}},h.prototype.measureText=function(C){if(typeof C!="string")throw Zt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,$=this.pdf.internal.scaleFactor,se=q.internal.getFontSize(),J=q.getStringUnitWidth(C)*se/q.internal.scaleFactor;return new function(O){var I=(O=O||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return I}}),this}({width:J*=Math.round(96*$/72*1e4)/1e4})},h.prototype.scale=function(C,q){if(isNaN(C)||isNaN(q))throw Zt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var $=new l(C,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply($)},h.prototype.rotate=function(C){if(isNaN(C))throw Zt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new l(Math.cos(C),Math.sin(C),-Math.sin(C),Math.cos(C),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},h.prototype.translate=function(C,q){if(isNaN(C)||isNaN(q))throw Zt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var $=new l(1,0,0,1,C,q);this.ctx.transform=this.ctx.transform.multiply($)},h.prototype.transform=function(C,q,$,se,J,O){if(isNaN(C)||isNaN(q)||isNaN($)||isNaN(se)||isNaN(J)||isNaN(O))throw Zt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var I=new l(C,q,$,se,J,O);this.ctx.transform=this.ctx.transform.multiply(I)},h.prototype.setTransform=function(C,q,$,se,J,O){C=isNaN(C)?1:C,q=isNaN(q)?0:q,$=isNaN($)?0:$,se=isNaN(se)?1:se,J=isNaN(J)?0:J,O=isNaN(O)?0:O,this.ctx.transform=new l(C,q,$,se,J,O)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(C,q,$,se,J,O,I,Q,Y){var V=this.pdf.getImageProperties(C),X=1,ye=1,M=1,W=1;se!==void 0&&Q!==void 0&&(M=Q/se,W=Y/J,X=V.width/se*Q/se,ye=V.height/J*Y/J),O===void 0&&(O=q,I=$,q=0,$=0),se!==void 0&&Q===void 0&&(Q=se,Y=J),se===void 0&&Q===void 0&&(Q=V.width,Y=V.height);var D=this.ctx.transform.decompose(),k=re(D.rotate.shx),_=new l,R=(_=(_=(_=_.multiply(D.translate)).multiply(D.skew)).multiply(D.scale)).applyToRectangle(new a(O-q*M,I-$*W,se*X,J*ye));if(this.autoPaging){for(var oe,de=x.call(this,R),fe=[],Se=0;Se<de.length;Se+=1)fe.indexOf(de[Se])===-1&&fe.push(de[Se]);b(fe);for(var Ce=fe[0],Ne=fe[fe.length-1],Oe=Ce;Oe<Ne+1;Oe++){this.pdf.setPage(Oe);var We=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ve=Oe===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Je=Oe===1?0:Ke+(Oe-2)*ct;if(this.ctx.clip_path.length!==0){var Gt=this.path;oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(oe,this.posX+this.margin[3],-Je+Ve+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=Gt}var at=JSON.parse(JSON.stringify(R));at=v([at],this.posX+this.margin[3],-Je+Ve+this.ctx.prevPageLastElemOffset)[0];var bt=(Oe>Ce||Oe<Ne)&&y.call(this);bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],We,ct,null).clip().discardPath()),this.pdf.addImage(C,"JPEG",at.x,at.y,at.w,at.h,null,null,k),bt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(C,"JPEG",R.x,R.y,R.w,R.h,null,null,k)};var x=function(C,q,$){var se=[];q=q||this.pdf.internal.pageSize.width,$=$||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var J=this.posY+this.ctx.prevPageLastElemOffset;switch(C.type){default:case"mt":case"lt":se.push(Math.floor((C.y+J)/$)+1);break;case"arc":se.push(Math.floor((C.y+J-C.radius)/$)+1),se.push(Math.floor((C.y+J+C.radius)/$)+1);break;case"qct":var O=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x,C.y);se.push(Math.floor((O.y+J)/$)+1),se.push(Math.floor((O.y+O.h+J)/$)+1);break;case"bct":var I=ve(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x2,C.y2,C.x,C.y);se.push(Math.floor((I.y+J)/$)+1),se.push(Math.floor((I.y+I.h+J)/$)+1);break;case"rect":se.push(Math.floor((C.y+J)/$)+1),se.push(Math.floor((C.y+C.h+J)/$)+1)}for(var Q=0;Q<se.length;Q+=1)for(;this.pdf.internal.getNumberOfPages()<se[Q];)p.call(this);return se},p=function(){var C=this.fillStyle,q=this.strokeStyle,$=this.font,se=this.lineCap,J=this.lineWidth,O=this.lineJoin;this.pdf.addPage(),this.fillStyle=C,this.strokeStyle=q,this.font=$,this.lineCap=se,this.lineWidth=J,this.lineJoin=O},v=function(C,q,$){for(var se=0;se<C.length;se++)switch(C[se].type){case"bct":C[se].x2+=q,C[se].y2+=$;case"qct":C[se].x1+=q,C[se].y1+=$;default:C[se].x+=q,C[se].y+=$}return C},b=function(C){return C.sort(function(q,$){return q-$})},w=function(C,q){var $=this.fillStyle,se=this.strokeStyle,J=this.lineCap,O=this.lineWidth,I=Math.abs(O*this.ctx.transform.scaleX),Q=this.lineJoin;if(this.autoPaging){for(var Y,V,X=JSON.parse(JSON.stringify(this.path)),ye=JSON.parse(JSON.stringify(this.path)),M=[],W=0;W<ye.length;W++)if(ye[W].x!==void 0)for(var D=x.call(this,ye[W]),k=0;k<D.length;k+=1)M.indexOf(D[k])===-1&&M.push(D[k]);for(var _=0;_<M.length;_++)for(;this.pdf.internal.getNumberOfPages()<M[_];)p.call(this);b(M);for(var R=M[0],oe=M[M.length-1],de=R;de<oe+1;de++){this.pdf.setPage(de),this.fillStyle=$,this.strokeStyle=se,this.lineCap=J,this.lineWidth=I,this.lineJoin=Q;var fe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Se=de===1?this.posY+this.margin[0]:this.margin[0],Ce=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ne=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Oe=de===1?0:Ce+(de-2)*Ne;if(this.ctx.clip_path.length!==0){var We=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(Y,this.posX+this.margin[3],-Oe+Se+this.ctx.prevPageLastElemOffset),N.call(this,C,!0),this.path=We}if(V=JSON.parse(JSON.stringify(X)),this.path=v(V,this.posX+this.margin[3],-Oe+Se+this.ctx.prevPageLastElemOffset),q===!1||de===0){var Ve=(de>R||de<oe)&&y.call(this);Ve&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],fe,Ne,null).clip().discardPath()),N.call(this,C,q),Ve&&this.pdf.restoreGraphicsState()}this.lineWidth=O}this.path=X}else this.lineWidth=I,N.call(this,C,q),this.lineWidth=O},N=function(C,q){if((C!=="stroke"||q||!g.call(this))&&(C==="stroke"||q||!f.call(this))){for(var $,se,J=[],O=this.path,I=0;I<O.length;I++){var Q=O[I];switch(Q.type){case"begin":J.push({begin:!0});break;case"close":J.push({close:!0});break;case"mt":J.push({start:Q,deltas:[],abs:[]});break;case"lt":var Y=J.length;if(O[I-1]&&!isNaN(O[I-1].x)&&($=[Q.x-O[I-1].x,Q.y-O[I-1].y],Y>0)){for(;Y>=0;Y--)if(J[Y-1].close!==!0&&J[Y-1].begin!==!0){J[Y-1].deltas.push($),J[Y-1].abs.push(Q);break}}break;case"bct":$=[Q.x1-O[I-1].x,Q.y1-O[I-1].y,Q.x2-O[I-1].x,Q.y2-O[I-1].y,Q.x-O[I-1].x,Q.y-O[I-1].y],J[J.length-1].deltas.push($);break;case"qct":var V=O[I-1].x+2/3*(Q.x1-O[I-1].x),X=O[I-1].y+2/3*(Q.y1-O[I-1].y),ye=Q.x+2/3*(Q.x1-Q.x),M=Q.y+2/3*(Q.y1-Q.y),W=Q.x,D=Q.y;$=[V-O[I-1].x,X-O[I-1].y,ye-O[I-1].x,M-O[I-1].y,W-O[I-1].x,D-O[I-1].y],J[J.length-1].deltas.push($);break;case"arc":J.push({deltas:[],abs:[],arc:!0}),Array.isArray(J[J.length-1].abs)&&J[J.length-1].abs.push(Q)}}se=q?null:C==="stroke"?"stroke":"fill";for(var k=!1,_=0;_<J.length;_++)if(J[_].arc)for(var R=J[_].abs,oe=0;oe<R.length;oe++){var de=R[oe];de.type==="arc"?z.call(this,de.x,de.y,de.radius,de.startAngle,de.endAngle,de.counterclockwise,void 0,q,!k):U.call(this,de.x,de.y),k=!0}else if(J[_].close===!0)this.pdf.internal.out("h"),k=!1;else if(J[_].begin!==!0){var fe=J[_].start.x,Se=J[_].start.y;A.call(this,J[_].deltas,fe,Se),k=!0}se&&T.call(this,se),q&&Z.call(this)}},j=function(C){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,$=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return C-$;case"top":return C+q-$;case"hanging":return C+q-2*$;case"middle":return C+q/2-$;default:return C}},F=function(C){return C+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var C=function(){};return C.colorStops=[],C.addColorStop=function(q,$){this.colorStops.push([q,$])},C.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},C.isCanvasGradient=!0,C},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var z=function(C,q,$,se,J,O,I,Q,Y){for(var V=he.call(this,$,se,J,O),X=0;X<V.length;X++){var ye=V[X];X===0&&(Y?H.call(this,ye.x1+C,ye.y1+q):U.call(this,ye.x1+C,ye.y1+q)),ie.call(this,C,q,ye.x2,ye.y2,ye.x3,ye.y3,ye.x4,ye.y4)}Q?Z.call(this):T.call(this,I)},T=function(C){switch(C){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Z=function(){this.pdf.clip(),this.pdf.discardPath()},H=function(C,q){this.pdf.internal.out(r(C)+" "+n(q)+" m")},L=function(C){var q;switch(C.align){case"right":case"end":q="right";break;case"center":q="center";break;default:q="left"}var $,se,J,O=this.pdf.getTextDimensions(C.text),I=j.call(this,C.y),Q=F.call(this,I)-O.h,Y=this.ctx.transform.applyToPoint(new o(C.x,I));if(this.autoPaging){var V=this.ctx.transform.decompose(),X=new l;X=(X=(X=X.multiply(V.translate)).multiply(V.skew)).multiply(V.scale);for(var ye=this.ctx.transform.applyToRectangle(new a(C.x,I,O.w,O.h)),M=X.applyToRectangle(new a(C.x,Q,O.w,O.h)),W=x.call(this,M),D=[],k=0;k<W.length;k+=1)D.indexOf(W[k])===-1&&D.push(W[k]);b(D);for(var _=D[0],R=D[D.length-1],oe=_;oe<R+1;oe++){this.pdf.setPage(oe);var de=oe===1?this.posY+this.margin[0]:this.margin[0],fe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Se=this.pdf.internal.pageSize.height-this.margin[2],Ce=Se-this.margin[0],Ne=this.pdf.internal.pageSize.width-this.margin[1],Oe=Ne-this.margin[3],We=oe===1?0:fe+(oe-2)*Ce;if(this.ctx.clip_path.length!==0){var Ve=this.path;$=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v($,this.posX+this.margin[3],-1*We+de),N.call(this,"fill",!0),this.path=Ve}var Ke=v([JSON.parse(JSON.stringify(M))],this.posX+this.margin[3],-We+de+this.ctx.prevPageLastElemOffset)[0];C.scale>=.01&&(se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(se*C.scale),J=this.lineWidth,this.lineWidth=J*C.scale);var ct=this.autoPaging!=="text";if(ct||Ke.y+Ke.h<=Se){if(ct||Ke.y>=de&&Ke.x<=Ne){var Je=ct?C.text:this.pdf.splitTextToSize(C.text,C.maxWidth||Ne-Ke.x)[0],Gt=v([JSON.parse(JSON.stringify(ye))],this.posX+this.margin[3],-We+de+this.ctx.prevPageLastElemOffset)[0],at=ct&&(oe>_||oe<R)&&y.call(this);at&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Oe,Ce,null).clip().discardPath()),this.pdf.text(Je,Gt.x,Gt.y,{angle:C.angle,align:q,renderingMode:C.renderingMode}),at&&this.pdf.restoreGraphicsState()}}else Ke.y<Se&&(this.ctx.prevPageLastElemOffset+=Se-Ke.y);C.scale>=.01&&(this.pdf.setFontSize(se),this.lineWidth=J)}}else C.scale>=.01&&(se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(se*C.scale),J=this.lineWidth,this.lineWidth=J*C.scale),this.pdf.text(C.text,Y.x+this.posX,Y.y+this.posY,{angle:C.angle,align:q,renderingMode:C.renderingMode,maxWidth:C.maxWidth}),C.scale>=.01&&(this.pdf.setFontSize(se),this.lineWidth=J)},U=function(C,q,$,se){$=$||0,se=se||0,this.pdf.internal.out(r(C+$)+" "+n(q+se)+" l")},A=function(C,q,$){return this.pdf.lines(C,q,$,null,null)},ie=function(C,q,$,se,J,O,I,Q){this.pdf.internal.out([e(i($+C)),e(s(se+q)),e(i(J+C)),e(s(O+q)),e(i(I+C)),e(s(Q+q)),"c"].join(" "))},he=function(C,q,$,se){for(var J=2*Math.PI,O=Math.PI/2;q>$;)q-=J;var I=Math.abs($-q);I<J&&se&&(I=J-I);for(var Q=[],Y=se?-1:1,V=q;I>1e-5;){var X=V+Y*Math.min(I,O);Q.push(te.call(this,C,V,X)),I-=Math.abs(X-V),V=X}return Q},te=function(C,q,$){var se=($-q)/2,J=C*Math.cos(se),O=C*Math.sin(se),I=J,Q=-O,Y=I*I+Q*Q,V=Y+I*J+Q*O,X=4/3*(Math.sqrt(2*Y*V)-V)/(I*O-Q*J),ye=I-X*Q,M=Q+X*I,W=ye,D=-M,k=se+q,_=Math.cos(k),R=Math.sin(k);return{x1:C*Math.cos(q),y1:C*Math.sin(q),x2:ye*_-M*R,y2:ye*R+M*_,x3:W*_-D*R,y3:W*R+D*_,x4:C*Math.cos($),y4:C*Math.sin($)}},re=function(C){return 180*C/Math.PI},ae=function(C,q,$,se,J,O){var I=C+.5*($-C),Q=q+.5*(se-q),Y=J+.5*($-J),V=O+.5*(se-O),X=Math.min(C,J,I,Y),ye=Math.max(C,J,I,Y),M=Math.min(q,O,Q,V),W=Math.max(q,O,Q,V);return new a(X,M,ye-X,W-M)},ve=function(C,q,$,se,J,O,I,Q){var Y,V,X,ye,M,W,D,k,_,R,oe,de,fe,Se,Ce=$-C,Ne=se-q,Oe=J-$,We=O-se,Ve=I-J,Ke=Q-O;for(V=0;V<41;V++)_=(D=(X=C+(Y=V/40)*Ce)+Y*((M=$+Y*Oe)-X))+Y*(M+Y*(J+Y*Ve-M)-D),R=(k=(ye=q+Y*Ne)+Y*((W=se+Y*We)-ye))+Y*(W+Y*(O+Y*Ke-W)-k),V==0?(oe=_,de=R,fe=_,Se=R):(oe=Math.min(oe,_),de=Math.min(de,R),fe=Math.max(fe,_),Se=Math.max(Se,R));return new a(Math.round(oe),Math.round(de),Math.round(fe-oe),Math.round(Se-de))},le=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var C,q,$=(C=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:C,lineDashOffset:q}));this.prevLineDash!==$&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=$)}}})(st.API),function(t){var e=function(o){var a,l,u,c,h,d,f,g,y,x;for(l=[],u=0,c=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;c>u;u+=4)(h=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(d=(h=((h=((h=((h=(h-(x=h%85))/85)-(y=h%85))/85)-(g=h%85))/85)-(f=h%85))/85)%85,l.push(d+33,f+33,g+33,y+33,x+33)):l.push(122);return function(p,v){for(var b=v;b>0;b--)p.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},r=function(o){var a,l,u,c,h,d=String,f="length",g=255,y="charCodeAt",x="slice",p="replace";for(o[x](-2),o=o[x](0,-2)[p](/\s/g,"")[p]("z","!!!!!"),u=[],c=0,h=(o+=a="uuuuu"[x](o[f]%5||5))[f];h>c;c+=5)l=52200625*(o[y](c)-33)+614125*(o[y](c+1)-33)+7225*(o[y](c+2)-33)+85*(o[y](c+3)-33)+(o[y](c+4)-33),u.push(g&l>>24,g&l>>16,g&l>>8,g&l);return function(v,b){for(var w=b;w>0;w--)v.pop()}(u,a[f]),d.fromCharCode.apply(d,u)},n=function(o){return o.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var l="",u=0;u<o.length;u+=2)l+=String.fromCharCode("0x"+(o[u]+o[u+1]));return l},s=function(o){for(var a=new Uint8Array(o.length),l=o.length;l--;)a[l]=o.charCodeAt(l);return(a=j2(a)).reduce(function(u,c){return u+String.fromCharCode(c)},"")};t.processDataByFilters=function(o,a){var l=0,u=o||"",c=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:u,reverseChain:c.reverse().join(" ")}}}(st.API),function(t){t.loadFile=function(e,r,n){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,u,c){var h=new XMLHttpRequest,d=0,f=function(g){var y=g.length,x=[],p=String.fromCharCode;for(d=0;d<y;d+=1)x.push(p(255&g.charCodeAt(d)));return x.join("")};if(h.open("GET",l,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?c(f(this.responseText)):c(void 0)}),h.send(null),u&&h.status===200)return f(h.responseText)}(i,s,o)}catch{}return a}(e,r,n)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile}(st.API),function(t){function e(){return(dt.html2canvas?Promise.resolve(dt.html2canvas):Z1(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function r(){return(dt.DOMPurify?Promise.resolve(dt.DOMPurify):Z1(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var l=Ht(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var u=document.createElement(a);for(var c in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[c]=l.style[c];return u},s=function a(l,u){for(var c=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),h=l.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||c.appendChild(a(h,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(c.width=l.width,c.height=l.height,c.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(c.value=l.value),c.addEventListener("load",function(){c.scrollTop=l.scrollTop,c.scrollLeft=l.scrollLeft},!0)),c},o=function a(l){var u=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),c=a.convert(Promise.resolve(),u);return(c=c.setProgress(1,a,1,[a])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,l){return a.__proto__=l||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(r).then(function(u){return this.set({src:i("div",{innerHTML:a,dompurify:u})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=this.opt.jsPDF,c=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=c,c)for(var f=0;f<c.length;++f){var g=c[f],y=g.src.find(function(x){return x.format==="truetype"});y&&u.addFont(y.url,g.ref.name,g.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,u.context2d.save(!0),l(this.prop.container,d)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},o.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(n(a)!=="object")return this;var l=Object.keys(a||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=a[u]};switch(u){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[u]=a[u]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(a,l){return this.then(function(){var u=a in o.template.prop?this.prop[a]:this.opt[a];return l?l(u):u})},o.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function l(u,c){return Math.floor(u*c/72*96)}return this.then(function(){(a=a||st.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,l,u,c){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,l,u,c){return this.setProgress(a?this.progress.val+a:null,l||null,u?this.progress.n+u:null,c?this.progress.stack.concat(c):null)},o.prototype.then=function(a,l){var u=this;return this.thenCore(a,l,function(c,h){return u.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(d){return u.updateProgress(null,c),d}).then(c,h).then(function(d){return u.updateProgress(1),d})})},o.prototype.thenCore=function(a,l,u){u=u||Promise.prototype.then;var c=this;a&&(a=a.bind(c)),l&&(l=l.bind(c));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?c:o.convert(Object.assign({},c),Promise.prototype),d=u.call(h,a,l);return o.convert(d,c.__proto__)},o.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},o.prototype.thenList=function(a){var l=this;return a.forEach(function(u){l=l.thenCore(u)}),l},o.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return o.convert(l,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,st.getPageSize=function(a,l,u){if(Ht(a)==="object"){var c=a;a=c.orientation,l=c.unit||l,u=c.format||u}l=l||"mm",u=u||"a4",a=(""+(a||"P")).toLowerCase();var h,d=(""+u).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+l}var g,y=0,x=0;if(f.hasOwnProperty(d))y=f[d][1]/h,x=f[d][0]/h;else try{y=u[1],x=u[0]}catch{throw new Error("Invalid format: "+u)}if(a==="p"||a==="portrait")a="p",x>y&&(g=x,x=y,y=g);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",y>x&&(g=x,x=y,y=g)}return{width:x,height:y,unit:l,k:h,orientation:a}},t.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(g0):null;var u=new o(l);return l.worker?u:u.from(a).doCallback()}}(st.API),st.API.addJS=function(t){var e,r,n=t;return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+n+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&r!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=n.exec(o);if(a!=null){var l=a[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(s=0;s<u;s++){var h=r.internal.newObject();c.push(h);var d=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+d.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<c.length;s++)r.internal.write("(page_"+(s+1)+")"+c[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var o={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var o=n.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(st.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,s,o,a){var l,u=this.decode.DCT_DECODE,c=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(h){for(var d,f=256*h.charCodeAt(4)+h.charCodeAt(5),g=h.length,y={width:0,height:0,numcomponents:1},x=4;x<g;x+=2){if(x+=f,e.indexOf(h.charCodeAt(x+1))!==-1){d=256*h.charCodeAt(x+5)+h.charCodeAt(x+6),y={width:256*h.charCodeAt(x+7)+h.charCodeAt(x+8),height:d,numcomponents:h.charCodeAt(x+9)};break}f=256*h.charCodeAt(x+2)+h.charCodeAt(x+3)}return y}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}c={data:r,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:u,index:n,alias:i}}return c}}(st.API),st.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=mU(t,{checkCrc:!0}),o=s.width,a=s.height,l=s.channels,u=s.palette,c=s.depth;i=u&&l===1?function(z){for(var T=z.width,Z=z.height,H=z.data,L=z.palette,U=z.depth,A=!1,ie=[],he=[],te=void 0,re=!1,ae=0,ve=0;ve<L.length;ve++){var le=L3(L[ve],4),C=le[0],q=le[1],$=le[2],se=le[3];ie.push(C,q,$),se!=null&&(se===0?(ae++,he.length<1&&he.push(ve)):se<255&&(re=!0))}if(re||ae>1){A=!0,he=void 0;var J=T*Z;te=new Uint8Array(J);for(var O=new DataView(H.buffer),I=0;I<J;I++){var Q=v0(O,I,U),Y=L3(L[Q],4)[3];te[I]=Y}}else ae===0&&(he=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:A?8:void 0,colorBytes:H,alphaBytes:te,needSMask:A,palette:ie,mask:he}}(s):l===2||l===4?function(z){for(var T=z.data,Z=z.width,H=z.height,L=z.channels,U=z.depth,A=L===2?"DeviceGray":"DeviceRGB",ie=L-1,he=Z*H,te=ie,re=he*te,ae=1*he,ve=Math.ceil(re*U/8),le=Math.ceil(ae*U/8),C=new Uint8Array(ve),q=new Uint8Array(le),$=new DataView(T.buffer),se=new DataView(C.buffer),J=new DataView(q.buffer),O=!1,I=0;I<he;I++){for(var Q=I*L,Y=0;Y<te;Y++)R4(se,v0($,Q+Y,U),I*te+Y,U);var V=v0($,Q+te,U);V<(1<<U)-1&&(O=!0),R4(J,V,1*I,U)}return{colorSpace:A,colorsPerPixel:ie,sMaskBitsPerComponent:O?U:void 0,colorBytes:C,alphaBytes:q,needSMask:O}}(s):function(z){var T=z.data,Z=z.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:Z,colorsPerPixel:Z==="DeviceGray"?1:3,colorBytes:T instanceof Uint16Array?function(H){for(var L=H.length,U=new Uint8Array(2*L),A=new DataView(U.buffer,U.byteOffset,U.byteLength),ie=0;ie<L;ie++)A.setUint16(2*ie,H[ie],!1);return U}(T):T,needSMask:!1}}(s);var h,d,f,g=i,y=g.colorSpace,x=g.colorsPerPixel,p=g.sMaskBitsPerComponent,v=g.colorBytes,b=g.alphaBytes,w=g.needSMask,N=g.palette,j=g.mask,F=null;return n!==st.API.image_compression.NONE&&typeof j2=="function"?(F=function(z){var T;switch(z){case st.API.image_compression.FAST:T=11;break;case st.API.image_compression.MEDIUM:T=13;break;case st.API.image_compression.SLOW:T=14;break;default:T=12}return T}(n),h=this.decode.FLATE_DECODE,d="/Predictor ".concat(F," /Colors ").concat(x," /BitsPerComponent ").concat(c," /Columns ").concat(o),t=C4(v,Math.ceil(o*x*c/8),x,c,n),w&&(f=C4(b,Math.ceil(o*p/8),1,p,n))):(h=void 0,d=void 0,t=v,w&&(f=b)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:r,data:t,index:e,filter:h,decodeParameters:d,transparency:j,palette:N,sMask:f,predictor:F,width:o,height:a,bitsPerComponent:c,sMaskBitsPerComponent:p,colorSpace:y}}},function(t){t.processGIF89A=function(e,r,n,i){var s=new DU(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:a},c=new w0(100).encode(u,100);return t.processJPEG.call(this,c,r,n,i)},t.processGIF87A=t.processGIF89A}(st.API),Ji.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ji.prototype.parseBGR=function(){this.pos=this.offset;var t="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[t]()}catch(r){Zt.log("bit decode error:"+r)}},Ji.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}r!==0&&(this.pos+=4-r)}},Ji.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,a=s>>4,l=15&s,u=this.palette[a];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Ji.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Ji.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,c=n*this.width*4+4*i;this.data[c]=l,this.data[c+1]=a,this.data[c+2]=o,this.data[c+3]=u}this.pos+=t}},Ji.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&r)/r*255|0,u=(o>>11)/e*255|0,c=i*this.width*4+4*s;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=a,this.data[c+3]=255}this.pos+=t}},Ji.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Ji.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=o}},Ji.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var s=new Ji(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new w0(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}}(st.API),M4.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var s=new M4(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new w0(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}}(st.API),st.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,u=0;u<i;u+=4){var c=n[u],h=n[u+1],d=n[u+2],f=n[u+3];s[a++]=c,s[a++]=h,s[a++]=d,o[l++]=f}var g=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:g,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},st.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},gu=st.API,tp=gu.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=u.fof?u.fof:1,h=e.doKerning!==!1,d=0,f=t.length,g=0,y=a[0]||l,x=[];for(r=0;r<f;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?x.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/s)||0)/1e3):(d=h&&Ht(u[n])==="object"&&!isNaN(parseInt(u[n][g],10))?u[n][g]/c:0,x.push((a[n]||y)/l+d)),g=n;return x},A4=gu.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return gu.processArabic&&(t=gu.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:tp.apply(this,arguments).reduce(function(s,o){return s+o},0)},E4=function(t,e,r,n){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<r;)a+=e[s],s++;i.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>n&&(i.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},N4=function(t,e,r){r||(r={});var n,i,s,o,a,l,u,c=[],h=[c],d=r.textIndent||0,f=0,g=0,y=t.split(" "),x=tp.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?y[0].length+2:r.lineIndent||0){var p=Array(l).join(" "),v=[];y.map(function(w){(w=w.split(/\s*\n/)).length>1?v=v.concat(w.map(function(N,j){return(j&&N.length?`
`:"")+N})):v.push(w[0])}),y=v,l=A4.apply(this,[p,r])}for(s=0,o=y.length;s<o;s++){var b=0;if(n=y[s],l&&n[0]==`
`&&(n=n.substr(1),b=1),d+f+(g=(i=tp.apply(this,[n,r])).reduce(function(w,N){return w+N},0))>e||b){if(g>e){for(a=E4.apply(this,[n,i,e-(d+f),e]),c.push(a.shift()),c=[a.pop()];a.length;)h.push([a.shift()]);g=i.slice(n.length-(c[0]?c[0].length:0)).reduce(function(w,N){return w+N},0)}else c=[n];h.push(c),d=g+l,f=x}else c.push(n),d+=f+g,f=x}return u=l?function(w,N){return(N?p:"")+w.join(" ")}:function(w){return w.join(" ")},h.map(u)},gu.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var h=this.internal.getFont(c.fontName,c.fontStyle),d="Unicode";return h.metadata[d]?{widths:h.metadata[d].widths||{0:1},kerning:h.metadata[d].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var a,l,u=[];for(a=0,l=n.length;a<l;a++)u=u.concat(N4.apply(this,[n[a],o,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},s=0;s<16;s++)n[r[s]]=e[s],i[e[s]]=r[s];var o=function(d){return"0x"+parseInt(d,10).toString(16)},a=t.__fontmetrics__.compress=function(d){var f,g,y,x,p=["{"];for(var v in d){if(f=d[v],isNaN(parseInt(v,10))?g="'"+v+"'":(v=parseInt(v,10),g=(g=o(v).slice(2)).slice(0,-1)+i[g.slice(-1)]),typeof f=="number")f<0?(y=o(f).slice(3),x="-"):(y=o(f).slice(2),x=""),y=x+y.slice(0,-1)+i[y.slice(-1)];else{if(Ht(f)!=="object")throw new Error("Don't know what to do with value type "+Ht(f)+".");y=a(f)}p.push(g+y)}return p.push("}"),p.join("")},l=t.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,g,y,x,p={},v=1,b=p,w=[],N="",j="",F=d.length-1,z=1;z<F;z+=1)(x=d[z])=="'"?f?(y=f.join(""),f=void 0):f=[]:f?f.push(x):x=="{"?(w.push([b,y]),b={},y=void 0):x=="}"?((g=w.pop())[0][g[1]]=b,y=void 0,b=g[0]):x=="-"?v=-1:y===void 0?n.hasOwnProperty(x)?(N+=n[x],y=parseInt(N,16)*v,v=1,N=""):N+=x:n.hasOwnProperty(x)?(j+=n[x],b[y]=parseInt(j,16)*v,v=1,y=void 0,j=""):j+=x;return p},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(d){var f=d.font,g=h.Unicode[f.postScriptName];g&&(f.metadata.Unicode={},f.metadata.Unicode.widths=g.widths,f.metadata.Unicode.kerning=g.kerning);var y=c.Unicode[f.postScriptName];y&&(f.metadata.Unicode.encoding=y,f.encoding=y.codePages[0])}])}(st.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(Op(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])}(st),st.API.addSvgAsImage=function(t,e,r,n,i,s,o,a){if(isNaN(e)||isNaN(r))throw Zt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw Zt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var c={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(dt.canvg?Promise.resolve(dt.canvg):Z1(()=>import("./index.es-B_uA1Qo6.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load canvg: "+d))}).then(function(d){return d.default?d.default:d}).then(function(d){return d.fromString(u,t,c)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(d){return d.render(c)}).then(function(){h.addImage(l.toDataURL("image/jpeg",1),e,r,n,i,o,a)})},st.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},st.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],u=0,c=0,h=0;function d(g,y){var x,p=!1;for(x=0;x<g.length;x+=1)g[x]===y&&(p=!0);return p}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=a.length;for(h=0;h<f;h+=1)r[a[h]].value=r[a[h]].defaultValue,r[a[h]].explicitSet=!1}if(Ht(t)==="object"){for(i in t)if(s=t[i],d(a,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&d(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(c=0;c<s[u].length;c+=1)typeof s[u][c]!="number"&&(n=!1);n===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,y=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?y.push("/"+g+" /"+r[g].value):y.push("/"+g+" "+r[g].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},st.API.addMetadata=function(t,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:t,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",BU),this.internal.events.subscribe("postPutResources",FU)),this},function(t){var e=t.API,r=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],h=0,d=s.length;h<d;++h){if(a=o.metadata.characterToGlyph(s.charCodeAt(h)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(h),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return c.join("");a=a.toString(16),c.push(u[4-a.length],a)}return c.join("")},n=function(s){var o,a,l,u,c,h,d;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,d=(a=Object.keys(s).sort(function(f,g){return f-g})).length;h<d;h++)o=a[h],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,c=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var h=a.metadata.Unicode.widths,d=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),f="",g=0;g<d.length;g++)f+=String.fromCharCode(d[g]);var y=u();c({data:f,addLength1:!0,objectId:y}),l("endobj");var x=u();c({data:n(a.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var p=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+ku(a.fontName)),l("/FontFile2 "+y+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var v=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+ku(a.fontName)),l("/FontDescriptor "+p+" 0 R"),l("/W "+t.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+x+" 0 R"),l("/BaseFont /"+ku(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+v+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,c=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var h=a.metadata.rawData,d="",f=0;f<h.length;f++)d+=String.fromCharCode(h[f]);var g=u();c({data:d,addLength1:!0,objectId:g}),l("endobj");var y=u();c({data:n(a.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var x=u();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+g+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+ku(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=u();for(var p=0;p<a.metadata.hmtx.widths.length;p++)a.metadata.hmtx.widths[p]=parseInt(a.metadata.hmtx.widths[p]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+ku(a.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,u=s.y,c=s.options||{},h=s.mutex||{},d=h.pdfEscape,f=h.activeFontKey,g=h.fonts,y=f,x="",p=0,v="",b=g[y].encoding;if(g[y].encoding!=="Identity-H")return{text:a,x:l,y:u,options:c,mutex:h};for(v=a,y=f,Array.isArray(a)&&(v=a[0]),p=0;p<v.length;p+=1)g[y].metadata.hasOwnProperty("cmap")&&(o=g[y].metadata.cmap.unicode.codeMap[v[p].charCodeAt(0)]),o||v[p].charCodeAt(0)<256&&g[y].metadata.hasOwnProperty("Unicode")?x+=v[p]:x+="";var w="";return parseInt(y.slice(1))<14||b==="WinAnsiEncoding"?w=d(x,y).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(w=r(x,g[y])),h.isHex=!0,{text:w,x:l,y:u,options:c,mutex:h}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?a.push([i(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):a.push(i(Object.assign({},l,{text:o[u]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(st),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(st.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,s,o,a,l,u,c,h=e,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],p=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),v=!1,b=0;this.__bidiEngine__={};var w=function(H){var L=H.charCodeAt(),U=L>>8,A=y[U];return A!==void 0?h[256*A+(255&L)]:U===252||U===253?"AL":p.test(U)?"L":U===8?"R":"N"},N=function(H){for(var L,U=0;U<H.length;U++){if((L=w(H.charAt(U)))==="L")return!1;if(L==="R")return!0}return!1},j=function(H,L,U,A){var ie,he,te,re,ae=L[A];switch(ae){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":v=!1;break;case"N":case"AN":break;case"EN":v&&(ae="AN");break;case"AL":v=!0,ae="R";break;case"WS":case"BN":ae="N";break;case"CS":A<1||A+1>=L.length||(ie=U[A-1])!=="EN"&&ie!=="AN"||(he=L[A+1])!=="EN"&&he!=="AN"?ae="N":v&&(he="AN"),ae=he===ie?he:"N";break;case"ES":ae=(ie=A>0?U[A-1]:"B")==="EN"&&A+1<L.length&&L[A+1]==="EN"?"EN":"N";break;case"ET":if(A>0&&U[A-1]==="EN"){ae="EN";break}if(v){ae="N";break}for(te=A+1,re=L.length;te<re&&L[te]==="ET";)te++;ae=te<re&&L[te]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(re=L.length,te=A+1;te<re&&L[te]==="NSM";)te++;if(te<re){var ve=H[A],le=ve>=1425&&ve<=2303||ve===64286;if(ie=L[te],le&&(ie==="R"||ie==="AL")){ae="R";break}}}ae=A<1||(ie=L[A-1])==="B"?"N":U[A-1];break;case"B":v=!1,i=!0,ae=b;break;case"S":s=!0,ae="N"}return ae},F=function(H,L,U){var A=H.split("");return U&&z(A,U,{hiLevel:b}),A.reverse(),L&&L.reverse(),A.join("")},z=function(H,L,U){var A,ie,he,te,re,ae=-1,ve=H.length,le=0,C=[],q=b?f:d,$=[];for(v=!1,i=!1,s=!1,ie=0;ie<ve;ie++)$[ie]=w(H[ie]);for(he=0;he<ve;he++){if(re=le,C[he]=j(H,$,C,he),A=240&(le=q[re][g[C[he]]]),le&=15,L[he]=te=q[le][5],A>0)if(A===16){for(ie=ae;ie<he;ie++)L[ie]=1;ae=-1}else ae=-1;if(q[le][6])ae===-1&&(ae=he);else if(ae>-1){for(ie=ae;ie<he;ie++)L[ie]=te;ae=-1}$[he]==="B"&&(L[he]=0),U.hiLevel|=te}s&&function(se,J,O){for(var I=0;I<O;I++)if(se[I]==="S"){J[I]=b;for(var Q=I-1;Q>=0&&se[Q]==="WS";Q--)J[Q]=b}}($,L,ve)},T=function(H,L,U,A,ie){if(!(ie.hiLevel<H)){if(H===1&&b===1&&!i)return L.reverse(),void(U&&U.reverse());for(var he,te,re,ae,ve=L.length,le=0;le<ve;){if(A[le]>=H){for(re=le+1;re<ve&&A[re]>=H;)re++;for(ae=le,te=re-1;ae<te;ae++,te--)he=L[ae],L[ae]=L[te],L[te]=he,U&&(he=U[ae],U[ae]=U[te],U[te]=he);le=re}le++}}},Z=function(H,L,U){var A=H.split(""),ie={hiLevel:b};return U||(U=[]),z(A,U,ie),function(he,te,re){if(re.hiLevel!==0&&c)for(var ae,ve=0;ve<he.length;ve++)te[ve]===1&&(ae=x.indexOf(he[ve]))>=0&&(he[ve]=x[ae+1])}(A,U,ie),T(2,A,L,U,ie),T(1,A,L,U,ie),A.join("")};return this.__bidiEngine__.doBidiReorder=function(H,L,U){if(function(ie,he){if(he)for(var te=0;te<ie.length;te++)he[te]=te;a===void 0&&(a=N(ie)),u===void 0&&(u=N(ie))}(H,L),o||!l||u)if(o&&l&&a^u)b=a?1:0,H=F(H,L,U);else if(!o&&l&&u)b=a?1:0,H=Z(H,L,U),H=F(H,L);else if(!o||a||l||u){if(o&&!l&&a^u)H=F(H,L),a?(b=0,H=Z(H,L,U)):(b=1,H=Z(H,L,U),H=F(H,L));else if(o&&a&&!l&&u)b=1,H=Z(H,L,U),H=F(H,L);else if(!o&&!l&&a^u){var A=c;a?(b=1,H=Z(H,L,U),b=0,c=!1,H=Z(H,L,U),c=A):(b=0,H=Z(H,L,U),H=F(H,L),b=1,c=!1,H=Z(H,L,U),c=A,H=F(H,L))}}else b=0,H=Z(H,L,U);else b=a?1:0,H=Z(H,L,U);return H},this.__bidiEngine__.setOptions=function(H){H&&(o=H.isInputVisual,l=H.isOutputVisual,a=H.isInputRtl,u=H.isOutputRtl,c=H.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([r.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([r.doBidiReorder(i[a])]);n.text=o}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(st),st.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Ca(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new QU(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new jU(this.contents),this.head=new UU(this),this.name=new $U(this),this.cmap=new iC(this),this.toUnicode={},this.hhea=new qU(this),this.maxp=new KU(this),this.hmtx=new GU(this),this.post=new HU(this),this.os2=new WU(this),this.loca=new ZU(this),this.glyf=new JU(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,u;for(u=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var cs,Ca=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,s,o,a,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)r=e[n],s.push(this.writeByte(r));return s},t}(),jU=function(){var t;function e(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,s,o,a,l,u,c,h,d,f,g,y;for(y in f=Object.keys(r).length,l=Math.log(2),h=16*Math.floor(Math.log(f)/l),o=Math.floor(h/l),c=16*f-h,(i=new Ca).writeInt(this.scalarType),i.writeShort(f),i.writeShort(h),i.writeShort(o),i.writeShort(c),s=16*f,u=i.pos+s,a=null,g=[],r)for(d=r[y],i.writeString(y),i.writeInt(t(d)),i.writeInt(u),i.writeInt(d.length),g=g.concat(d),y==="head"&&(a=u),u+=d.length;u%4;)g.push(0),u++;return i.write(g),n=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(n),i.data},t=function(r){var n,i,s,o;for(r=sC.call(r);r.length%4;)r.push(0);for(s=new Ca(r),i=0,n=0,o=r.length;n<o;n=n+=4)i+=s.readUInt32();return 4294967295&i},e}(),zU={}.hasOwnProperty,Bs=function(t,e){for(var r in e)zU.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};cs=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var UU=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Bs(t,cs),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new Ca).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),D4=function(){function t(e,r){var n,i,s,o,a,l,u,c,h,d,f,g,y,x,p,v,b;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),d=f/2,e.pos+=6,s=function(){var w,N;for(N=[],l=w=0;0<=d?w<d:w>d;l=0<=d?++w:--w)N.push(e.readUInt16());return N}(),e.pos+=2,y=function(){var w,N;for(N=[],l=w=0;0<=d?w<d:w>d;l=0<=d?++w:--w)N.push(e.readUInt16());return N}(),u=function(){var w,N;for(N=[],l=w=0;0<=d?w<d:w>d;l=0<=d?++w:--w)N.push(e.readUInt16());return N}(),c=function(){var w,N;for(N=[],l=w=0;0<=d?w<d:w>d;l=0<=d?++w:--w)N.push(e.readUInt16());return N}(),i=(this.length-e.pos+this.offset)/2,a=function(){var w,N;for(N=[],l=w=0;0<=i?w<i:w>i;l=0<=i?++w:--w)N.push(e.readUInt16());return N}(),l=p=0,b=s.length;p<b;l=++p)for(x=s[l],n=v=g=y[l];g<=x?v<=x:v>=x;n=g<=x?++v:--v)c[l]===0?o=n+u[l]:(o=a[c[l]/2+(n-g)-(d-l)]||0)!==0&&(o+=u[l]),this.codeMap[n]=65535&o}e.pos=h}return t.encode=function(e,r){var n,i,s,o,a,l,u,c,h,d,f,g,y,x,p,v,b,w,N,j,F,z,T,Z,H,L,U,A,ie,he,te,re,ae,ve,le,C,q,$,se,J,O,I,Q,Y,V,X;switch(A=new Ca,o=Object.keys(e).sort(function(ye,M){return ye-M}),r){case"macroman":for(y=0,x=function(){var ye=[];for(g=0;g<256;++g)ye.push(0);return ye}(),v={0:0},s={},ie=0,ae=o.length;ie<ae;ie++)v[Q=e[i=o[ie]]]==null&&(v[Q]=++y),s[i]={old:e[i],new:v[e[i]]},x[i]=v[e[i]];return A.writeUInt16(1),A.writeUInt16(0),A.writeUInt32(12),A.writeUInt16(0),A.writeUInt16(262),A.writeUInt16(0),A.write(x),{charMap:s,subtable:A.data,maxGlyphID:y+1};case"unicode":for(L=[],h=[],b=0,v={},n={},p=u=null,he=0,ve=o.length;he<ve;he++)v[N=e[i=o[he]]]==null&&(v[N]=++b),n[i]={old:N,new:v[N]},a=v[N]-i,p!=null&&a===u||(p&&h.push(p),L.push(i),u=a),p=i;for(p&&h.push(p),h.push(65535),L.push(65535),Z=2*(T=L.length),z=2*Math.pow(Math.log(T)/Math.LN2,2),d=Math.log(z/2)/Math.LN2,F=2*T-z,l=[],j=[],f=[],g=te=0,le=L.length;te<le;g=++te){if(H=L[g],c=h[g],H===65535){l.push(0),j.push(0);break}if(H-(U=n[H].new)>=32768)for(l.push(0),j.push(2*(f.length+T-g)),i=re=H;H<=c?re<=c:re>=c;i=H<=c?++re:--re)f.push(n[i].new);else l.push(U-H),j.push(0)}for(A.writeUInt16(3),A.writeUInt16(1),A.writeUInt32(12),A.writeUInt16(4),A.writeUInt16(16+8*T+2*f.length),A.writeUInt16(0),A.writeUInt16(Z),A.writeUInt16(z),A.writeUInt16(d),A.writeUInt16(F),O=0,C=h.length;O<C;O++)i=h[O],A.writeUInt16(i);for(A.writeUInt16(0),I=0,q=L.length;I<q;I++)i=L[I],A.writeUInt16(i);for(Y=0,$=l.length;Y<$;Y++)a=l[Y],A.writeUInt16(a);for(V=0,se=j.length;V<se;V++)w=j[V],A.writeUInt16(w);for(X=0,J=f.length;X<J;X++)y=f[X],A.writeUInt16(y);return{charMap:n,subtable:A.data,maxGlyphID:b+1}}},t}(),iC=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Bs(t,cs),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new D4(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=D4.encode(e,r),(i=new Ca).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t}(),qU=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Bs(t,cs),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),WU=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Bs(t,cs),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),HU=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Bs(t,cs),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var o,a,l;for(l=[],s=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;s=0<=a?++o:--o)l.push(e.readUInt32());return l}).call(this)}},t}(),VU=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},$U=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Bs(t,cs),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,s,o,a,l,u,c,h,d;for(e.pos=this.offset,e.readShort(),r=e.readShort(),a=e.readShort(),n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(l={},s=c=0,h=n.length;c<h;s=++c)i=n[s],e.pos=i.offset,u=e.readString(i.length),o=new VU(u,i),l[d=i.nameID]==null&&(l[d]=[]),l[i.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),KU=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Bs(t,cs),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),GU=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Bs(t,cs),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,s,o,a,l;for(e.pos=this.offset,this.metrics=[],r=0,a=this.file.hhea.numberOfMetrics;0<=a?r<a:r>a;r=0<=a?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,c;for(c=[],r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u)c.push(e.readInt16());return c}(),this.widths=(function(){var u,c,h,d;for(d=[],u=0,c=(h=this.metrics).length;u<c;u++)s=h[u],d.push(s.advance);return d}).call(this),n=this.widths[this.widths.length-1],l=[],r=o=0;0<=i?o<i:o>i;r=0<=i?++o:--o)l.push(this.widths.push(n));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),sC=[].slice,JU=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Bs(t,cs),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,s,o,a,l,u,c,h;return e in this.cache?this.cache[e]:(s=this.file.loca,r=this.file.contents,n=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,o=(a=new Ca(r.read(i))).readShort(),u=a.readShort(),h=a.readShort(),l=a.readShort(),c=a.readShort(),this.cache[e]=o===-1?new XU(a,u,h,l,c):new YU(a,o,u,h,l,c),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,s,o,a,l;for(o=[],s=[],a=0,l=r.length;a<l;a++)i=e[r[a]],s.push(o.length),i&&(o=o.concat(i.encode(n)));return s.push(o.length),{table:o,offsets:s}},t}(),YU=function(){function t(e,r,n,i,s,o){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),XU=function(){function t(e,r,n,i,s){var o,a;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Ca(sC.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),ZU=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Bs(t,cs),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<n.length;++o)if(n[o]=i,s<r.length&&r[s]==o){++s,n[o]=i;var a=this.offsets[o],l=this.offsets[o+1]-a;l>0&&(i+=l)}for(var u=new Array(4*n.length),c=0;c<n.length;++c)u[4*c+3]=255&n[c],u[4*c+2]=(65280&n[c])>>8,u[4*c+1]=(16711680&n[c])>>16,u[4*c]=(4278190080&n[c])>>24;return u},t}(),QU=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in l=this.glyphsFor(r))n=l[s],i[s]=n;return i},t.prototype.encode=function(e,r){var n,i,s,o,a,l,u,c,h,d,f,g,y,x,p;for(i in n=iC.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),f={0:0},p=n.charMap)f[(l=p[i]).old]=l.new;for(g in d=n.maxGlyphID,o)g in f||(f[g]=d++);return c=function(v){var b,w;for(b in w={},v)w[v[b]]=b;return w}(f),h=Object.keys(c).sort(function(v,b){return v-b}),y=function(){var v,b,w;for(w=[],v=0,b=h.length;v<b;v++)a=h[v],w.push(c[a]);return w}(),s=this.font.glyf.encode(o,y,f),u=this.font.loca.encode(s.offsets,y),x={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},t}();st.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,s,o;if(Array.isArray(r))return"["+function(){var a,l,u;for(u=[],a=0,l=r.length;a<l;a++)n=r[a],u.push(e.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)o=r[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+r},e}();var eq=Object.defineProperty,tq=Object.defineProperties,rq=Object.getOwnPropertyDescriptors,F4=Object.getOwnPropertySymbols,nq=Object.prototype.hasOwnProperty,iq=Object.prototype.propertyIsEnumerable,K2=(t,e,r)=>e in t?eq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Mt=(t,e)=>{for(var r in e||(e={}))nq.call(e,r)&&K2(t,r,e[r]);if(F4)for(var r of F4(e))iq.call(e,r)&&K2(t,r,e[r]);return t},gc=(t,e)=>tq(t,rq(e)),Ie=(t,e,r)=>K2(t,typeof e!="symbol"?e+"":e,r),sq=(t,e,r)=>new Promise((n,i)=>{var s=l=>{try{a(r.next(l))}catch(u){i(u)}},o=l=>{try{a(r.throw(l))}catch(u){i(u)}},a=l=>l.done?n(l.value):Promise.resolve(l.value).then(s,o);a((r=r.apply(t,e)).next())});class Om{constructor(e){Ie(this,"rootKey"),this.rootKey=e}}const oq=Object.seal({});class Be extends Om{constructor(e){super(e),Ie(this,"root"),this.root=new Array}prepForXml(e){var r;e.stack.push(this);const n=this.root.map(i=>i instanceof Om?i.prepForXml(e):i).filter(i=>i!==void 0);return e.stack.pop(),{[this.rootKey]:n.length?n.length===1&&((r=n[0])!=null&&r._attr)?n[0]:n:oq}}addChildElement(e){return this.root.push(e),this}}class hg extends Be{prepForXml(e){const r=super.prepForXml(e);if(r&&(typeof r[this.rootKey]!="object"||Object.keys(r[this.rootKey]).length))return r}}class pt extends Om{constructor(e){super("_attr"),Ie(this,"xmlKeys"),this.root=e}prepForXml(e){const r={};return Object.entries(this.root).forEach(([n,i])=>{if(i!==void 0){const s=this.xmlKeys&&this.xmlKeys[n]||n;r[s]=i}}),{_attr:r}}}class dg extends Om{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter(({value:n})=>n!==void 0).reduce((n,{key:i,value:s})=>gc(Mt({},n),{[i]:s}),{})}}}class Lr extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var Ps=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var b0={},rp={exports:{}},B4;function C5(){if(B4)return rp.exports;B4=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(N,j,F){return Function.prototype.apply.call(N,j,F)},r;t&&typeof t.ownKeys=="function"?r=t.ownKeys:Object.getOwnPropertySymbols?r=function(N){return Object.getOwnPropertyNames(N).concat(Object.getOwnPropertySymbols(N))}:r=function(N){return Object.getOwnPropertyNames(N)};function n(w){console&&console.warn&&console.warn(w)}var i=Number.isNaN||function(N){return N!==N};function s(){s.init.call(this)}rp.exports=s,rp.exports.once=p,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(w){if(typeof w!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof w)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(w){if(typeof w!="number"||w<0||i(w))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+w+".");o=w}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(N){if(typeof N!="number"||N<0||i(N))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+N+".");return this._maxListeners=N,this};function l(w){return w._maxListeners===void 0?s.defaultMaxListeners:w._maxListeners}s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(N){for(var j=[],F=1;F<arguments.length;F++)j.push(arguments[F]);var z=N==="error",T=this._events;if(T!==void 0)z=z&&T.error===void 0;else if(!z)return!1;if(z){var Z;if(j.length>0&&(Z=j[0]),Z instanceof Error)throw Z;var H=new Error("Unhandled error."+(Z?" ("+Z.message+")":""));throw H.context=Z,H}var L=T[N];if(L===void 0)return!1;if(typeof L=="function")e(L,this,j);else for(var U=L.length,A=g(L,U),F=0;F<U;++F)e(A[F],this,j);return!0};function u(w,N,j,F){var z,T,Z;if(a(j),T=w._events,T===void 0?(T=w._events=Object.create(null),w._eventsCount=0):(T.newListener!==void 0&&(w.emit("newListener",N,j.listener?j.listener:j),T=w._events),Z=T[N]),Z===void 0)Z=T[N]=j,++w._eventsCount;else if(typeof Z=="function"?Z=T[N]=F?[j,Z]:[Z,j]:F?Z.unshift(j):Z.push(j),z=l(w),z>0&&Z.length>z&&!Z.warned){Z.warned=!0;var H=new Error("Possible EventEmitter memory leak detected. "+Z.length+" "+String(N)+" listeners added. Use emitter.setMaxListeners() to increase limit");H.name="MaxListenersExceededWarning",H.emitter=w,H.type=N,H.count=Z.length,n(H)}return w}s.prototype.addListener=function(N,j){return u(this,N,j,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(N,j){return u(this,N,j,!0)};function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(w,N,j){var F={fired:!1,wrapFn:void 0,target:w,type:N,listener:j},z=c.bind(F);return z.listener=j,F.wrapFn=z,z}s.prototype.once=function(N,j){return a(j),this.on(N,h(this,N,j)),this},s.prototype.prependOnceListener=function(N,j){return a(j),this.prependListener(N,h(this,N,j)),this},s.prototype.removeListener=function(N,j){var F,z,T,Z,H;if(a(j),z=this._events,z===void 0)return this;if(F=z[N],F===void 0)return this;if(F===j||F.listener===j)--this._eventsCount===0?this._events=Object.create(null):(delete z[N],z.removeListener&&this.emit("removeListener",N,F.listener||j));else if(typeof F!="function"){for(T=-1,Z=F.length-1;Z>=0;Z--)if(F[Z]===j||F[Z].listener===j){H=F[Z].listener,T=Z;break}if(T<0)return this;T===0?F.shift():y(F,T),F.length===1&&(z[N]=F[0]),z.removeListener!==void 0&&this.emit("removeListener",N,H||j)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(N){var j,F,z;if(F=this._events,F===void 0)return this;if(F.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):F[N]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete F[N]),this;if(arguments.length===0){var T=Object.keys(F),Z;for(z=0;z<T.length;++z)Z=T[z],Z!=="removeListener"&&this.removeAllListeners(Z);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(j=F[N],typeof j=="function")this.removeListener(N,j);else if(j!==void 0)for(z=j.length-1;z>=0;z--)this.removeListener(N,j[z]);return this};function d(w,N,j){var F=w._events;if(F===void 0)return[];var z=F[N];return z===void 0?[]:typeof z=="function"?j?[z.listener||z]:[z]:j?x(z):g(z,z.length)}s.prototype.listeners=function(N){return d(this,N,!0)},s.prototype.rawListeners=function(N){return d(this,N,!1)},s.listenerCount=function(w,N){return typeof w.listenerCount=="function"?w.listenerCount(N):f.call(w,N)},s.prototype.listenerCount=f;function f(w){var N=this._events;if(N!==void 0){var j=N[w];if(typeof j=="function")return 1;if(j!==void 0)return j.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function g(w,N){for(var j=new Array(N),F=0;F<N;++F)j[F]=w[F];return j}function y(w,N){for(;N+1<w.length;N++)w[N]=w[N+1];w.pop()}function x(w){for(var N=new Array(w.length),j=0;j<N.length;++j)N[j]=w[j].listener||w[j];return N}function p(w,N){return new Promise(function(j,F){function z(Z){w.removeListener(N,T),F(Z)}function T(){typeof w.removeListener=="function"&&w.removeListener("error",z),j([].slice.call(arguments))}b(w,N,T,{once:!0}),N!=="error"&&v(w,z,{once:!0})})}function v(w,N,j){typeof w.on=="function"&&b(w,"error",N,j)}function b(w,N,j,F){if(typeof w.on=="function")F.once?w.once(N,j):w.on(N,j);else if(typeof w.addEventListener=="function")w.addEventListener(N,function z(T){F.once&&w.removeEventListener(N,z),j(T)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof w)}return rp.exports}var np={exports:{}},j4;function Da(){return j4||(j4=1,typeof Object.create=="function"?np.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:np.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),np.exports}function aq(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var aC={exports:{}},Or=aC.exports={},Es,Ns;function G2(){throw new Error("setTimeout has not been defined")}function J2(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Es=setTimeout:Es=G2}catch{Es=G2}try{typeof clearTimeout=="function"?Ns=clearTimeout:Ns=J2}catch{Ns=J2}})();function lC(t){if(Es===setTimeout)return setTimeout(t,0);if((Es===G2||!Es)&&setTimeout)return Es=setTimeout,setTimeout(t,0);try{return Es(t,0)}catch{try{return Es.call(null,t,0)}catch{return Es.call(this,t,0)}}}function lq(t){if(Ns===clearTimeout)return clearTimeout(t);if((Ns===J2||!Ns)&&clearTimeout)return Ns=clearTimeout,clearTimeout(t);try{return Ns(t)}catch{try{return Ns.call(null,t)}catch{return Ns.call(this,t)}}}var yo=[],Zu=!1,vl,Dp=-1;function uq(){!Zu||!vl||(Zu=!1,vl.length?yo=vl.concat(yo):Dp=-1,yo.length&&uC())}function uC(){if(!Zu){var t=lC(uq);Zu=!0;for(var e=yo.length;e;){for(vl=yo,yo=[];++Dp<e;)vl&&vl[Dp].run();Dp=-1,e=yo.length}vl=null,Zu=!1,lq(t)}}Or.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];yo.push(new cC(t,e)),yo.length===1&&!Zu&&lC(uC)};function cC(t,e){this.fun=t,this.array=e}cC.prototype.run=function(){this.fun.apply(null,this.array)};Or.title="browser";Or.browser=!0;Or.env={};Or.argv=[];Or.version="";Or.versions={};function To(){}Or.on=To;Or.addListener=To;Or.once=To;Or.off=To;Or.removeListener=To;Or.removeAllListeners=To;Or.emit=To;Or.prependListener=To;Or.prependOnceListener=To;Or.listeners=function(t){return[]};Or.binding=function(t){throw new Error("process.binding is not supported")};Or.cwd=function(){return"/"};Or.chdir=function(t){throw new Error("process.chdir is not supported")};Or.umask=function(){return 0};var cq=aC.exports;const Lt=aq(cq);var x0,z4;function fC(){return z4||(z4=1,x0=C5().EventEmitter),x0}var S0={},vf={},U4;function fq(){if(U4)return vf;U4=1,vf.byteLength=a,vf.toByteArray=u,vf.fromByteArray=d;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=n.length;i<s;++i)t[i]=n[i],e[n.charCodeAt(i)]=i;e[45]=62,e[95]=63;function o(f){var g=f.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=f.indexOf("=");y===-1&&(y=g);var x=y===g?0:4-y%4;return[y,x]}function a(f){var g=o(f),y=g[0],x=g[1];return(y+x)*3/4-x}function l(f,g,y){return(g+y)*3/4-y}function u(f){var g,y=o(f),x=y[0],p=y[1],v=new r(l(f,x,p)),b=0,w=p>0?x-4:x,N;for(N=0;N<w;N+=4)g=e[f.charCodeAt(N)]<<18|e[f.charCodeAt(N+1)]<<12|e[f.charCodeAt(N+2)]<<6|e[f.charCodeAt(N+3)],v[b++]=g>>16&255,v[b++]=g>>8&255,v[b++]=g&255;return p===2&&(g=e[f.charCodeAt(N)]<<2|e[f.charCodeAt(N+1)]>>4,v[b++]=g&255),p===1&&(g=e[f.charCodeAt(N)]<<10|e[f.charCodeAt(N+1)]<<4|e[f.charCodeAt(N+2)]>>2,v[b++]=g>>8&255,v[b++]=g&255),v}function c(f){return t[f>>18&63]+t[f>>12&63]+t[f>>6&63]+t[f&63]}function h(f,g,y){for(var x,p=[],v=g;v<y;v+=3)x=(f[v]<<16&16711680)+(f[v+1]<<8&65280)+(f[v+2]&255),p.push(c(x));return p.join("")}function d(f){for(var g,y=f.length,x=y%3,p=[],v=16383,b=0,w=y-x;b<w;b+=v)p.push(h(f,b,b+v>w?w:b+v));return x===1?(g=f[y-1],p.push(t[g>>2]+t[g<<4&63]+"==")):x===2&&(g=(f[y-2]<<8)+f[y-1],p.push(t[g>>10]+t[g>>4&63]+t[g<<2&63]+"=")),p.join("")}return vf}var ip={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var q4;function hq(){return q4||(q4=1,ip.read=function(t,e,r,n,i){var s,o,a=i*8-n-1,l=(1<<a)-1,u=l>>1,c=-7,h=r?i-1:0,d=r?-1:1,f=t[e+h];for(h+=d,s=f&(1<<-c)-1,f>>=-c,c+=a;c>0;s=s*256+t[e+h],h+=d,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=n;c>0;o=o*256+t[e+h],h+=d,c-=8);if(s===0)s=1-u;else{if(s===l)return o?NaN:(f?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-u}return(f?-1:1)*o*Math.pow(2,s-n)},ip.write=function(t,e,r,n,i,s){var o,a,l,u=s*8-i-1,c=(1<<u)-1,h=c>>1,d=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,g=n?1:-1,y=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+h>=1?e+=d/l:e+=d*Math.pow(2,1-h),e*l>=2&&(o++,l/=2),o+h>=c?(a=0,o=c):o+h>=1?(a=(e*l-1)*Math.pow(2,i),o=o+h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[r+f]=a&255,f+=g,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;t[r+f]=o&255,f+=g,o/=256,u-=8);t[r+f-g]|=y*128}),ip}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var W4;function pg(){return W4||(W4=1,function(t){var e=fq(),r=hq(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=v,t.INSPECT_MAX_BYTES=50;var i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var D=new Uint8Array(1),k={foo:function(){return 42}};return Object.setPrototypeOf(k,Uint8Array.prototype),Object.setPrototypeOf(D,k),D.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(D){if(D>i)throw new RangeError('The value "'+D+'" is invalid for option "size"');var k=new Uint8Array(D);return Object.setPrototypeOf(k,a.prototype),k}function a(D,k,_){if(typeof D=="number"){if(typeof k=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(D)}return l(D,k,_)}a.poolSize=8192;function l(D,k,_){if(typeof D=="string")return d(D,k);if(ArrayBuffer.isView(D))return g(D);if(D==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof D);if(ye(D,ArrayBuffer)||D&&ye(D.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ye(D,SharedArrayBuffer)||D&&ye(D.buffer,SharedArrayBuffer)))return y(D,k,_);if(typeof D=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var R=D.valueOf&&D.valueOf();if(R!=null&&R!==D)return a.from(R,k,_);var oe=x(D);if(oe)return oe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof D[Symbol.toPrimitive]=="function")return a.from(D[Symbol.toPrimitive]("string"),k,_);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof D)}a.from=function(D,k,_){return l(D,k,_)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u(D){if(typeof D!="number")throw new TypeError('"size" argument must be of type number');if(D<0)throw new RangeError('The value "'+D+'" is invalid for option "size"')}function c(D,k,_){return u(D),D<=0?o(D):k!==void 0?typeof _=="string"?o(D).fill(k,_):o(D).fill(k):o(D)}a.alloc=function(D,k,_){return c(D,k,_)};function h(D){return u(D),o(D<0?0:p(D)|0)}a.allocUnsafe=function(D){return h(D)},a.allocUnsafeSlow=function(D){return h(D)};function d(D,k){if((typeof k!="string"||k==="")&&(k="utf8"),!a.isEncoding(k))throw new TypeError("Unknown encoding: "+k);var _=b(D,k)|0,R=o(_),oe=R.write(D,k);return oe!==_&&(R=R.slice(0,oe)),R}function f(D){for(var k=D.length<0?0:p(D.length)|0,_=o(k),R=0;R<k;R+=1)_[R]=D[R]&255;return _}function g(D){if(ye(D,Uint8Array)){var k=new Uint8Array(D);return y(k.buffer,k.byteOffset,k.byteLength)}return f(D)}function y(D,k,_){if(k<0||D.byteLength<k)throw new RangeError('"offset" is outside of buffer bounds');if(D.byteLength<k+(_||0))throw new RangeError('"length" is outside of buffer bounds');var R;return k===void 0&&_===void 0?R=new Uint8Array(D):_===void 0?R=new Uint8Array(D,k):R=new Uint8Array(D,k,_),Object.setPrototypeOf(R,a.prototype),R}function x(D){if(a.isBuffer(D)){var k=p(D.length)|0,_=o(k);return _.length===0||D.copy(_,0,0,k),_}if(D.length!==void 0)return typeof D.length!="number"||M(D.length)?o(0):f(D);if(D.type==="Buffer"&&Array.isArray(D.data))return f(D.data)}function p(D){if(D>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return D|0}function v(D){return+D!=D&&(D=0),a.alloc(+D)}a.isBuffer=function(k){return k!=null&&k._isBuffer===!0&&k!==a.prototype},a.compare=function(k,_){if(ye(k,Uint8Array)&&(k=a.from(k,k.offset,k.byteLength)),ye(_,Uint8Array)&&(_=a.from(_,_.offset,_.byteLength)),!a.isBuffer(k)||!a.isBuffer(_))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(k===_)return 0;for(var R=k.length,oe=_.length,de=0,fe=Math.min(R,oe);de<fe;++de)if(k[de]!==_[de]){R=k[de],oe=_[de];break}return R<oe?-1:oe<R?1:0},a.isEncoding=function(k){switch(String(k).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(k,_){if(!Array.isArray(k))throw new TypeError('"list" argument must be an Array of Buffers');if(k.length===0)return a.alloc(0);var R;if(_===void 0)for(_=0,R=0;R<k.length;++R)_+=k[R].length;var oe=a.allocUnsafe(_),de=0;for(R=0;R<k.length;++R){var fe=k[R];if(ye(fe,Uint8Array))de+fe.length>oe.length?a.from(fe).copy(oe,de):Uint8Array.prototype.set.call(oe,fe,de);else if(a.isBuffer(fe))fe.copy(oe,de);else throw new TypeError('"list" argument must be an Array of Buffers');de+=fe.length}return oe};function b(D,k){if(a.isBuffer(D))return D.length;if(ArrayBuffer.isView(D)||ye(D,ArrayBuffer))return D.byteLength;if(typeof D!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof D);var _=D.length,R=arguments.length>2&&arguments[2]===!0;if(!R&&_===0)return 0;for(var oe=!1;;)switch(k){case"ascii":case"latin1":case"binary":return _;case"utf8":case"utf-8":return I(D).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _*2;case"hex":return _>>>1;case"base64":return V(D).length;default:if(oe)return R?-1:I(D).length;k=(""+k).toLowerCase(),oe=!0}}a.byteLength=b;function w(D,k,_){var R=!1;if((k===void 0||k<0)&&(k=0),k>this.length||((_===void 0||_>this.length)&&(_=this.length),_<=0)||(_>>>=0,k>>>=0,_<=k))return"";for(D||(D="utf8");;)switch(D){case"hex":return ae(this,k,_);case"utf8":case"utf-8":return A(this,k,_);case"ascii":return te(this,k,_);case"latin1":case"binary":return re(this,k,_);case"base64":return U(this,k,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ve(this,k,_);default:if(R)throw new TypeError("Unknown encoding: "+D);D=(D+"").toLowerCase(),R=!0}}a.prototype._isBuffer=!0;function N(D,k,_){var R=D[k];D[k]=D[_],D[_]=R}a.prototype.swap16=function(){var k=this.length;if(k%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var _=0;_<k;_+=2)N(this,_,_+1);return this},a.prototype.swap32=function(){var k=this.length;if(k%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var _=0;_<k;_+=4)N(this,_,_+3),N(this,_+1,_+2);return this},a.prototype.swap64=function(){var k=this.length;if(k%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var _=0;_<k;_+=8)N(this,_,_+7),N(this,_+1,_+6),N(this,_+2,_+5),N(this,_+3,_+4);return this},a.prototype.toString=function(){var k=this.length;return k===0?"":arguments.length===0?A(this,0,k):w.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(k){if(!a.isBuffer(k))throw new TypeError("Argument must be a Buffer");return this===k?!0:a.compare(this,k)===0},a.prototype.inspect=function(){var k="",_=t.INSPECT_MAX_BYTES;return k=this.toString("hex",0,_).replace(/(.{2})/g,"$1 ").trim(),this.length>_&&(k+=" ... "),"<Buffer "+k+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(k,_,R,oe,de){if(ye(k,Uint8Array)&&(k=a.from(k,k.offset,k.byteLength)),!a.isBuffer(k))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof k);if(_===void 0&&(_=0),R===void 0&&(R=k?k.length:0),oe===void 0&&(oe=0),de===void 0&&(de=this.length),_<0||R>k.length||oe<0||de>this.length)throw new RangeError("out of range index");if(oe>=de&&_>=R)return 0;if(oe>=de)return-1;if(_>=R)return 1;if(_>>>=0,R>>>=0,oe>>>=0,de>>>=0,this===k)return 0;for(var fe=de-oe,Se=R-_,Ce=Math.min(fe,Se),Ne=this.slice(oe,de),Oe=k.slice(_,R),We=0;We<Ce;++We)if(Ne[We]!==Oe[We]){fe=Ne[We],Se=Oe[We];break}return fe<Se?-1:Se<fe?1:0};function j(D,k,_,R,oe){if(D.length===0)return-1;if(typeof _=="string"?(R=_,_=0):_>2147483647?_=2147483647:_<-2147483648&&(_=-2147483648),_=+_,M(_)&&(_=oe?0:D.length-1),_<0&&(_=D.length+_),_>=D.length){if(oe)return-1;_=D.length-1}else if(_<0)if(oe)_=0;else return-1;if(typeof k=="string"&&(k=a.from(k,R)),a.isBuffer(k))return k.length===0?-1:F(D,k,_,R,oe);if(typeof k=="number")return k=k&255,typeof Uint8Array.prototype.indexOf=="function"?oe?Uint8Array.prototype.indexOf.call(D,k,_):Uint8Array.prototype.lastIndexOf.call(D,k,_):F(D,[k],_,R,oe);throw new TypeError("val must be string, number or Buffer")}function F(D,k,_,R,oe){var de=1,fe=D.length,Se=k.length;if(R!==void 0&&(R=String(R).toLowerCase(),R==="ucs2"||R==="ucs-2"||R==="utf16le"||R==="utf-16le")){if(D.length<2||k.length<2)return-1;de=2,fe/=2,Se/=2,_/=2}function Ce(Ke,ct){return de===1?Ke[ct]:Ke.readUInt16BE(ct*de)}var Ne;if(oe){var Oe=-1;for(Ne=_;Ne<fe;Ne++)if(Ce(D,Ne)===Ce(k,Oe===-1?0:Ne-Oe)){if(Oe===-1&&(Oe=Ne),Ne-Oe+1===Se)return Oe*de}else Oe!==-1&&(Ne-=Ne-Oe),Oe=-1}else for(_+Se>fe&&(_=fe-Se),Ne=_;Ne>=0;Ne--){for(var We=!0,Ve=0;Ve<Se;Ve++)if(Ce(D,Ne+Ve)!==Ce(k,Ve)){We=!1;break}if(We)return Ne}return-1}a.prototype.includes=function(k,_,R){return this.indexOf(k,_,R)!==-1},a.prototype.indexOf=function(k,_,R){return j(this,k,_,R,!0)},a.prototype.lastIndexOf=function(k,_,R){return j(this,k,_,R,!1)};function z(D,k,_,R){_=Number(_)||0;var oe=D.length-_;R?(R=Number(R),R>oe&&(R=oe)):R=oe;var de=k.length;R>de/2&&(R=de/2);for(var fe=0;fe<R;++fe){var Se=parseInt(k.substr(fe*2,2),16);if(M(Se))return fe;D[_+fe]=Se}return fe}function T(D,k,_,R){return X(I(k,D.length-_),D,_,R)}function Z(D,k,_,R){return X(Q(k),D,_,R)}function H(D,k,_,R){return X(V(k),D,_,R)}function L(D,k,_,R){return X(Y(k,D.length-_),D,_,R)}a.prototype.write=function(k,_,R,oe){if(_===void 0)oe="utf8",R=this.length,_=0;else if(R===void 0&&typeof _=="string")oe=_,R=this.length,_=0;else if(isFinite(_))_=_>>>0,isFinite(R)?(R=R>>>0,oe===void 0&&(oe="utf8")):(oe=R,R=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var de=this.length-_;if((R===void 0||R>de)&&(R=de),k.length>0&&(R<0||_<0)||_>this.length)throw new RangeError("Attempt to write outside buffer bounds");oe||(oe="utf8");for(var fe=!1;;)switch(oe){case"hex":return z(this,k,_,R);case"utf8":case"utf-8":return T(this,k,_,R);case"ascii":case"latin1":case"binary":return Z(this,k,_,R);case"base64":return H(this,k,_,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,k,_,R);default:if(fe)throw new TypeError("Unknown encoding: "+oe);oe=(""+oe).toLowerCase(),fe=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function U(D,k,_){return k===0&&_===D.length?e.fromByteArray(D):e.fromByteArray(D.slice(k,_))}function A(D,k,_){_=Math.min(D.length,_);for(var R=[],oe=k;oe<_;){var de=D[oe],fe=null,Se=de>239?4:de>223?3:de>191?2:1;if(oe+Se<=_){var Ce,Ne,Oe,We;switch(Se){case 1:de<128&&(fe=de);break;case 2:Ce=D[oe+1],(Ce&192)===128&&(We=(de&31)<<6|Ce&63,We>127&&(fe=We));break;case 3:Ce=D[oe+1],Ne=D[oe+2],(Ce&192)===128&&(Ne&192)===128&&(We=(de&15)<<12|(Ce&63)<<6|Ne&63,We>2047&&(We<55296||We>57343)&&(fe=We));break;case 4:Ce=D[oe+1],Ne=D[oe+2],Oe=D[oe+3],(Ce&192)===128&&(Ne&192)===128&&(Oe&192)===128&&(We=(de&15)<<18|(Ce&63)<<12|(Ne&63)<<6|Oe&63,We>65535&&We<1114112&&(fe=We))}}fe===null?(fe=65533,Se=1):fe>65535&&(fe-=65536,R.push(fe>>>10&1023|55296),fe=56320|fe&1023),R.push(fe),oe+=Se}return he(R)}var ie=4096;function he(D){var k=D.length;if(k<=ie)return String.fromCharCode.apply(String,D);for(var _="",R=0;R<k;)_+=String.fromCharCode.apply(String,D.slice(R,R+=ie));return _}function te(D,k,_){var R="";_=Math.min(D.length,_);for(var oe=k;oe<_;++oe)R+=String.fromCharCode(D[oe]&127);return R}function re(D,k,_){var R="";_=Math.min(D.length,_);for(var oe=k;oe<_;++oe)R+=String.fromCharCode(D[oe]);return R}function ae(D,k,_){var R=D.length;(!k||k<0)&&(k=0),(!_||_<0||_>R)&&(_=R);for(var oe="",de=k;de<_;++de)oe+=W[D[de]];return oe}function ve(D,k,_){for(var R=D.slice(k,_),oe="",de=0;de<R.length-1;de+=2)oe+=String.fromCharCode(R[de]+R[de+1]*256);return oe}a.prototype.slice=function(k,_){var R=this.length;k=~~k,_=_===void 0?R:~~_,k<0?(k+=R,k<0&&(k=0)):k>R&&(k=R),_<0?(_+=R,_<0&&(_=0)):_>R&&(_=R),_<k&&(_=k);var oe=this.subarray(k,_);return Object.setPrototypeOf(oe,a.prototype),oe};function le(D,k,_){if(D%1!==0||D<0)throw new RangeError("offset is not uint");if(D+k>_)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(k,_,R){k=k>>>0,_=_>>>0,R||le(k,_,this.length);for(var oe=this[k],de=1,fe=0;++fe<_&&(de*=256);)oe+=this[k+fe]*de;return oe},a.prototype.readUintBE=a.prototype.readUIntBE=function(k,_,R){k=k>>>0,_=_>>>0,R||le(k,_,this.length);for(var oe=this[k+--_],de=1;_>0&&(de*=256);)oe+=this[k+--_]*de;return oe},a.prototype.readUint8=a.prototype.readUInt8=function(k,_){return k=k>>>0,_||le(k,1,this.length),this[k]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(k,_){return k=k>>>0,_||le(k,2,this.length),this[k]|this[k+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(k,_){return k=k>>>0,_||le(k,2,this.length),this[k]<<8|this[k+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(k,_){return k=k>>>0,_||le(k,4,this.length),(this[k]|this[k+1]<<8|this[k+2]<<16)+this[k+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(k,_){return k=k>>>0,_||le(k,4,this.length),this[k]*16777216+(this[k+1]<<16|this[k+2]<<8|this[k+3])},a.prototype.readIntLE=function(k,_,R){k=k>>>0,_=_>>>0,R||le(k,_,this.length);for(var oe=this[k],de=1,fe=0;++fe<_&&(de*=256);)oe+=this[k+fe]*de;return de*=128,oe>=de&&(oe-=Math.pow(2,8*_)),oe},a.prototype.readIntBE=function(k,_,R){k=k>>>0,_=_>>>0,R||le(k,_,this.length);for(var oe=_,de=1,fe=this[k+--oe];oe>0&&(de*=256);)fe+=this[k+--oe]*de;return de*=128,fe>=de&&(fe-=Math.pow(2,8*_)),fe},a.prototype.readInt8=function(k,_){return k=k>>>0,_||le(k,1,this.length),this[k]&128?(255-this[k]+1)*-1:this[k]},a.prototype.readInt16LE=function(k,_){k=k>>>0,_||le(k,2,this.length);var R=this[k]|this[k+1]<<8;return R&32768?R|4294901760:R},a.prototype.readInt16BE=function(k,_){k=k>>>0,_||le(k,2,this.length);var R=this[k+1]|this[k]<<8;return R&32768?R|4294901760:R},a.prototype.readInt32LE=function(k,_){return k=k>>>0,_||le(k,4,this.length),this[k]|this[k+1]<<8|this[k+2]<<16|this[k+3]<<24},a.prototype.readInt32BE=function(k,_){return k=k>>>0,_||le(k,4,this.length),this[k]<<24|this[k+1]<<16|this[k+2]<<8|this[k+3]},a.prototype.readFloatLE=function(k,_){return k=k>>>0,_||le(k,4,this.length),r.read(this,k,!0,23,4)},a.prototype.readFloatBE=function(k,_){return k=k>>>0,_||le(k,4,this.length),r.read(this,k,!1,23,4)},a.prototype.readDoubleLE=function(k,_){return k=k>>>0,_||le(k,8,this.length),r.read(this,k,!0,52,8)},a.prototype.readDoubleBE=function(k,_){return k=k>>>0,_||le(k,8,this.length),r.read(this,k,!1,52,8)};function C(D,k,_,R,oe,de){if(!a.isBuffer(D))throw new TypeError('"buffer" argument must be a Buffer instance');if(k>oe||k<de)throw new RangeError('"value" argument is out of bounds');if(_+R>D.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(k,_,R,oe){if(k=+k,_=_>>>0,R=R>>>0,!oe){var de=Math.pow(2,8*R)-1;C(this,k,_,R,de,0)}var fe=1,Se=0;for(this[_]=k&255;++Se<R&&(fe*=256);)this[_+Se]=k/fe&255;return _+R},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(k,_,R,oe){if(k=+k,_=_>>>0,R=R>>>0,!oe){var de=Math.pow(2,8*R)-1;C(this,k,_,R,de,0)}var fe=R-1,Se=1;for(this[_+fe]=k&255;--fe>=0&&(Se*=256);)this[_+fe]=k/Se&255;return _+R},a.prototype.writeUint8=a.prototype.writeUInt8=function(k,_,R){return k=+k,_=_>>>0,R||C(this,k,_,1,255,0),this[_]=k&255,_+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(k,_,R){return k=+k,_=_>>>0,R||C(this,k,_,2,65535,0),this[_]=k&255,this[_+1]=k>>>8,_+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(k,_,R){return k=+k,_=_>>>0,R||C(this,k,_,2,65535,0),this[_]=k>>>8,this[_+1]=k&255,_+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(k,_,R){return k=+k,_=_>>>0,R||C(this,k,_,4,4294967295,0),this[_+3]=k>>>24,this[_+2]=k>>>16,this[_+1]=k>>>8,this[_]=k&255,_+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(k,_,R){return k=+k,_=_>>>0,R||C(this,k,_,4,4294967295,0),this[_]=k>>>24,this[_+1]=k>>>16,this[_+2]=k>>>8,this[_+3]=k&255,_+4},a.prototype.writeIntLE=function(k,_,R,oe){if(k=+k,_=_>>>0,!oe){var de=Math.pow(2,8*R-1);C(this,k,_,R,de-1,-de)}var fe=0,Se=1,Ce=0;for(this[_]=k&255;++fe<R&&(Se*=256);)k<0&&Ce===0&&this[_+fe-1]!==0&&(Ce=1),this[_+fe]=(k/Se>>0)-Ce&255;return _+R},a.prototype.writeIntBE=function(k,_,R,oe){if(k=+k,_=_>>>0,!oe){var de=Math.pow(2,8*R-1);C(this,k,_,R,de-1,-de)}var fe=R-1,Se=1,Ce=0;for(this[_+fe]=k&255;--fe>=0&&(Se*=256);)k<0&&Ce===0&&this[_+fe+1]!==0&&(Ce=1),this[_+fe]=(k/Se>>0)-Ce&255;return _+R},a.prototype.writeInt8=function(k,_,R){return k=+k,_=_>>>0,R||C(this,k,_,1,127,-128),k<0&&(k=255+k+1),this[_]=k&255,_+1},a.prototype.writeInt16LE=function(k,_,R){return k=+k,_=_>>>0,R||C(this,k,_,2,32767,-32768),this[_]=k&255,this[_+1]=k>>>8,_+2},a.prototype.writeInt16BE=function(k,_,R){return k=+k,_=_>>>0,R||C(this,k,_,2,32767,-32768),this[_]=k>>>8,this[_+1]=k&255,_+2},a.prototype.writeInt32LE=function(k,_,R){return k=+k,_=_>>>0,R||C(this,k,_,4,2147483647,-2147483648),this[_]=k&255,this[_+1]=k>>>8,this[_+2]=k>>>16,this[_+3]=k>>>24,_+4},a.prototype.writeInt32BE=function(k,_,R){return k=+k,_=_>>>0,R||C(this,k,_,4,2147483647,-2147483648),k<0&&(k=4294967295+k+1),this[_]=k>>>24,this[_+1]=k>>>16,this[_+2]=k>>>8,this[_+3]=k&255,_+4};function q(D,k,_,R,oe,de){if(_+R>D.length)throw new RangeError("Index out of range");if(_<0)throw new RangeError("Index out of range")}function $(D,k,_,R,oe){return k=+k,_=_>>>0,oe||q(D,k,_,4),r.write(D,k,_,R,23,4),_+4}a.prototype.writeFloatLE=function(k,_,R){return $(this,k,_,!0,R)},a.prototype.writeFloatBE=function(k,_,R){return $(this,k,_,!1,R)};function se(D,k,_,R,oe){return k=+k,_=_>>>0,oe||q(D,k,_,8),r.write(D,k,_,R,52,8),_+8}a.prototype.writeDoubleLE=function(k,_,R){return se(this,k,_,!0,R)},a.prototype.writeDoubleBE=function(k,_,R){return se(this,k,_,!1,R)},a.prototype.copy=function(k,_,R,oe){if(!a.isBuffer(k))throw new TypeError("argument should be a Buffer");if(R||(R=0),!oe&&oe!==0&&(oe=this.length),_>=k.length&&(_=k.length),_||(_=0),oe>0&&oe<R&&(oe=R),oe===R||k.length===0||this.length===0)return 0;if(_<0)throw new RangeError("targetStart out of bounds");if(R<0||R>=this.length)throw new RangeError("Index out of range");if(oe<0)throw new RangeError("sourceEnd out of bounds");oe>this.length&&(oe=this.length),k.length-_<oe-R&&(oe=k.length-_+R);var de=oe-R;return this===k&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(_,R,oe):Uint8Array.prototype.set.call(k,this.subarray(R,oe),_),de},a.prototype.fill=function(k,_,R,oe){if(typeof k=="string"){if(typeof _=="string"?(oe=_,_=0,R=this.length):typeof R=="string"&&(oe=R,R=this.length),oe!==void 0&&typeof oe!="string")throw new TypeError("encoding must be a string");if(typeof oe=="string"&&!a.isEncoding(oe))throw new TypeError("Unknown encoding: "+oe);if(k.length===1){var de=k.charCodeAt(0);(oe==="utf8"&&de<128||oe==="latin1")&&(k=de)}}else typeof k=="number"?k=k&255:typeof k=="boolean"&&(k=Number(k));if(_<0||this.length<_||this.length<R)throw new RangeError("Out of range index");if(R<=_)return this;_=_>>>0,R=R===void 0?this.length:R>>>0,k||(k=0);var fe;if(typeof k=="number")for(fe=_;fe<R;++fe)this[fe]=k;else{var Se=a.isBuffer(k)?k:a.from(k,oe),Ce=Se.length;if(Ce===0)throw new TypeError('The value "'+k+'" is invalid for argument "value"');for(fe=0;fe<R-_;++fe)this[fe+_]=Se[fe%Ce]}return this};var J=/[^+/0-9A-Za-z-_]/g;function O(D){if(D=D.split("=")[0],D=D.trim().replace(J,""),D.length<2)return"";for(;D.length%4!==0;)D=D+"=";return D}function I(D,k){k=k||1/0;for(var _,R=D.length,oe=null,de=[],fe=0;fe<R;++fe){if(_=D.charCodeAt(fe),_>55295&&_<57344){if(!oe){if(_>56319){(k-=3)>-1&&de.push(239,191,189);continue}else if(fe+1===R){(k-=3)>-1&&de.push(239,191,189);continue}oe=_;continue}if(_<56320){(k-=3)>-1&&de.push(239,191,189),oe=_;continue}_=(oe-55296<<10|_-56320)+65536}else oe&&(k-=3)>-1&&de.push(239,191,189);if(oe=null,_<128){if((k-=1)<0)break;de.push(_)}else if(_<2048){if((k-=2)<0)break;de.push(_>>6|192,_&63|128)}else if(_<65536){if((k-=3)<0)break;de.push(_>>12|224,_>>6&63|128,_&63|128)}else if(_<1114112){if((k-=4)<0)break;de.push(_>>18|240,_>>12&63|128,_>>6&63|128,_&63|128)}else throw new Error("Invalid code point")}return de}function Q(D){for(var k=[],_=0;_<D.length;++_)k.push(D.charCodeAt(_)&255);return k}function Y(D,k){for(var _,R,oe,de=[],fe=0;fe<D.length&&!((k-=2)<0);++fe)_=D.charCodeAt(fe),R=_>>8,oe=_%256,de.push(oe),de.push(R);return de}function V(D){return e.toByteArray(O(D))}function X(D,k,_,R){for(var oe=0;oe<R&&!(oe+_>=k.length||oe>=D.length);++oe)k[oe+_]=D[oe];return oe}function ye(D,k){return D instanceof k||D!=null&&D.constructor!=null&&D.constructor.name!=null&&D.constructor.name===k.name}function M(D){return D!==D}var W=function(){for(var D="0123456789abcdef",k=new Array(256),_=0;_<16;++_)for(var R=_*16,oe=0;oe<16;++oe)k[R+oe]=D[_]+D[oe];return k}()}(S0)),S0}var k0={},_0={},A0,H4;function hC(){return H4||(H4=1,A0=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,r);if(a.value!==i||a.enumerable!==!0)return!1}return!0}),A0}var E0,V4;function T5(){if(V4)return E0;V4=1;var t=hC();return E0=function(){return t()&&!!Symbol.toStringTag},E0}var N0,$4;function dC(){return $4||($4=1,N0=Object),N0}var C0,K4;function dq(){return K4||(K4=1,C0=Error),C0}var T0,G4;function pq(){return G4||(G4=1,T0=EvalError),T0}var L0,J4;function mq(){return J4||(J4=1,L0=RangeError),L0}var O0,Y4;function gq(){return Y4||(Y4=1,O0=ReferenceError),O0}var P0,X4;function pC(){return X4||(X4=1,P0=SyntaxError),P0}var R0,Z4;function mg(){return Z4||(Z4=1,R0=TypeError),R0}var I0,Q4;function yq(){return Q4||(Q4=1,I0=URIError),I0}var M0,ek;function vq(){return ek||(ek=1,M0=Math.abs),M0}var D0,tk;function wq(){return tk||(tk=1,D0=Math.floor),D0}var F0,rk;function bq(){return rk||(rk=1,F0=Math.max),F0}var B0,nk;function xq(){return nk||(nk=1,B0=Math.min),B0}var j0,ik;function Sq(){return ik||(ik=1,j0=Math.pow),j0}var z0,sk;function kq(){return sk||(sk=1,z0=Math.round),z0}var U0,ok;function _q(){return ok||(ok=1,U0=Number.isNaN||function(e){return e!==e}),U0}var q0,ak;function Aq(){if(ak)return q0;ak=1;var t=_q();return q0=function(r){return t(r)||r===0?r:r<0?-1:1},q0}var W0,lk;function Eq(){return lk||(lk=1,W0=Object.getOwnPropertyDescriptor),W0}var H0,uk;function Dh(){if(uk)return H0;uk=1;var t=Eq();if(t)try{t([],"length")}catch{t=null}return H0=t,H0}var V0,ck;function gg(){if(ck)return V0;ck=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return V0=t,V0}var $0,fk;function Nq(){if(fk)return $0;fk=1;var t=typeof Symbol<"u"&&Symbol,e=hC();return $0=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},$0}var K0,hk;function mC(){return hk||(hk=1,K0=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),K0}var G0,dk;function gC(){if(dk)return G0;dk=1;var t=dC();return G0=t.getPrototypeOf||null,G0}var J0,pk;function Cq(){if(pk)return J0;pk=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,n="[object Function]",i=function(l,u){for(var c=[],h=0;h<l.length;h+=1)c[h]=l[h];for(var d=0;d<u.length;d+=1)c[d+l.length]=u[d];return c},s=function(l,u){for(var c=[],h=u,d=0;h<l.length;h+=1,d+=1)c[d]=l[h];return c},o=function(a,l){for(var u="",c=0;c<a.length;c+=1)u+=a[c],c+1<a.length&&(u+=l);return u};return J0=function(l){var u=this;if(typeof u!="function"||e.apply(u)!==n)throw new TypeError(t+u);for(var c=s(arguments,1),h,d=function(){if(this instanceof h){var p=u.apply(this,i(c,arguments));return Object(p)===p?p:this}return u.apply(l,i(c,arguments))},f=r(0,u.length-c.length),g=[],y=0;y<f;y++)g[y]="$"+y;if(h=Function("binder","return function ("+o(g,",")+"){ return binder.apply(this,arguments); }")(d),u.prototype){var x=function(){};x.prototype=u.prototype,h.prototype=new x,x.prototype=null}return h},J0}var Y0,mk;function Fh(){if(mk)return Y0;mk=1;var t=Cq();return Y0=Function.prototype.bind||t,Y0}var X0,gk;function L5(){return gk||(gk=1,X0=Function.prototype.call),X0}var Z0,yk;function O5(){return yk||(yk=1,Z0=Function.prototype.apply),Z0}var Q0,vk;function Tq(){return vk||(vk=1,Q0=typeof Reflect<"u"&&Reflect&&Reflect.apply),Q0}var ey,wk;function yC(){if(wk)return ey;wk=1;var t=Fh(),e=O5(),r=L5(),n=Tq();return ey=n||t.call(r,e),ey}var ty,bk;function P5(){if(bk)return ty;bk=1;var t=Fh(),e=mg(),r=L5(),n=yC();return ty=function(s){if(s.length<1||typeof s[0]!="function")throw new e("a function is required");return n(t,r,s)},ty}var ry,xk;function Lq(){if(xk)return ry;xk=1;var t=P5(),e=Dh(),r;try{r=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var n=!!r&&e&&e(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return ry=n&&typeof n.get=="function"?t([n.get]):typeof s=="function"?function(a){return s(a==null?a:i(a))}:!1,ry}var ny,Sk;function vC(){if(Sk)return ny;Sk=1;var t=mC(),e=gC(),r=Lq();return ny=t?function(i){return t(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:r?function(i){return r(i)}:null,ny}var iy,kk;function Oq(){if(kk)return iy;kk=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=Fh();return iy=r.call(t,e),iy}var sy,_k;function R5(){if(_k)return sy;_k=1;var t,e=dC(),r=dq(),n=pq(),i=mq(),s=gq(),o=pC(),a=mg(),l=yq(),u=vq(),c=wq(),h=bq(),d=xq(),f=Sq(),g=kq(),y=Aq(),x=Function,p=function(Q){try{return x('"use strict"; return ('+Q+").constructor;")()}catch{}},v=Dh(),b=gg(),w=function(){throw new a},N=v?function(){try{return arguments.callee,w}catch{try{return v(arguments,"callee").get}catch{return w}}}():w,j=Nq()(),F=vC(),z=gC(),T=mC(),Z=O5(),H=L5(),L={},U=typeof Uint8Array>"u"||!F?t:F(Uint8Array),A={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":j&&F?F([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":L,"%AsyncGenerator%":L,"%AsyncGeneratorFunction%":L,"%AsyncIteratorPrototype%":L,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?t:Float16Array,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":x,"%GeneratorFunction%":L,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":j&&F?F(F([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!j||!F?t:F(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":v,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":i,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!j||!F?t:F(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":j&&F?F(""[Symbol.iterator]()):t,"%Symbol%":j?Symbol:t,"%SyntaxError%":o,"%ThrowTypeError%":N,"%TypedArray%":U,"%TypeError%":a,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":l,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":H,"%Function.prototype.apply%":Z,"%Object.defineProperty%":b,"%Object.getPrototypeOf%":z,"%Math.abs%":u,"%Math.floor%":c,"%Math.max%":h,"%Math.min%":d,"%Math.pow%":f,"%Math.round%":g,"%Math.sign%":y,"%Reflect.getPrototypeOf%":T};if(F)try{null.error}catch(Q){var ie=F(F(Q));A["%Error.prototype%"]=ie}var he=function Q(Y){var V;if(Y==="%AsyncFunction%")V=p("async function () {}");else if(Y==="%GeneratorFunction%")V=p("function* () {}");else if(Y==="%AsyncGeneratorFunction%")V=p("async function* () {}");else if(Y==="%AsyncGenerator%"){var X=Q("%AsyncGeneratorFunction%");X&&(V=X.prototype)}else if(Y==="%AsyncIteratorPrototype%"){var ye=Q("%AsyncGenerator%");ye&&F&&(V=F(ye.prototype))}return A[Y]=V,V},te={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},re=Fh(),ae=Oq(),ve=re.call(H,Array.prototype.concat),le=re.call(Z,Array.prototype.splice),C=re.call(H,String.prototype.replace),q=re.call(H,String.prototype.slice),$=re.call(H,RegExp.prototype.exec),se=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,J=/\\(\\)?/g,O=function(Y){var V=q(Y,0,1),X=q(Y,-1);if(V==="%"&&X!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(X==="%"&&V!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var ye=[];return C(Y,se,function(M,W,D,k){ye[ye.length]=D?C(k,J,"$1"):W||M}),ye},I=function(Y,V){var X=Y,ye;if(ae(te,X)&&(ye=te[X],X="%"+ye[0]+"%"),ae(A,X)){var M=A[X];if(M===L&&(M=he(X)),typeof M>"u"&&!V)throw new a("intrinsic "+Y+" exists, but is not available. Please file an issue!");return{alias:ye,name:X,value:M}}throw new o("intrinsic "+Y+" does not exist!")};return sy=function(Y,V){if(typeof Y!="string"||Y.length===0)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof V!="boolean")throw new a('"allowMissing" argument must be a boolean');if($(/^%?[^%]*%?$/,Y)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var X=O(Y),ye=X.length>0?X[0]:"",M=I("%"+ye+"%",V),W=M.name,D=M.value,k=!1,_=M.alias;_&&(ye=_[0],le(X,ve([0,1],_)));for(var R=1,oe=!0;R<X.length;R+=1){var de=X[R],fe=q(de,0,1),Se=q(de,-1);if((fe==='"'||fe==="'"||fe==="`"||Se==='"'||Se==="'"||Se==="`")&&fe!==Se)throw new o("property names with quotes must have matching quotes");if((de==="constructor"||!oe)&&(k=!0),ye+="."+de,W="%"+ye+"%",ae(A,W))D=A[W];else if(D!=null){if(!(de in D)){if(!V)throw new a("base intrinsic for "+Y+" exists, but the property is not available.");return}if(v&&R+1>=X.length){var Ce=v(D,de);oe=!!Ce,oe&&"get"in Ce&&!("originalValue"in Ce.get)?D=Ce.get:D=D[de]}else oe=ae(D,de),D=D[de];oe&&!k&&(A[W]=D)}}return D},sy}var oy={exports:{}},ay,Ak;function Pq(){if(Ak)return ay;Ak=1;var t=gg(),e=pC(),r=mg(),n=Dh();return ay=function(s,o,a){if(!s||typeof s!="object"&&typeof s!="function")throw new r("`obj` must be an object or a function`");if(typeof o!="string"&&typeof o!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var l=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,h=arguments.length>6?arguments[6]:!1,d=!!n&&n(s,o);if(t)t(s,o,{configurable:c===null&&d?d.configurable:!c,enumerable:l===null&&d?d.enumerable:!l,value:a,writable:u===null&&d?d.writable:!u});else if(h||!l&&!u&&!c)s[o]=a;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},ay}var ly,Ek;function Rq(){if(Ek)return ly;Ek=1;var t=gg(),e=function(){return!!t};return e.hasArrayLengthDefineBug=function(){if(!t)return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},ly=e,ly}var uy,Nk;function Iq(){if(Nk)return uy;Nk=1;var t=R5(),e=Pq(),r=Rq()(),n=Dh(),i=mg(),s=t("%Math.floor%");return uy=function(a,l){if(typeof a!="function")throw new i("`fn` is not a function");if(typeof l!="number"||l<0||l>4294967295||s(l)!==l)throw new i("`length` must be a positive 32-bit integer");var u=arguments.length>2&&!!arguments[2],c=!0,h=!0;if("length"in a&&n){var d=n(a,"length");d&&!d.configurable&&(c=!1),d&&!d.writable&&(h=!1)}return(c||h||!u)&&(r?e(a,"length",l,!0,!0):e(a,"length",l)),a},uy}var cy,Ck;function Mq(){if(Ck)return cy;Ck=1;var t=Fh(),e=O5(),r=yC();return cy=function(){return r(t,e,arguments)},cy}var Tk;function wC(){return Tk||(Tk=1,function(t){var e=Iq(),r=gg(),n=P5(),i=Mq();t.exports=function(o){var a=n(arguments),l=o.length-(arguments.length-1);return e(a,1+(l>0?l:0),!0)},r?r(t.exports,"apply",{value:i}):t.exports.apply=i}(oy)),oy.exports}var fy,Lk;function Dq(){if(Lk)return fy;Lk=1;var t=R5(),e=wC(),r=e(t("String.prototype.indexOf"));return fy=function(i,s){var o=t(i,!!s);return typeof o=="function"&&r(i,".prototype.")>-1?e(o):o},fy}var hy,Ok;function Fq(){if(Ok)return hy;Ok=1;var t=T5()(),e=Dq(),r=e("Object.prototype.toString"),n=function(a){return t&&a&&typeof a=="object"&&Symbol.toStringTag in a?!1:r(a)==="[object Arguments]"},i=function(a){return n(a)?!0:a!==null&&typeof a=="object"&&typeof a.length=="number"&&a.length>=0&&r(a)!=="[object Array]"&&r(a.callee)==="[object Function]"},s=function(){return n(arguments)}();return n.isLegacyArguments=i,hy=s?n:i,hy}var dy,Pk;function Bq(){if(Pk)return dy;Pk=1;var t=Object.prototype.toString,e=Function.prototype.toString,r=/^\s*(?:function)?\*/,n=T5()(),i=Object.getPrototypeOf,s=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},o;return dy=function(l){if(typeof l!="function")return!1;if(r.test(e.call(l)))return!0;if(!n){var u=t.call(l);return u==="[object GeneratorFunction]"}if(!i)return!1;if(typeof o>"u"){var c=s();o=c?i(c):!1}return i(l)===o},dy}var py,Rk;function jq(){if(Rk)return py;Rk=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},e(function(){throw 42},null,r)}catch(v){v!==n&&(e=null)}else e=null;var i=/^\s*class\b/,s=function(b){try{var w=t.call(b);return i.test(w)}catch{return!1}},o=function(b){try{return s(b)?!1:(t.call(b),!0)}catch{return!1}},a=Object.prototype.toString,l="[object Object]",u="[object Function]",c="[object GeneratorFunction]",h="[object HTMLAllCollection]",d="[object HTML document.all class]",f="[object HTMLCollection]",g=typeof Symbol=="function"&&!!Symbol.toStringTag,y=!(0 in[,]),x=function(){return!1};if(typeof document=="object"){var p=document.all;a.call(p)===a.call(document.all)&&(x=function(b){if((y||!b)&&(typeof b>"u"||typeof b=="object"))try{var w=a.call(b);return(w===h||w===d||w===f||w===l)&&b("")==null}catch{}return!1})}return py=e?function(b){if(x(b))return!0;if(!b||typeof b!="function"&&typeof b!="object")return!1;try{e(b,null,r)}catch(w){if(w!==n)return!1}return!s(b)&&o(b)}:function(b){if(x(b))return!0;if(!b||typeof b!="function"&&typeof b!="object")return!1;if(g)return o(b);if(s(b))return!1;var w=a.call(b);return w!==u&&w!==c&&!/^\[object HTML/.test(w)?!1:o(b)},py}var my,Ik;function zq(){if(Ik)return my;Ik=1;var t=jq(),e=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(l,u,c){for(var h=0,d=l.length;h<d;h++)r.call(l,h)&&(c==null?u(l[h],h,l):u.call(c,l[h],h,l))},i=function(l,u,c){for(var h=0,d=l.length;h<d;h++)c==null?u(l.charAt(h),h,l):u.call(c,l.charAt(h),h,l)},s=function(l,u,c){for(var h in l)r.call(l,h)&&(c==null?u(l[h],h,l):u.call(c,l[h],h,l))};function o(a){return e.call(a)==="[object Array]"}return my=function(l,u,c){if(!t(u))throw new TypeError("iterator must be a function");var h;arguments.length>=3&&(h=c),o(l)?n(l,u,h):typeof l=="string"?i(l,u,h):s(l,u,h)},my}var gy,Mk;function Uq(){return Mk||(Mk=1,gy=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),gy}var yy,Dk;function qq(){if(Dk)return yy;Dk=1;var t=Uq(),e=typeof globalThis>"u"?Ps:globalThis;return yy=function(){for(var n=[],i=0;i<t.length;i++)typeof e[t[i]]=="function"&&(n[n.length]=t[i]);return n},yy}var vy,Fk;function Wq(){if(Fk)return vy;Fk=1;var t=R5(),e=P5(),r=e([t("%String.prototype.indexOf%")]);return vy=function(i,s){var o=t(i,!!s);return typeof o=="function"&&r(i,".prototype.")>-1?e([o]):o},vy}var wy,Bk;function bC(){if(Bk)return wy;Bk=1;var t=zq(),e=qq(),r=wC(),n=Wq(),i=Dh(),s=vC(),o=n("Object.prototype.toString"),a=T5()(),l=typeof globalThis>"u"?Ps:globalThis,u=e(),c=n("String.prototype.slice"),h=n("Array.prototype.indexOf",!0)||function(x,p){for(var v=0;v<x.length;v+=1)if(x[v]===p)return v;return-1},d={__proto__:null};a&&i&&s?t(u,function(y){var x=new l[y];if(Symbol.toStringTag in x&&s){var p=s(x),v=i(p,Symbol.toStringTag);if(!v&&p){var b=s(p);v=i(b,Symbol.toStringTag)}d["$"+y]=r(v.get)}}):t(u,function(y){var x=new l[y],p=x.slice||x.set;p&&(d["$"+y]=r(p))});var f=function(x){var p=!1;return t(d,function(v,b){if(!p)try{"$"+v(x)===b&&(p=c(b,1))}catch{}}),p},g=function(x){var p=!1;return t(d,function(v,b){if(!p)try{v(x),p=c(b,1)}catch{}}),p};return wy=function(x){if(!x||typeof x!="object")return!1;if(!a){var p=c(o(x),8,-1);return h(u,p)>-1?p:p!=="Object"?!1:g(x)}return i?f(x):null},wy}var by,jk;function Hq(){if(jk)return by;jk=1;var t=bC();return by=function(r){return!!t(r)},by}var zk;function Vq(){return zk||(zk=1,function(t){var e=Fq(),r=Bq(),n=bC(),i=Hq();function s(R){return R.call.bind(R)}var o=typeof BigInt<"u",a=typeof Symbol<"u",l=s(Object.prototype.toString),u=s(Number.prototype.valueOf),c=s(String.prototype.valueOf),h=s(Boolean.prototype.valueOf);if(o)var d=s(BigInt.prototype.valueOf);if(a)var f=s(Symbol.prototype.valueOf);function g(R,oe){if(typeof R!="object")return!1;try{return oe(R),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=i;function y(R){return typeof Promise<"u"&&R instanceof Promise||R!==null&&typeof R=="object"&&typeof R.then=="function"&&typeof R.catch=="function"}t.isPromise=y;function x(R){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(R):i(R)||q(R)}t.isArrayBufferView=x;function p(R){return n(R)==="Uint8Array"}t.isUint8Array=p;function v(R){return n(R)==="Uint8ClampedArray"}t.isUint8ClampedArray=v;function b(R){return n(R)==="Uint16Array"}t.isUint16Array=b;function w(R){return n(R)==="Uint32Array"}t.isUint32Array=w;function N(R){return n(R)==="Int8Array"}t.isInt8Array=N;function j(R){return n(R)==="Int16Array"}t.isInt16Array=j;function F(R){return n(R)==="Int32Array"}t.isInt32Array=F;function z(R){return n(R)==="Float32Array"}t.isFloat32Array=z;function T(R){return n(R)==="Float64Array"}t.isFloat64Array=T;function Z(R){return n(R)==="BigInt64Array"}t.isBigInt64Array=Z;function H(R){return n(R)==="BigUint64Array"}t.isBigUint64Array=H;function L(R){return l(R)==="[object Map]"}L.working=typeof Map<"u"&&L(new Map);function U(R){return typeof Map>"u"?!1:L.working?L(R):R instanceof Map}t.isMap=U;function A(R){return l(R)==="[object Set]"}A.working=typeof Set<"u"&&A(new Set);function ie(R){return typeof Set>"u"?!1:A.working?A(R):R instanceof Set}t.isSet=ie;function he(R){return l(R)==="[object WeakMap]"}he.working=typeof WeakMap<"u"&&he(new WeakMap);function te(R){return typeof WeakMap>"u"?!1:he.working?he(R):R instanceof WeakMap}t.isWeakMap=te;function re(R){return l(R)==="[object WeakSet]"}re.working=typeof WeakSet<"u"&&re(new WeakSet);function ae(R){return re(R)}t.isWeakSet=ae;function ve(R){return l(R)==="[object ArrayBuffer]"}ve.working=typeof ArrayBuffer<"u"&&ve(new ArrayBuffer);function le(R){return typeof ArrayBuffer>"u"?!1:ve.working?ve(R):R instanceof ArrayBuffer}t.isArrayBuffer=le;function C(R){return l(R)==="[object DataView]"}C.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&C(new DataView(new ArrayBuffer(1),0,1));function q(R){return typeof DataView>"u"?!1:C.working?C(R):R instanceof DataView}t.isDataView=q;var $=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function se(R){return l(R)==="[object SharedArrayBuffer]"}function J(R){return typeof $>"u"?!1:(typeof se.working>"u"&&(se.working=se(new $)),se.working?se(R):R instanceof $)}t.isSharedArrayBuffer=J;function O(R){return l(R)==="[object AsyncFunction]"}t.isAsyncFunction=O;function I(R){return l(R)==="[object Map Iterator]"}t.isMapIterator=I;function Q(R){return l(R)==="[object Set Iterator]"}t.isSetIterator=Q;function Y(R){return l(R)==="[object Generator]"}t.isGeneratorObject=Y;function V(R){return l(R)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=V;function X(R){return g(R,u)}t.isNumberObject=X;function ye(R){return g(R,c)}t.isStringObject=ye;function M(R){return g(R,h)}t.isBooleanObject=M;function W(R){return o&&g(R,d)}t.isBigIntObject=W;function D(R){return a&&g(R,f)}t.isSymbolObject=D;function k(R){return X(R)||ye(R)||M(R)||W(R)||D(R)}t.isBoxedPrimitive=k;function _(R){return typeof Uint8Array<"u"&&(le(R)||J(R))}t.isAnyArrayBuffer=_,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(R){Object.defineProperty(t,R,{enumerable:!1,value:function(){throw new Error(R+" is not supported in userland")}})})}(_0)),_0}var xy,Uk;function $q(){return Uk||(Uk=1,xy=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),xy}var qk;function xC(){return qk||(qk=1,function(t){var e=Object.getOwnPropertyDescriptors||function(q){for(var $=Object.keys(q),se={},J=0;J<$.length;J++)se[$[J]]=Object.getOwnPropertyDescriptor(q,$[J]);return se},r=/%[sdj%]/g;t.format=function(C){if(!N(C)){for(var q=[],$=0;$<arguments.length;$++)q.push(o(arguments[$]));return q.join(" ")}for(var $=1,se=arguments,J=se.length,O=String(C).replace(r,function(Q){if(Q==="%%")return"%";if($>=J)return Q;switch(Q){case"%s":return String(se[$++]);case"%d":return Number(se[$++]);case"%j":try{return JSON.stringify(se[$++])}catch{return"[Circular]"}default:return Q}}),I=se[$];$<J;I=se[++$])v(I)||!T(I)?O+=" "+I:O+=" "+o(I);return O},t.deprecate=function(C,q){if(typeof Lt<"u"&&Lt.noDeprecation===!0)return C;if(typeof Lt>"u")return function(){return t.deprecate(C,q).apply(this,arguments)};var $=!1;function se(){if(!$){if(Lt.throwDeprecation)throw new Error(q);Lt.traceDeprecation?console.trace(q):console.error(q),$=!0}return C.apply(this,arguments)}return se};var n={},i=/^$/;if(Lt.env.NODE_DEBUG){var s=Lt.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}t.debuglog=function(C){if(C=C.toUpperCase(),!n[C])if(i.test(C)){var q=Lt.pid;n[C]=function(){var $=t.format.apply(t,arguments);console.error("%s %d: %s",C,q,$)}}else n[C]=function(){};return n[C]};function o(C,q){var $={seen:[],stylize:l};return arguments.length>=3&&($.depth=arguments[2]),arguments.length>=4&&($.colors=arguments[3]),p(q)?$.showHidden=q:q&&t._extend($,q),F($.showHidden)&&($.showHidden=!1),F($.depth)&&($.depth=2),F($.colors)&&($.colors=!1),F($.customInspect)&&($.customInspect=!0),$.colors&&($.stylize=a),c($,C,$.depth)}t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(C,q){var $=o.styles[q];return $?"\x1B["+o.colors[$][0]+"m"+C+"\x1B["+o.colors[$][1]+"m":C}function l(C,q){return C}function u(C){var q={};return C.forEach(function($,se){q[$]=!0}),q}function c(C,q,$){if(C.customInspect&&q&&L(q.inspect)&&q.inspect!==t.inspect&&!(q.constructor&&q.constructor.prototype===q)){var se=q.inspect($,C);return N(se)||(se=c(C,se,$)),se}var J=h(C,q);if(J)return J;var O=Object.keys(q),I=u(O);if(C.showHidden&&(O=Object.getOwnPropertyNames(q)),H(q)&&(O.indexOf("message")>=0||O.indexOf("description")>=0))return d(q);if(O.length===0){if(L(q)){var Q=q.name?": "+q.name:"";return C.stylize("[Function"+Q+"]","special")}if(z(q))return C.stylize(RegExp.prototype.toString.call(q),"regexp");if(Z(q))return C.stylize(Date.prototype.toString.call(q),"date");if(H(q))return d(q)}var Y="",V=!1,X=["{","}"];if(x(q)&&(V=!0,X=["[","]"]),L(q)){var ye=q.name?": "+q.name:"";Y=" [Function"+ye+"]"}if(z(q)&&(Y=" "+RegExp.prototype.toString.call(q)),Z(q)&&(Y=" "+Date.prototype.toUTCString.call(q)),H(q)&&(Y=" "+d(q)),O.length===0&&(!V||q.length==0))return X[0]+Y+X[1];if($<0)return z(q)?C.stylize(RegExp.prototype.toString.call(q),"regexp"):C.stylize("[Object]","special");C.seen.push(q);var M;return V?M=f(C,q,$,I,O):M=O.map(function(W){return g(C,q,$,I,W,V)}),C.seen.pop(),y(M,Y,X)}function h(C,q){if(F(q))return C.stylize("undefined","undefined");if(N(q)){var $="'"+JSON.stringify(q).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return C.stylize($,"string")}if(w(q))return C.stylize(""+q,"number");if(p(q))return C.stylize(""+q,"boolean");if(v(q))return C.stylize("null","null")}function d(C){return"["+Error.prototype.toString.call(C)+"]"}function f(C,q,$,se,J){for(var O=[],I=0,Q=q.length;I<Q;++I)re(q,String(I))?O.push(g(C,q,$,se,String(I),!0)):O.push("");return J.forEach(function(Y){Y.match(/^\d+$/)||O.push(g(C,q,$,se,Y,!0))}),O}function g(C,q,$,se,J,O){var I,Q,Y;if(Y=Object.getOwnPropertyDescriptor(q,J)||{value:q[J]},Y.get?Y.set?Q=C.stylize("[Getter/Setter]","special"):Q=C.stylize("[Getter]","special"):Y.set&&(Q=C.stylize("[Setter]","special")),re(se,J)||(I="["+J+"]"),Q||(C.seen.indexOf(Y.value)<0?(v($)?Q=c(C,Y.value,null):Q=c(C,Y.value,$-1),Q.indexOf(`
`)>-1&&(O?Q=Q.split(`
`).map(function(V){return"  "+V}).join(`
`).slice(2):Q=`
`+Q.split(`
`).map(function(V){return"   "+V}).join(`
`))):Q=C.stylize("[Circular]","special")),F(I)){if(O&&J.match(/^\d+$/))return Q;I=JSON.stringify(""+J),I.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(I=I.slice(1,-1),I=C.stylize(I,"name")):(I=I.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),I=C.stylize(I,"string"))}return I+": "+Q}function y(C,q,$){var se=C.reduce(function(J,O){return O.indexOf(`
`)>=0,J+O.replace(/\u001b\[\d\d?m/g,"").length+1},0);return se>60?$[0]+(q===""?"":q+`
 `)+" "+C.join(`,
  `)+" "+$[1]:$[0]+q+" "+C.join(", ")+" "+$[1]}t.types=Vq();function x(C){return Array.isArray(C)}t.isArray=x;function p(C){return typeof C=="boolean"}t.isBoolean=p;function v(C){return C===null}t.isNull=v;function b(C){return C==null}t.isNullOrUndefined=b;function w(C){return typeof C=="number"}t.isNumber=w;function N(C){return typeof C=="string"}t.isString=N;function j(C){return typeof C=="symbol"}t.isSymbol=j;function F(C){return C===void 0}t.isUndefined=F;function z(C){return T(C)&&A(C)==="[object RegExp]"}t.isRegExp=z,t.types.isRegExp=z;function T(C){return typeof C=="object"&&C!==null}t.isObject=T;function Z(C){return T(C)&&A(C)==="[object Date]"}t.isDate=Z,t.types.isDate=Z;function H(C){return T(C)&&(A(C)==="[object Error]"||C instanceof Error)}t.isError=H,t.types.isNativeError=H;function L(C){return typeof C=="function"}t.isFunction=L;function U(C){return C===null||typeof C=="boolean"||typeof C=="number"||typeof C=="string"||typeof C=="symbol"||typeof C>"u"}t.isPrimitive=U,t.isBuffer=$q();function A(C){return Object.prototype.toString.call(C)}function ie(C){return C<10?"0"+C.toString(10):C.toString(10)}var he=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function te(){var C=new Date,q=[ie(C.getHours()),ie(C.getMinutes()),ie(C.getSeconds())].join(":");return[C.getDate(),he[C.getMonth()],q].join(" ")}t.log=function(){console.log("%s - %s",te(),t.format.apply(t,arguments))},t.inherits=Da(),t._extend=function(C,q){if(!q||!T(q))return C;for(var $=Object.keys(q),se=$.length;se--;)C[$[se]]=q[$[se]];return C};function re(C,q){return Object.prototype.hasOwnProperty.call(C,q)}var ae=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(q){if(typeof q!="function")throw new TypeError('The "original" argument must be of type Function');if(ae&&q[ae]){var $=q[ae];if(typeof $!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty($,ae,{value:$,enumerable:!1,writable:!1,configurable:!0}),$}function $(){for(var se,J,O=new Promise(function(Y,V){se=Y,J=V}),I=[],Q=0;Q<arguments.length;Q++)I.push(arguments[Q]);I.push(function(Y,V){Y?J(Y):se(V)});try{q.apply(this,I)}catch(Y){J(Y)}return O}return Object.setPrototypeOf($,Object.getPrototypeOf(q)),ae&&Object.defineProperty($,ae,{value:$,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties($,e(q))},t.promisify.custom=ae;function ve(C,q){if(!C){var $=new Error("Promise was rejected with a falsy value");$.reason=C,C=$}return q(C)}function le(C){if(typeof C!="function")throw new TypeError('The "original" argument must be of type Function');function q(){for(var $=[],se=0;se<arguments.length;se++)$.push(arguments[se]);var J=$.pop();if(typeof J!="function")throw new TypeError("The last argument must be of type Function");var O=this,I=function(){return J.apply(O,arguments)};C.apply(this,$).then(function(Q){Lt.nextTick(I.bind(null,null,Q))},function(Q){Lt.nextTick(ve.bind(null,Q,I))})}return Object.setPrototypeOf(q,Object.getPrototypeOf(C)),Object.defineProperties(q,e(C)),q}t.callbackify=le}(k0)),k0}var Sy,Wk;function Kq(){if(Wk)return Sy;Wk=1;function t(d,f){var g=Object.keys(d);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(d);f&&(y=y.filter(function(x){return Object.getOwnPropertyDescriptor(d,x).enumerable})),g.push.apply(g,y)}return g}function e(d){for(var f=1;f<arguments.length;f++){var g=arguments[f]!=null?arguments[f]:{};f%2?t(Object(g),!0).forEach(function(y){r(d,y,g[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(g)):t(Object(g)).forEach(function(y){Object.defineProperty(d,y,Object.getOwnPropertyDescriptor(g,y))})}return d}function r(d,f,g){return f in d?Object.defineProperty(d,f,{value:g,enumerable:!0,configurable:!0,writable:!0}):d[f]=g,d}function n(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function i(d,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,y.key,y)}}function s(d,f,g){return f&&i(d.prototype,f),d}var o=pg(),a=o.Buffer,l=xC(),u=l.inspect,c=u&&u.custom||"inspect";function h(d,f,g){a.prototype.copy.call(d,f,g)}return Sy=function(){function d(){n(this,d),this.head=null,this.tail=null,this.length=0}return s(d,[{key:"push",value:function(g){var y={data:g,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}},{key:"unshift",value:function(g){var y={data:g,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var y=this.head,x=""+y.data;y=y.next;)x+=g+y.data;return x}},{key:"concat",value:function(g){if(this.length===0)return a.alloc(0);for(var y=a.allocUnsafe(g>>>0),x=this.head,p=0;x;)h(x.data,y,p),p+=x.data.length,x=x.next;return y}},{key:"consume",value:function(g,y){var x;return g<this.head.data.length?(x=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):g===this.head.data.length?x=this.shift():x=y?this._getString(g):this._getBuffer(g),x}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var y=this.head,x=1,p=y.data;for(g-=p.length;y=y.next;){var v=y.data,b=g>v.length?v.length:g;if(b===v.length?p+=v:p+=v.slice(0,g),g-=b,g===0){b===v.length?(++x,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=v.slice(b));break}++x}return this.length-=x,p}},{key:"_getBuffer",value:function(g){var y=a.allocUnsafe(g),x=this.head,p=1;for(x.data.copy(y),g-=x.data.length;x=x.next;){var v=x.data,b=g>v.length?v.length:g;if(v.copy(y,y.length-g,0,b),g-=b,g===0){b===v.length?(++p,x.next?this.head=x.next:this.head=this.tail=null):(this.head=x,x.data=v.slice(b));break}++p}return this.length-=p,y}},{key:c,value:function(g,y){return u(this,e({},y,{depth:0,customInspect:!1}))}}]),d}(),Sy}var ky,Hk;function SC(){if(Hk)return ky;Hk=1;function t(o,a){var l=this,u=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return u||c?(a?a(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Lt.nextTick(i,this,o)):Lt.nextTick(i,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(h){!a&&h?l._writableState?l._writableState.errorEmitted?Lt.nextTick(r,l):(l._writableState.errorEmitted=!0,Lt.nextTick(e,l,h)):Lt.nextTick(e,l,h):a?(Lt.nextTick(r,l),a(h)):Lt.nextTick(r,l)}),this)}function e(o,a){i(o,a),r(o)}function r(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(o,a){o.emit("error",a)}function s(o,a){var l=o._readableState,u=o._writableState;l&&l.autoDestroy||u&&u.autoDestroy?o.destroy(a):o.emit("error",a)}return ky={destroy:t,undestroy:n,errorOrDestroy:s},ky}var _y={},Vk;function Tc(){if(Vk)return _y;Vk=1;function t(a,l){a.prototype=Object.create(l.prototype),a.prototype.constructor=a,a.__proto__=l}var e={};function r(a,l,u){u||(u=Error);function c(d,f,g){return typeof l=="string"?l:l(d,f,g)}var h=function(d){t(f,d);function f(g,y,x){return d.call(this,c(g,y,x))||this}return f}(u);h.prototype.name=u.name,h.prototype.code=a,e[a]=h}function n(a,l){if(Array.isArray(a)){var u=a.length;return a=a.map(function(c){return String(c)}),u>2?"one of ".concat(l," ").concat(a.slice(0,u-1).join(", "),", or ")+a[u-1]:u===2?"one of ".concat(l," ").concat(a[0]," or ").concat(a[1]):"of ".concat(l," ").concat(a[0])}else return"of ".concat(l," ").concat(String(a))}function i(a,l,u){return a.substr(0,l.length)===l}function s(a,l,u){return(u===void 0||u>a.length)&&(u=a.length),a.substring(u-l.length,u)===l}function o(a,l,u){return typeof u!="number"&&(u=0),u+l.length>a.length?!1:a.indexOf(l,u)!==-1}return r("ERR_INVALID_OPT_VALUE",function(a,l){return'The value "'+l+'" is invalid for option "'+a+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(a,l,u){var c;typeof l=="string"&&i(l,"not ")?(c="must not be",l=l.replace(/^not /,"")):c="must be";var h;if(s(a," argument"))h="The ".concat(a," ").concat(c," ").concat(n(l,"type"));else{var d=o(a,".")?"property":"argument";h='The "'.concat(a,'" ').concat(d," ").concat(c," ").concat(n(l,"type"))}return h+=". Received type ".concat(typeof u),h},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),_y.codes=e,_y}var Ay,$k;function kC(){if($k)return Ay;$k=1;var t=Tc().codes.ERR_INVALID_OPT_VALUE;function e(n,i,s){return n.highWaterMark!=null?n.highWaterMark:i?n[s]:null}function r(n,i,s,o){var a=e(i,o,s);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var l=o?s:"highWaterMark";throw new t(l,a)}return Math.floor(a)}return n.objectMode?16:16*1024}return Ay={getHighWaterMark:r},Ay}var Ey,Kk;function Gq(){if(Kk)return Ey;Kk=1,Ey=t;function t(r,n){if(e("noDeprecation"))return r;var i=!1;function s(){if(!i){if(e("throwDeprecation"))throw new Error(n);e("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this,arguments)}return s}function e(r){try{if(!Ps.localStorage)return!1}catch{return!1}var n=Ps.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return Ey}var Ny,Gk;function _C(){if(Gk)return Ny;Gk=1,Ny=z;function t(J){var O=this;this.next=null,this.entry=null,this.finish=function(){se(O,J)}}var e;z.WritableState=j;var r={deprecate:Gq()},n=fC(),i=pg().Buffer,s=Ps.Uint8Array||function(){};function o(J){return i.from(J)}function a(J){return i.isBuffer(J)||J instanceof s}var l=SC(),u=kC(),c=u.getHighWaterMark,h=Tc().codes,d=h.ERR_INVALID_ARG_TYPE,f=h.ERR_METHOD_NOT_IMPLEMENTED,g=h.ERR_MULTIPLE_CALLBACK,y=h.ERR_STREAM_CANNOT_PIPE,x=h.ERR_STREAM_DESTROYED,p=h.ERR_STREAM_NULL_VALUES,v=h.ERR_STREAM_WRITE_AFTER_END,b=h.ERR_UNKNOWN_ENCODING,w=l.errorOrDestroy;Da()(z,n);function N(){}function j(J,O,I){e=e||yc(),J=J||{},typeof I!="boolean"&&(I=O instanceof e),this.objectMode=!!J.objectMode,I&&(this.objectMode=this.objectMode||!!J.writableObjectMode),this.highWaterMark=c(this,J,"writableHighWaterMark",I),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Q=J.decodeStrings===!1;this.decodeStrings=!Q,this.defaultEncoding=J.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Y){he(O,Y)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}j.prototype.getBuffer=function(){for(var O=this.bufferedRequest,I=[];O;)I.push(O),O=O.next;return I},function(){try{Object.defineProperty(j.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var F;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(F=Function.prototype[Symbol.hasInstance],Object.defineProperty(z,Symbol.hasInstance,{value:function(O){return F.call(this,O)?!0:this!==z?!1:O&&O._writableState instanceof j}})):F=function(O){return O instanceof this};function z(J){e=e||yc();var O=this instanceof e;if(!O&&!F.call(z,this))return new z(J);this._writableState=new j(J,this,O),this.writable=!0,J&&(typeof J.write=="function"&&(this._write=J.write),typeof J.writev=="function"&&(this._writev=J.writev),typeof J.destroy=="function"&&(this._destroy=J.destroy),typeof J.final=="function"&&(this._final=J.final)),n.call(this)}z.prototype.pipe=function(){w(this,new y)};function T(J,O){var I=new v;w(J,I),Lt.nextTick(O,I)}function Z(J,O,I,Q){var Y;return I===null?Y=new p:typeof I!="string"&&!O.objectMode&&(Y=new d("chunk",["string","Buffer"],I)),Y?(w(J,Y),Lt.nextTick(Q,Y),!1):!0}z.prototype.write=function(J,O,I){var Q=this._writableState,Y=!1,V=!Q.objectMode&&a(J);return V&&!i.isBuffer(J)&&(J=o(J)),typeof O=="function"&&(I=O,O=null),V?O="buffer":O||(O=Q.defaultEncoding),typeof I!="function"&&(I=N),Q.ending?T(this,I):(V||Z(this,Q,J,I))&&(Q.pendingcb++,Y=L(this,Q,V,J,O,I)),Y},z.prototype.cork=function(){this._writableState.corked++},z.prototype.uncork=function(){var J=this._writableState;J.corked&&(J.corked--,!J.writing&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest&&ae(this,J))},z.prototype.setDefaultEncoding=function(O){if(typeof O=="string"&&(O=O.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((O+"").toLowerCase())>-1))throw new b(O);return this._writableState.defaultEncoding=O,this},Object.defineProperty(z.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function H(J,O,I){return!J.objectMode&&J.decodeStrings!==!1&&typeof O=="string"&&(O=i.from(O,I)),O}Object.defineProperty(z.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function L(J,O,I,Q,Y,V){if(!I){var X=H(O,Q,Y);Q!==X&&(I=!0,Y="buffer",Q=X)}var ye=O.objectMode?1:Q.length;O.length+=ye;var M=O.length<O.highWaterMark;if(M||(O.needDrain=!0),O.writing||O.corked){var W=O.lastBufferedRequest;O.lastBufferedRequest={chunk:Q,encoding:Y,isBuf:I,callback:V,next:null},W?W.next=O.lastBufferedRequest:O.bufferedRequest=O.lastBufferedRequest,O.bufferedRequestCount+=1}else U(J,O,!1,ye,Q,Y,V);return M}function U(J,O,I,Q,Y,V,X){O.writelen=Q,O.writecb=X,O.writing=!0,O.sync=!0,O.destroyed?O.onwrite(new x("write")):I?J._writev(Y,O.onwrite):J._write(Y,V,O.onwrite),O.sync=!1}function A(J,O,I,Q,Y){--O.pendingcb,I?(Lt.nextTick(Y,Q),Lt.nextTick(q,J,O),J._writableState.errorEmitted=!0,w(J,Q)):(Y(Q),J._writableState.errorEmitted=!0,w(J,Q),q(J,O))}function ie(J){J.writing=!1,J.writecb=null,J.length-=J.writelen,J.writelen=0}function he(J,O){var I=J._writableState,Q=I.sync,Y=I.writecb;if(typeof Y!="function")throw new g;if(ie(I),O)A(J,I,Q,O,Y);else{var V=ve(I)||J.destroyed;!V&&!I.corked&&!I.bufferProcessing&&I.bufferedRequest&&ae(J,I),Q?Lt.nextTick(te,J,I,V,Y):te(J,I,V,Y)}}function te(J,O,I,Q){I||re(J,O),O.pendingcb--,Q(),q(J,O)}function re(J,O){O.length===0&&O.needDrain&&(O.needDrain=!1,J.emit("drain"))}function ae(J,O){O.bufferProcessing=!0;var I=O.bufferedRequest;if(J._writev&&I&&I.next){var Q=O.bufferedRequestCount,Y=new Array(Q),V=O.corkedRequestsFree;V.entry=I;for(var X=0,ye=!0;I;)Y[X]=I,I.isBuf||(ye=!1),I=I.next,X+=1;Y.allBuffers=ye,U(J,O,!0,O.length,Y,"",V.finish),O.pendingcb++,O.lastBufferedRequest=null,V.next?(O.corkedRequestsFree=V.next,V.next=null):O.corkedRequestsFree=new t(O),O.bufferedRequestCount=0}else{for(;I;){var M=I.chunk,W=I.encoding,D=I.callback,k=O.objectMode?1:M.length;if(U(J,O,!1,k,M,W,D),I=I.next,O.bufferedRequestCount--,O.writing)break}I===null&&(O.lastBufferedRequest=null)}O.bufferedRequest=I,O.bufferProcessing=!1}z.prototype._write=function(J,O,I){I(new f("_write()"))},z.prototype._writev=null,z.prototype.end=function(J,O,I){var Q=this._writableState;return typeof J=="function"?(I=J,J=null,O=null):typeof O=="function"&&(I=O,O=null),J!=null&&this.write(J,O),Q.corked&&(Q.corked=1,this.uncork()),Q.ending||$(this,Q,I),this},Object.defineProperty(z.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ve(J){return J.ending&&J.length===0&&J.bufferedRequest===null&&!J.finished&&!J.writing}function le(J,O){J._final(function(I){O.pendingcb--,I&&w(J,I),O.prefinished=!0,J.emit("prefinish"),q(J,O)})}function C(J,O){!O.prefinished&&!O.finalCalled&&(typeof J._final=="function"&&!O.destroyed?(O.pendingcb++,O.finalCalled=!0,Lt.nextTick(le,J,O)):(O.prefinished=!0,J.emit("prefinish")))}function q(J,O){var I=ve(O);if(I&&(C(J,O),O.pendingcb===0&&(O.finished=!0,J.emit("finish"),O.autoDestroy))){var Q=J._readableState;(!Q||Q.autoDestroy&&Q.endEmitted)&&J.destroy()}return I}function $(J,O,I){O.ending=!0,q(J,O),I&&(O.finished?Lt.nextTick(I):J.once("finish",I)),O.ended=!0,J.writable=!1}function se(J,O,I){var Q=J.entry;for(J.entry=null;Q;){var Y=Q.callback;O.pendingcb--,Y(I),Q=Q.next}O.corkedRequestsFree.next=J}return Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(O){this._writableState&&(this._writableState.destroyed=O)}}),z.prototype.destroy=l.destroy,z.prototype._undestroy=l.undestroy,z.prototype._destroy=function(J,O){O(J)},Ny}var Cy,Jk;function yc(){if(Jk)return Cy;Jk=1;var t=Object.keys||function(u){var c=[];for(var h in u)c.push(h);return c};Cy=o;var e=AC(),r=_C();Da()(o,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var s=n[i];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(u){if(!(this instanceof o))return new o(u);e.call(this,u),r.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||Lt.nextTick(l,this)}function l(u){u.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(c){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=c,this._writableState.destroyed=c)}}),Cy}var Ty={},sp={exports:{}},Yk;function Jq(){return Yk||(Yk=1,function(t,e){var r=pg(),n=r.Buffer;function i(o,a){for(var l in o)a[l]=o[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,a,l){return n(o,a,l)}i(n,s),s.from=function(o,a,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,l)},s.alloc=function(o,a,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=n(o);return a!==void 0?typeof l=="string"?u.fill(a,l):u.fill(a):u.fill(0),u},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}}(sp,sp.exports)),sp.exports}var Xk;function Y2(){if(Xk)return Ty;Xk=1;var t=Jq().Buffer,e=t.isEncoding||function(p){switch(p=""+p,p&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(p){if(!p)return"utf8";for(var v;;)switch(p){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return p;default:if(v)return;p=(""+p).toLowerCase(),v=!0}}function n(p){var v=r(p);if(typeof v!="string"&&(t.isEncoding===e||!e(p)))throw new Error("Unknown encoding: "+p);return v||p}Ty.StringDecoder=i;function i(p){this.encoding=n(p);var v;switch(this.encoding){case"utf16le":this.text=h,this.end=d,v=4;break;case"utf8":this.fillLast=l,v=4;break;case"base64":this.text=f,this.end=g,v=3;break;default:this.write=y,this.end=x;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(v)}i.prototype.write=function(p){if(p.length===0)return"";var v,b;if(this.lastNeed){if(v=this.fillLast(p),v===void 0)return"";b=this.lastNeed,this.lastNeed=0}else b=0;return b<p.length?v?v+this.text(p,b):this.text(p,b):v||""},i.prototype.end=c,i.prototype.text=u,i.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length};function s(p){return p<=127?0:p>>5===6?2:p>>4===14?3:p>>3===30?4:p>>6===2?-1:-2}function o(p,v,b){var w=v.length-1;if(w<b)return 0;var N=s(v[w]);return N>=0?(N>0&&(p.lastNeed=N-1),N):--w<b||N===-2?0:(N=s(v[w]),N>=0?(N>0&&(p.lastNeed=N-2),N):--w<b||N===-2?0:(N=s(v[w]),N>=0?(N>0&&(N===2?N=0:p.lastNeed=N-3),N):0))}function a(p,v,b){if((v[0]&192)!==128)return p.lastNeed=0,"";if(p.lastNeed>1&&v.length>1){if((v[1]&192)!==128)return p.lastNeed=1,"";if(p.lastNeed>2&&v.length>2&&(v[2]&192)!==128)return p.lastNeed=2,""}}function l(p){var v=this.lastTotal-this.lastNeed,b=a(this,p);if(b!==void 0)return b;if(this.lastNeed<=p.length)return p.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,v,0,p.length),this.lastNeed-=p.length}function u(p,v){var b=o(this,p,v);if(!this.lastNeed)return p.toString("utf8",v);this.lastTotal=b;var w=p.length-(b-this.lastNeed);return p.copy(this.lastChar,0,w),p.toString("utf8",v,w)}function c(p){var v=p&&p.length?this.write(p):"";return this.lastNeed?v+"":v}function h(p,v){if((p.length-v)%2===0){var b=p.toString("utf16le",v);if(b){var w=b.charCodeAt(b.length-1);if(w>=55296&&w<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],b.slice(0,-1)}return b}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",v,p.length-1)}function d(p){var v=p&&p.length?this.write(p):"";if(this.lastNeed){var b=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,b)}return v}function f(p,v){var b=(p.length-v)%3;return b===0?p.toString("base64",v):(this.lastNeed=3-b,this.lastTotal=3,b===1?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",v,p.length-b))}function g(p){var v=p&&p.length?this.write(p):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function y(p){return p.toString(this.encoding)}function x(p){return p&&p.length?this.write(p):""}return Ty}var Ly,Zk;function I5(){if(Zk)return Ly;Zk=1;var t=Tc().codes.ERR_STREAM_PREMATURE_CLOSE;function e(s){var o=!1;return function(){if(!o){o=!0;for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];s.apply(this,l)}}}function r(){}function n(s){return s.setHeader&&typeof s.abort=="function"}function i(s,o,a){if(typeof o=="function")return i(s,null,o);o||(o={}),a=e(a||r);var l=o.readable||o.readable!==!1&&s.readable,u=o.writable||o.writable!==!1&&s.writable,c=function(){s.writable||d()},h=s._writableState&&s._writableState.finished,d=function(){u=!1,h=!0,l||a.call(s)},f=s._readableState&&s._readableState.endEmitted,g=function(){l=!1,f=!0,u||a.call(s)},y=function(b){a.call(s,b)},x=function(){var b;if(l&&!f)return(!s._readableState||!s._readableState.ended)&&(b=new t),a.call(s,b);if(u&&!h)return(!s._writableState||!s._writableState.ended)&&(b=new t),a.call(s,b)},p=function(){s.req.on("finish",d)};return n(s)?(s.on("complete",d),s.on("abort",x),s.req?p():s.on("request",p)):u&&!s._writableState&&(s.on("end",c),s.on("close",c)),s.on("end",g),s.on("finish",d),o.error!==!1&&s.on("error",y),s.on("close",x),function(){s.removeListener("complete",d),s.removeListener("abort",x),s.removeListener("request",p),s.req&&s.req.removeListener("finish",d),s.removeListener("end",c),s.removeListener("close",c),s.removeListener("finish",d),s.removeListener("end",g),s.removeListener("error",y),s.removeListener("close",x)}}return Ly=i,Ly}var Oy,Qk;function Yq(){if(Qk)return Oy;Qk=1;var t;function e(p,v,b){return v in p?Object.defineProperty(p,v,{value:b,enumerable:!0,configurable:!0,writable:!0}):p[v]=b,p}var r=I5(),n=Symbol("lastResolve"),i=Symbol("lastReject"),s=Symbol("error"),o=Symbol("ended"),a=Symbol("lastPromise"),l=Symbol("handlePromise"),u=Symbol("stream");function c(p,v){return{value:p,done:v}}function h(p){var v=p[n];if(v!==null){var b=p[u].read();b!==null&&(p[a]=null,p[n]=null,p[i]=null,v(c(b,!1)))}}function d(p){Lt.nextTick(h,p)}function f(p,v){return function(b,w){p.then(function(){if(v[o]){b(c(void 0,!0));return}v[l](b,w)},w)}}var g=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((t={get stream(){return this[u]},next:function(){var v=this,b=this[s];if(b!==null)return Promise.reject(b);if(this[o])return Promise.resolve(c(void 0,!0));if(this[u].destroyed)return new Promise(function(F,z){Lt.nextTick(function(){v[s]?z(v[s]):F(c(void 0,!0))})});var w=this[a],N;if(w)N=new Promise(f(w,this));else{var j=this[u].read();if(j!==null)return Promise.resolve(c(j,!1));N=new Promise(this[l])}return this[a]=N,N}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var v=this;return new Promise(function(b,w){v[u].destroy(null,function(N){if(N){w(N);return}b(c(void 0,!0))})})}),t),g),x=function(v){var b,w=Object.create(y,(b={},e(b,u,{value:v,writable:!0}),e(b,n,{value:null,writable:!0}),e(b,i,{value:null,writable:!0}),e(b,s,{value:null,writable:!0}),e(b,o,{value:v._readableState.endEmitted,writable:!0}),e(b,l,{value:function(j,F){var z=w[u].read();z?(w[a]=null,w[n]=null,w[i]=null,j(c(z,!1))):(w[n]=j,w[i]=F)},writable:!0}),b));return w[a]=null,r(v,function(N){if(N&&N.code!=="ERR_STREAM_PREMATURE_CLOSE"){var j=w[i];j!==null&&(w[a]=null,w[n]=null,w[i]=null,j(N)),w[s]=N;return}var F=w[n];F!==null&&(w[a]=null,w[n]=null,w[i]=null,F(c(void 0,!0))),w[o]=!0}),v.on("readable",d.bind(null,w)),w};return Oy=x,Oy}var Py,e6;function Xq(){return e6||(e6=1,Py=function(){throw new Error("Readable.from is not available in the browser")}),Py}var Ry,t6;function AC(){if(t6)return Ry;t6=1,Ry=T;var t;T.ReadableState=z,C5().EventEmitter;var e=function(X,ye){return X.listeners(ye).length},r=fC(),n=pg().Buffer,i=Ps.Uint8Array||function(){};function s(V){return n.from(V)}function o(V){return n.isBuffer(V)||V instanceof i}var a=xC(),l;a&&a.debuglog?l=a.debuglog("stream"):l=function(){};var u=Kq(),c=SC(),h=kC(),d=h.getHighWaterMark,f=Tc().codes,g=f.ERR_INVALID_ARG_TYPE,y=f.ERR_STREAM_PUSH_AFTER_EOF,x=f.ERR_METHOD_NOT_IMPLEMENTED,p=f.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,v,b,w;Da()(T,r);var N=c.errorOrDestroy,j=["error","close","destroy","pause","resume"];function F(V,X,ye){if(typeof V.prependListener=="function")return V.prependListener(X,ye);!V._events||!V._events[X]?V.on(X,ye):Array.isArray(V._events[X])?V._events[X].unshift(ye):V._events[X]=[ye,V._events[X]]}function z(V,X,ye){t=t||yc(),V=V||{},typeof ye!="boolean"&&(ye=X instanceof t),this.objectMode=!!V.objectMode,ye&&(this.objectMode=this.objectMode||!!V.readableObjectMode),this.highWaterMark=d(this,V,"readableHighWaterMark",ye),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=V.emitClose!==!1,this.autoDestroy=!!V.autoDestroy,this.destroyed=!1,this.defaultEncoding=V.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,V.encoding&&(v||(v=Y2().StringDecoder),this.decoder=new v(V.encoding),this.encoding=V.encoding)}function T(V){if(t=t||yc(),!(this instanceof T))return new T(V);var X=this instanceof t;this._readableState=new z(V,this,X),this.readable=!0,V&&(typeof V.read=="function"&&(this._read=V.read),typeof V.destroy=="function"&&(this._destroy=V.destroy)),r.call(this)}Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(X){this._readableState&&(this._readableState.destroyed=X)}}),T.prototype.destroy=c.destroy,T.prototype._undestroy=c.undestroy,T.prototype._destroy=function(V,X){X(V)},T.prototype.push=function(V,X){var ye=this._readableState,M;return ye.objectMode?M=!0:typeof V=="string"&&(X=X||ye.defaultEncoding,X!==ye.encoding&&(V=n.from(V,X),X=""),M=!0),Z(this,V,X,!1,M)},T.prototype.unshift=function(V){return Z(this,V,null,!0,!1)};function Z(V,X,ye,M,W){l("readableAddChunk",X);var D=V._readableState;if(X===null)D.reading=!1,he(V,D);else{var k;if(W||(k=L(D,X)),k)N(V,k);else if(D.objectMode||X&&X.length>0)if(typeof X!="string"&&!D.objectMode&&Object.getPrototypeOf(X)!==n.prototype&&(X=s(X)),M)D.endEmitted?N(V,new p):H(V,D,X,!0);else if(D.ended)N(V,new y);else{if(D.destroyed)return!1;D.reading=!1,D.decoder&&!ye?(X=D.decoder.write(X),D.objectMode||X.length!==0?H(V,D,X,!1):ae(V,D)):H(V,D,X,!1)}else M||(D.reading=!1,ae(V,D))}return!D.ended&&(D.length<D.highWaterMark||D.length===0)}function H(V,X,ye,M){X.flowing&&X.length===0&&!X.sync?(X.awaitDrain=0,V.emit("data",ye)):(X.length+=X.objectMode?1:ye.length,M?X.buffer.unshift(ye):X.buffer.push(ye),X.needReadable&&te(V)),ae(V,X)}function L(V,X){var ye;return!o(X)&&typeof X!="string"&&X!==void 0&&!V.objectMode&&(ye=new g("chunk",["string","Buffer","Uint8Array"],X)),ye}T.prototype.isPaused=function(){return this._readableState.flowing===!1},T.prototype.setEncoding=function(V){v||(v=Y2().StringDecoder);var X=new v(V);this._readableState.decoder=X,this._readableState.encoding=this._readableState.decoder.encoding;for(var ye=this._readableState.buffer.head,M="";ye!==null;)M+=X.write(ye.data),ye=ye.next;return this._readableState.buffer.clear(),M!==""&&this._readableState.buffer.push(M),this._readableState.length=M.length,this};var U=1073741824;function A(V){return V>=U?V=U:(V--,V|=V>>>1,V|=V>>>2,V|=V>>>4,V|=V>>>8,V|=V>>>16,V++),V}function ie(V,X){return V<=0||X.length===0&&X.ended?0:X.objectMode?1:V!==V?X.flowing&&X.length?X.buffer.head.data.length:X.length:(V>X.highWaterMark&&(X.highWaterMark=A(V)),V<=X.length?V:X.ended?X.length:(X.needReadable=!0,0))}T.prototype.read=function(V){l("read",V),V=parseInt(V,10);var X=this._readableState,ye=V;if(V!==0&&(X.emittedReadable=!1),V===0&&X.needReadable&&((X.highWaterMark!==0?X.length>=X.highWaterMark:X.length>0)||X.ended))return l("read: emitReadable",X.length,X.ended),X.length===0&&X.ended?I(this):te(this),null;if(V=ie(V,X),V===0&&X.ended)return X.length===0&&I(this),null;var M=X.needReadable;l("need readable",M),(X.length===0||X.length-V<X.highWaterMark)&&(M=!0,l("length less than watermark",M)),X.ended||X.reading?(M=!1,l("reading or ended",M)):M&&(l("do read"),X.reading=!0,X.sync=!0,X.length===0&&(X.needReadable=!0),this._read(X.highWaterMark),X.sync=!1,X.reading||(V=ie(ye,X)));var W;return V>0?W=O(V,X):W=null,W===null?(X.needReadable=X.length<=X.highWaterMark,V=0):(X.length-=V,X.awaitDrain=0),X.length===0&&(X.ended||(X.needReadable=!0),ye!==V&&X.ended&&I(this)),W!==null&&this.emit("data",W),W};function he(V,X){if(l("onEofChunk"),!X.ended){if(X.decoder){var ye=X.decoder.end();ye&&ye.length&&(X.buffer.push(ye),X.length+=X.objectMode?1:ye.length)}X.ended=!0,X.sync?te(V):(X.needReadable=!1,X.emittedReadable||(X.emittedReadable=!0,re(V)))}}function te(V){var X=V._readableState;l("emitReadable",X.needReadable,X.emittedReadable),X.needReadable=!1,X.emittedReadable||(l("emitReadable",X.flowing),X.emittedReadable=!0,Lt.nextTick(re,V))}function re(V){var X=V._readableState;l("emitReadable_",X.destroyed,X.length,X.ended),!X.destroyed&&(X.length||X.ended)&&(V.emit("readable"),X.emittedReadable=!1),X.needReadable=!X.flowing&&!X.ended&&X.length<=X.highWaterMark,J(V)}function ae(V,X){X.readingMore||(X.readingMore=!0,Lt.nextTick(ve,V,X))}function ve(V,X){for(;!X.reading&&!X.ended&&(X.length<X.highWaterMark||X.flowing&&X.length===0);){var ye=X.length;if(l("maybeReadMore read 0"),V.read(0),ye===X.length)break}X.readingMore=!1}T.prototype._read=function(V){N(this,new x("_read()"))},T.prototype.pipe=function(V,X){var ye=this,M=this._readableState;switch(M.pipesCount){case 0:M.pipes=V;break;case 1:M.pipes=[M.pipes,V];break;default:M.pipes.push(V);break}M.pipesCount+=1,l("pipe count=%d opts=%j",M.pipesCount,X);var W=(!X||X.end!==!1)&&V!==Lt.stdout&&V!==Lt.stderr,D=W?_:Oe;M.endEmitted?Lt.nextTick(D):ye.once("end",D),V.on("unpipe",k);function k(We,Ve){l("onunpipe"),We===ye&&Ve&&Ve.hasUnpiped===!1&&(Ve.hasUnpiped=!0,de())}function _(){l("onend"),V.end()}var R=le(ye);V.on("drain",R);var oe=!1;function de(){l("cleanup"),V.removeListener("close",Ce),V.removeListener("finish",Ne),V.removeListener("drain",R),V.removeListener("error",Se),V.removeListener("unpipe",k),ye.removeListener("end",_),ye.removeListener("end",Oe),ye.removeListener("data",fe),oe=!0,M.awaitDrain&&(!V._writableState||V._writableState.needDrain)&&R()}ye.on("data",fe);function fe(We){l("ondata");var Ve=V.write(We);l("dest.write",Ve),Ve===!1&&((M.pipesCount===1&&M.pipes===V||M.pipesCount>1&&Y(M.pipes,V)!==-1)&&!oe&&(l("false write response, pause",M.awaitDrain),M.awaitDrain++),ye.pause())}function Se(We){l("onerror",We),Oe(),V.removeListener("error",Se),e(V,"error")===0&&N(V,We)}F(V,"error",Se);function Ce(){V.removeListener("finish",Ne),Oe()}V.once("close",Ce);function Ne(){l("onfinish"),V.removeListener("close",Ce),Oe()}V.once("finish",Ne);function Oe(){l("unpipe"),ye.unpipe(V)}return V.emit("pipe",ye),M.flowing||(l("pipe resume"),ye.resume()),V};function le(V){return function(){var ye=V._readableState;l("pipeOnDrain",ye.awaitDrain),ye.awaitDrain&&ye.awaitDrain--,ye.awaitDrain===0&&e(V,"data")&&(ye.flowing=!0,J(V))}}T.prototype.unpipe=function(V){var X=this._readableState,ye={hasUnpiped:!1};if(X.pipesCount===0)return this;if(X.pipesCount===1)return V&&V!==X.pipes?this:(V||(V=X.pipes),X.pipes=null,X.pipesCount=0,X.flowing=!1,V&&V.emit("unpipe",this,ye),this);if(!V){var M=X.pipes,W=X.pipesCount;X.pipes=null,X.pipesCount=0,X.flowing=!1;for(var D=0;D<W;D++)M[D].emit("unpipe",this,{hasUnpiped:!1});return this}var k=Y(X.pipes,V);return k===-1?this:(X.pipes.splice(k,1),X.pipesCount-=1,X.pipesCount===1&&(X.pipes=X.pipes[0]),V.emit("unpipe",this,ye),this)},T.prototype.on=function(V,X){var ye=r.prototype.on.call(this,V,X),M=this._readableState;return V==="data"?(M.readableListening=this.listenerCount("readable")>0,M.flowing!==!1&&this.resume()):V==="readable"&&!M.endEmitted&&!M.readableListening&&(M.readableListening=M.needReadable=!0,M.flowing=!1,M.emittedReadable=!1,l("on readable",M.length,M.reading),M.length?te(this):M.reading||Lt.nextTick(q,this)),ye},T.prototype.addListener=T.prototype.on,T.prototype.removeListener=function(V,X){var ye=r.prototype.removeListener.call(this,V,X);return V==="readable"&&Lt.nextTick(C,this),ye},T.prototype.removeAllListeners=function(V){var X=r.prototype.removeAllListeners.apply(this,arguments);return(V==="readable"||V===void 0)&&Lt.nextTick(C,this),X};function C(V){var X=V._readableState;X.readableListening=V.listenerCount("readable")>0,X.resumeScheduled&&!X.paused?X.flowing=!0:V.listenerCount("data")>0&&V.resume()}function q(V){l("readable nexttick read 0"),V.read(0)}T.prototype.resume=function(){var V=this._readableState;return V.flowing||(l("resume"),V.flowing=!V.readableListening,$(this,V)),V.paused=!1,this};function $(V,X){X.resumeScheduled||(X.resumeScheduled=!0,Lt.nextTick(se,V,X))}function se(V,X){l("resume",X.reading),X.reading||V.read(0),X.resumeScheduled=!1,V.emit("resume"),J(V),X.flowing&&!X.reading&&V.read(0)}T.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function J(V){var X=V._readableState;for(l("flow",X.flowing);X.flowing&&V.read()!==null;);}T.prototype.wrap=function(V){var X=this,ye=this._readableState,M=!1;V.on("end",function(){if(l("wrapped end"),ye.decoder&&!ye.ended){var k=ye.decoder.end();k&&k.length&&X.push(k)}X.push(null)}),V.on("data",function(k){if(l("wrapped data"),ye.decoder&&(k=ye.decoder.write(k)),!(ye.objectMode&&k==null)&&!(!ye.objectMode&&(!k||!k.length))){var _=X.push(k);_||(M=!0,V.pause())}});for(var W in V)this[W]===void 0&&typeof V[W]=="function"&&(this[W]=function(_){return function(){return V[_].apply(V,arguments)}}(W));for(var D=0;D<j.length;D++)V.on(j[D],this.emit.bind(this,j[D]));return this._read=function(k){l("wrapped _read",k),M&&(M=!1,V.resume())},this},typeof Symbol=="function"&&(T.prototype[Symbol.asyncIterator]=function(){return b===void 0&&(b=Yq()),b(this)}),Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(T.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(T.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(X){this._readableState&&(this._readableState.flowing=X)}}),T._fromList=O,Object.defineProperty(T.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function O(V,X){if(X.length===0)return null;var ye;return X.objectMode?ye=X.buffer.shift():!V||V>=X.length?(X.decoder?ye=X.buffer.join(""):X.buffer.length===1?ye=X.buffer.first():ye=X.buffer.concat(X.length),X.buffer.clear()):ye=X.buffer.consume(V,X.decoder),ye}function I(V){var X=V._readableState;l("endReadable",X.endEmitted),X.endEmitted||(X.ended=!0,Lt.nextTick(Q,X,V))}function Q(V,X){if(l("endReadableNT",V.endEmitted,V.length),!V.endEmitted&&V.length===0&&(V.endEmitted=!0,X.readable=!1,X.emit("end"),V.autoDestroy)){var ye=X._writableState;(!ye||ye.autoDestroy&&ye.finished)&&X.destroy()}}typeof Symbol=="function"&&(T.from=function(V,X){return w===void 0&&(w=Xq()),w(T,V,X)});function Y(V,X){for(var ye=0,M=V.length;ye<M;ye++)if(V[ye]===X)return ye;return-1}return Ry}var Iy,r6;function EC(){if(r6)return Iy;r6=1,Iy=a;var t=Tc().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,r=t.ERR_MULTIPLE_CALLBACK,n=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=t.ERR_TRANSFORM_WITH_LENGTH_0,s=yc();Da()(a,s);function o(c,h){var d=this._transformState;d.transforming=!1;var f=d.writecb;if(f===null)return this.emit("error",new r);d.writechunk=null,d.writecb=null,h!=null&&this.push(h),f(c);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function a(c){if(!(this instanceof a))return new a(c);s.call(this,c),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",l)}function l(){var c=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(h,d){u(c,h,d)}):u(this,null,null)}a.prototype.push=function(c,h){return this._transformState.needTransform=!1,s.prototype.push.call(this,c,h)},a.prototype._transform=function(c,h,d){d(new e("_transform()"))},a.prototype._write=function(c,h,d){var f=this._transformState;if(f.writecb=d,f.writechunk=c,f.writeencoding=h,!f.transforming){var g=this._readableState;(f.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},a.prototype._read=function(c){var h=this._transformState;h.writechunk!==null&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},a.prototype._destroy=function(c,h){s.prototype._destroy.call(this,c,function(d){h(d)})};function u(c,h,d){if(h)return c.emit("error",h);if(d!=null&&c.push(d),c._writableState.length)throw new i;if(c._transformState.transforming)throw new n;return c.push(null)}return Iy}var My,n6;function Zq(){if(n6)return My;n6=1,My=e;var t=EC();Da()(e,t);function e(r){if(!(this instanceof e))return new e(r);t.call(this,r)}return e.prototype._transform=function(r,n,i){i(null,r)},My}var Dy,i6;function Qq(){if(i6)return Dy;i6=1;var t;function e(d){var f=!1;return function(){f||(f=!0,d.apply(void 0,arguments))}}var r=Tc().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function s(d){if(d)throw d}function o(d){return d.setHeader&&typeof d.abort=="function"}function a(d,f,g,y){y=e(y);var x=!1;d.on("close",function(){x=!0}),t===void 0&&(t=I5()),t(d,{readable:f,writable:g},function(v){if(v)return y(v);x=!0,y()});var p=!1;return function(v){if(!x&&!p){if(p=!0,o(d))return d.abort();if(typeof d.destroy=="function")return d.destroy();y(v||new i("pipe"))}}}function l(d){d()}function u(d,f){return d.pipe(f)}function c(d){return!d.length||typeof d[d.length-1]!="function"?s:d.pop()}function h(){for(var d=arguments.length,f=new Array(d),g=0;g<d;g++)f[g]=arguments[g];var y=c(f);if(Array.isArray(f[0])&&(f=f[0]),f.length<2)throw new n("streams");var x,p=f.map(function(v,b){var w=b<f.length-1,N=b>0;return a(v,w,N,function(j){x||(x=j),j&&p.forEach(l),!w&&(p.forEach(l),y(x))})});return f.reduce(u)}return Dy=h,Dy}var Fy,s6;function M5(){if(s6)return Fy;s6=1,Fy=r;var t=C5().EventEmitter,e=Da();e(r,t),r.Readable=AC(),r.Writable=_C(),r.Duplex=yc(),r.Transform=EC(),r.PassThrough=Zq(),r.finished=I5(),r.pipeline=Qq(),r.Stream=r;function r(){t.call(this)}return r.prototype.pipe=function(n,i){var s=this;function o(f){n.writable&&n.write(f)===!1&&s.pause&&s.pause()}s.on("data",o);function a(){s.readable&&s.resume&&s.resume()}n.on("drain",a),!n._isStdio&&(!i||i.end!==!1)&&(s.on("end",u),s.on("close",c));var l=!1;function u(){l||(l=!0,n.end())}function c(){l||(l=!0,typeof n.destroy=="function"&&n.destroy())}function h(f){if(d(),t.listenerCount(this,"error")===0)throw f}s.on("error",h),n.on("error",h);function d(){s.removeListener("data",o),n.removeListener("drain",a),s.removeListener("end",u),s.removeListener("close",c),s.removeListener("error",h),n.removeListener("error",h),s.removeListener("end",d),s.removeListener("close",d),n.removeListener("close",d)}return s.on("end",d),s.on("close",d),n.on("close",d),n.emit("pipe",s),n},Fy}var o6;function eW(){return o6||(o6=1,function(t){(function(e){e.parser=function(O,I){return new n(O,I)},e.SAXParser=n,e.SAXStream=c,e.createStream=u,e.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(O,I){if(!(this instanceof n))return new n(O,I);var Q=this;s(Q),Q.q=Q.c="",Q.bufferCheckPosition=e.MAX_BUFFER_LENGTH,Q.opt=I||{},Q.opt.lowercase=Q.opt.lowercase||Q.opt.lowercasetags,Q.looseCase=Q.opt.lowercase?"toLowerCase":"toUpperCase",Q.tags=[],Q.closed=Q.closedRoot=Q.sawRoot=!1,Q.tag=Q.error=null,Q.strict=!!O,Q.noscript=!!(O||Q.opt.noscript),Q.state=T.BEGIN,Q.strictEntities=Q.opt.strictEntities,Q.ENTITIES=Q.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),Q.attribList=[],Q.opt.xmlns&&(Q.ns=Object.create(y)),Q.trackPosition=Q.opt.position!==!1,Q.trackPosition&&(Q.position=Q.line=Q.column=0),H(Q,"onready")}Object.create||(Object.create=function(O){function I(){}I.prototype=O;var Q=new I;return Q}),Object.keys||(Object.keys=function(O){var I=[];for(var Q in O)O.hasOwnProperty(Q)&&I.push(Q);return I});function i(O){for(var I=Math.max(e.MAX_BUFFER_LENGTH,10),Q=0,Y=0,V=r.length;Y<V;Y++){var X=O[r[Y]].length;if(X>I)switch(r[Y]){case"textNode":U(O);break;case"cdata":L(O,"oncdata",O.cdata),O.cdata="";break;case"script":L(O,"onscript",O.script),O.script="";break;default:ie(O,"Max buffer length exceeded: "+r[Y])}Q=Math.max(Q,X)}var ye=e.MAX_BUFFER_LENGTH-Q;O.bufferCheckPosition=ye+O.position}function s(O){for(var I=0,Q=r.length;I<Q;I++)O[r[I]]=""}function o(O){U(O),O.cdata!==""&&(L(O,"oncdata",O.cdata),O.cdata=""),O.script!==""&&(L(O,"onscript",O.script),O.script="")}n.prototype={end:function(){he(this)},write:J,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){o(this)}};var a;try{a=M5().Stream}catch{a=function(){}}var l=e.EVENTS.filter(function(O){return O!=="error"&&O!=="end"});function u(O,I){return new c(O,I)}function c(O,I){if(!(this instanceof c))return new c(O,I);a.apply(this),this._parser=new n(O,I),this.writable=!0,this.readable=!0;var Q=this;this._parser.onend=function(){Q.emit("end")},this._parser.onerror=function(Y){Q.emit("error",Y),Q._parser.error=null},this._decoder=null,l.forEach(function(Y){Object.defineProperty(Q,"on"+Y,{get:function(){return Q._parser["on"+Y]},set:function(V){if(!V)return Q.removeAllListeners(Y),Q._parser["on"+Y]=V,V;Q.on(Y,V)},enumerable:!0,configurable:!1})})}c.prototype=Object.create(a.prototype,{constructor:{value:c}}),c.prototype.write=function(O){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(O)){if(!this._decoder){var I=Y2().StringDecoder;this._decoder=new I("utf8")}O=this._decoder.write(O)}return this._parser.write(O.toString()),this.emit("data",O),!0},c.prototype.end=function(O){return O&&O.length&&this.write(O),this._parser.end(),!0},c.prototype.on=function(O,I){var Q=this;return!Q._parser["on"+O]&&l.indexOf(O)!==-1&&(Q._parser["on"+O]=function(){var Y=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);Y.splice(0,0,O),Q.emit.apply(Q,Y)}),a.prototype.on.call(Q,O,I)};var h="[CDATA[",d="DOCTYPE",f="http://www.w3.org/XML/1998/namespace",g="http://www.w3.org/2000/xmlns/",y={xml:f,xmlns:g},x=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,p=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,v=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,b=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function w(O){return O===" "||O===`
`||O==="\r"||O==="	"}function N(O){return O==='"'||O==="'"}function j(O){return O===">"||w(O)}function F(O,I){return O.test(I)}function z(O,I){return!F(O,I)}var T=0;e.STATE={BEGIN:T++,BEGIN_WHITESPACE:T++,TEXT:T++,TEXT_ENTITY:T++,OPEN_WAKA:T++,SGML_DECL:T++,SGML_DECL_QUOTED:T++,DOCTYPE:T++,DOCTYPE_QUOTED:T++,DOCTYPE_DTD:T++,DOCTYPE_DTD_QUOTED:T++,COMMENT_STARTING:T++,COMMENT:T++,COMMENT_ENDING:T++,COMMENT_ENDED:T++,CDATA:T++,CDATA_ENDING:T++,CDATA_ENDING_2:T++,PROC_INST:T++,PROC_INST_BODY:T++,PROC_INST_ENDING:T++,OPEN_TAG:T++,OPEN_TAG_SLASH:T++,ATTRIB:T++,ATTRIB_NAME:T++,ATTRIB_NAME_SAW_WHITE:T++,ATTRIB_VALUE:T++,ATTRIB_VALUE_QUOTED:T++,ATTRIB_VALUE_CLOSED:T++,ATTRIB_VALUE_UNQUOTED:T++,ATTRIB_VALUE_ENTITY_Q:T++,ATTRIB_VALUE_ENTITY_U:T++,CLOSE_TAG:T++,CLOSE_TAG_SAW_WHITE:T++,SCRIPT:T++,SCRIPT_ENDING:T++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(O){var I=e.ENTITIES[O],Q=typeof I=="number"?String.fromCharCode(I):I;e.ENTITIES[O]=Q});for(var Z in e.STATE)e.STATE[e.STATE[Z]]=Z;T=e.STATE;function H(O,I,Q){O[I]&&O[I](Q)}function L(O,I,Q){O.textNode&&U(O),H(O,I,Q)}function U(O){O.textNode=A(O.opt,O.textNode),O.textNode&&H(O,"ontext",O.textNode),O.textNode=""}function A(O,I){return O.trim&&(I=I.trim()),O.normalize&&(I=I.replace(/\s+/g," ")),I}function ie(O,I){return U(O),O.trackPosition&&(I+=`
Line: `+O.line+`
Column: `+O.column+`
Char: `+O.c),I=new Error(I),O.error=I,H(O,"onerror",I),O}function he(O){return O.sawRoot&&!O.closedRoot&&te(O,"Unclosed root tag"),O.state!==T.BEGIN&&O.state!==T.BEGIN_WHITESPACE&&O.state!==T.TEXT&&ie(O,"Unexpected end"),U(O),O.c="",O.closed=!0,H(O,"onend"),n.call(O,O.strict,O.opt),O}function te(O,I){if(typeof O!="object"||!(O instanceof n))throw new Error("bad call to strictFail");O.strict&&ie(O,I)}function re(O){O.strict||(O.tagName=O.tagName[O.looseCase]());var I=O.tags[O.tags.length-1]||O,Q=O.tag={name:O.tagName,attributes:{}};O.opt.xmlns&&(Q.ns=I.ns),O.attribList.length=0,L(O,"onopentagstart",Q)}function ae(O,I){var Q=O.indexOf(":"),Y=Q<0?["",O]:O.split(":"),V=Y[0],X=Y[1];return I&&O==="xmlns"&&(V="xmlns",X=""),{prefix:V,local:X}}function ve(O){if(O.strict||(O.attribName=O.attribName[O.looseCase]()),O.attribList.indexOf(O.attribName)!==-1||O.tag.attributes.hasOwnProperty(O.attribName)){O.attribName=O.attribValue="";return}if(O.opt.xmlns){var I=ae(O.attribName,!0),Q=I.prefix,Y=I.local;if(Q==="xmlns")if(Y==="xml"&&O.attribValue!==f)te(O,"xml: prefix must be bound to "+f+`
Actual: `+O.attribValue);else if(Y==="xmlns"&&O.attribValue!==g)te(O,"xmlns: prefix must be bound to "+g+`
Actual: `+O.attribValue);else{var V=O.tag,X=O.tags[O.tags.length-1]||O;V.ns===X.ns&&(V.ns=Object.create(X.ns)),V.ns[Y]=O.attribValue}O.attribList.push([O.attribName,O.attribValue])}else O.tag.attributes[O.attribName]=O.attribValue,L(O,"onattribute",{name:O.attribName,value:O.attribValue});O.attribName=O.attribValue=""}function le(O,I){if(O.opt.xmlns){var Q=O.tag,Y=ae(O.tagName);Q.prefix=Y.prefix,Q.local=Y.local,Q.uri=Q.ns[Y.prefix]||"",Q.prefix&&!Q.uri&&(te(O,"Unbound namespace prefix: "+JSON.stringify(O.tagName)),Q.uri=Y.prefix);var V=O.tags[O.tags.length-1]||O;Q.ns&&V.ns!==Q.ns&&Object.keys(Q.ns).forEach(function(fe){L(O,"onopennamespace",{prefix:fe,uri:Q.ns[fe]})});for(var X=0,ye=O.attribList.length;X<ye;X++){var M=O.attribList[X],W=M[0],D=M[1],k=ae(W,!0),_=k.prefix,R=k.local,oe=_===""?"":Q.ns[_]||"",de={name:W,value:D,prefix:_,local:R,uri:oe};_&&_!=="xmlns"&&!oe&&(te(O,"Unbound namespace prefix: "+JSON.stringify(_)),de.uri=_),O.tag.attributes[W]=de,L(O,"onattribute",de)}O.attribList.length=0}O.tag.isSelfClosing=!!I,O.sawRoot=!0,O.tags.push(O.tag),L(O,"onopentag",O.tag),I||(!O.noscript&&O.tagName.toLowerCase()==="script"?O.state=T.SCRIPT:O.state=T.TEXT,O.tag=null,O.tagName=""),O.attribName=O.attribValue="",O.attribList.length=0}function C(O){if(!O.tagName){te(O,"Weird empty close tag."),O.textNode+="</>",O.state=T.TEXT;return}if(O.script){if(O.tagName!=="script"){O.script+="</"+O.tagName+">",O.tagName="",O.state=T.SCRIPT;return}L(O,"onscript",O.script),O.script=""}var I=O.tags.length,Q=O.tagName;O.strict||(Q=Q[O.looseCase]());for(var Y=Q;I--;){var V=O.tags[I];if(V.name!==Y)te(O,"Unexpected close tag");else break}if(I<0){te(O,"Unmatched closing tag: "+O.tagName),O.textNode+="</"+O.tagName+">",O.state=T.TEXT;return}O.tagName=Q;for(var X=O.tags.length;X-- >I;){var ye=O.tag=O.tags.pop();O.tagName=O.tag.name,L(O,"onclosetag",O.tagName);var M={};for(var W in ye.ns)M[W]=ye.ns[W];var D=O.tags[O.tags.length-1]||O;O.opt.xmlns&&ye.ns!==D.ns&&Object.keys(ye.ns).forEach(function(k){var _=ye.ns[k];L(O,"onclosenamespace",{prefix:k,uri:_})})}I===0&&(O.closedRoot=!0),O.tagName=O.attribValue=O.attribName="",O.attribList.length=0,O.state=T.TEXT}function q(O){var I=O.entity,Q=I.toLowerCase(),Y,V="";return O.ENTITIES[I]?O.ENTITIES[I]:O.ENTITIES[Q]?O.ENTITIES[Q]:(I=Q,I.charAt(0)==="#"&&(I.charAt(1)==="x"?(I=I.slice(2),Y=parseInt(I,16),V=Y.toString(16)):(I=I.slice(1),Y=parseInt(I,10),V=Y.toString(10))),I=I.replace(/^0+/,""),isNaN(Y)||V.toLowerCase()!==I?(te(O,"Invalid character entity"),"&"+O.entity+";"):String.fromCodePoint(Y))}function $(O,I){I==="<"?(O.state=T.OPEN_WAKA,O.startTagPosition=O.position):w(I)||(te(O,"Non-whitespace before first tag."),O.textNode=I,O.state=T.TEXT)}function se(O,I){var Q="";return I<O.length&&(Q=O.charAt(I)),Q}function J(O){var I=this;if(this.error)throw this.error;if(I.closed)return ie(I,"Cannot write after close. Assign an onready handler.");if(O===null)return he(I);typeof O=="object"&&(O=O.toString());for(var Q=0,Y="";Y=se(O,Q++),I.c=Y,!!Y;)switch(I.trackPosition&&(I.position++,Y===`
`?(I.line++,I.column=0):I.column++),I.state){case T.BEGIN:if(I.state=T.BEGIN_WHITESPACE,Y==="\uFEFF")continue;$(I,Y);continue;case T.BEGIN_WHITESPACE:$(I,Y);continue;case T.TEXT:if(I.sawRoot&&!I.closedRoot){for(var V=Q-1;Y&&Y!=="<"&&Y!=="&";)Y=se(O,Q++),Y&&I.trackPosition&&(I.position++,Y===`
`?(I.line++,I.column=0):I.column++);I.textNode+=O.substring(V,Q-1)}Y==="<"&&!(I.sawRoot&&I.closedRoot&&!I.strict)?(I.state=T.OPEN_WAKA,I.startTagPosition=I.position):(!w(Y)&&(!I.sawRoot||I.closedRoot)&&te(I,"Text data outside of root node."),Y==="&"?I.state=T.TEXT_ENTITY:I.textNode+=Y);continue;case T.SCRIPT:Y==="<"?I.state=T.SCRIPT_ENDING:I.script+=Y;continue;case T.SCRIPT_ENDING:Y==="/"?I.state=T.CLOSE_TAG:(I.script+="<"+Y,I.state=T.SCRIPT);continue;case T.OPEN_WAKA:if(Y==="!")I.state=T.SGML_DECL,I.sgmlDecl="";else if(!w(Y))if(F(x,Y))I.state=T.OPEN_TAG,I.tagName=Y;else if(Y==="/")I.state=T.CLOSE_TAG,I.tagName="";else if(Y==="?")I.state=T.PROC_INST,I.procInstName=I.procInstBody="";else{if(te(I,"Unencoded <"),I.startTagPosition+1<I.position){var X=I.position-I.startTagPosition;Y=new Array(X).join(" ")+Y}I.textNode+="<"+Y,I.state=T.TEXT}continue;case T.SGML_DECL:(I.sgmlDecl+Y).toUpperCase()===h?(L(I,"onopencdata"),I.state=T.CDATA,I.sgmlDecl="",I.cdata=""):I.sgmlDecl+Y==="--"?(I.state=T.COMMENT,I.comment="",I.sgmlDecl=""):(I.sgmlDecl+Y).toUpperCase()===d?(I.state=T.DOCTYPE,(I.doctype||I.sawRoot)&&te(I,"Inappropriately located doctype declaration"),I.doctype="",I.sgmlDecl=""):Y===">"?(L(I,"onsgmldeclaration",I.sgmlDecl),I.sgmlDecl="",I.state=T.TEXT):(N(Y)&&(I.state=T.SGML_DECL_QUOTED),I.sgmlDecl+=Y);continue;case T.SGML_DECL_QUOTED:Y===I.q&&(I.state=T.SGML_DECL,I.q=""),I.sgmlDecl+=Y;continue;case T.DOCTYPE:Y===">"?(I.state=T.TEXT,L(I,"ondoctype",I.doctype),I.doctype=!0):(I.doctype+=Y,Y==="["?I.state=T.DOCTYPE_DTD:N(Y)&&(I.state=T.DOCTYPE_QUOTED,I.q=Y));continue;case T.DOCTYPE_QUOTED:I.doctype+=Y,Y===I.q&&(I.q="",I.state=T.DOCTYPE);continue;case T.DOCTYPE_DTD:I.doctype+=Y,Y==="]"?I.state=T.DOCTYPE:N(Y)&&(I.state=T.DOCTYPE_DTD_QUOTED,I.q=Y);continue;case T.DOCTYPE_DTD_QUOTED:I.doctype+=Y,Y===I.q&&(I.state=T.DOCTYPE_DTD,I.q="");continue;case T.COMMENT:Y==="-"?I.state=T.COMMENT_ENDING:I.comment+=Y;continue;case T.COMMENT_ENDING:Y==="-"?(I.state=T.COMMENT_ENDED,I.comment=A(I.opt,I.comment),I.comment&&L(I,"oncomment",I.comment),I.comment=""):(I.comment+="-"+Y,I.state=T.COMMENT);continue;case T.COMMENT_ENDED:Y!==">"?(te(I,"Malformed comment"),I.comment+="--"+Y,I.state=T.COMMENT):I.state=T.TEXT;continue;case T.CDATA:Y==="]"?I.state=T.CDATA_ENDING:I.cdata+=Y;continue;case T.CDATA_ENDING:Y==="]"?I.state=T.CDATA_ENDING_2:(I.cdata+="]"+Y,I.state=T.CDATA);continue;case T.CDATA_ENDING_2:Y===">"?(I.cdata&&L(I,"oncdata",I.cdata),L(I,"onclosecdata"),I.cdata="",I.state=T.TEXT):Y==="]"?I.cdata+="]":(I.cdata+="]]"+Y,I.state=T.CDATA);continue;case T.PROC_INST:Y==="?"?I.state=T.PROC_INST_ENDING:w(Y)?I.state=T.PROC_INST_BODY:I.procInstName+=Y;continue;case T.PROC_INST_BODY:if(!I.procInstBody&&w(Y))continue;Y==="?"?I.state=T.PROC_INST_ENDING:I.procInstBody+=Y;continue;case T.PROC_INST_ENDING:Y===">"?(L(I,"onprocessinginstruction",{name:I.procInstName,body:I.procInstBody}),I.procInstName=I.procInstBody="",I.state=T.TEXT):(I.procInstBody+="?"+Y,I.state=T.PROC_INST_BODY);continue;case T.OPEN_TAG:F(p,Y)?I.tagName+=Y:(re(I),Y===">"?le(I):Y==="/"?I.state=T.OPEN_TAG_SLASH:(w(Y)||te(I,"Invalid character in tag name"),I.state=T.ATTRIB));continue;case T.OPEN_TAG_SLASH:Y===">"?(le(I,!0),C(I)):(te(I,"Forward-slash in opening tag not followed by >"),I.state=T.ATTRIB);continue;case T.ATTRIB:if(w(Y))continue;Y===">"?le(I):Y==="/"?I.state=T.OPEN_TAG_SLASH:F(x,Y)?(I.attribName=Y,I.attribValue="",I.state=T.ATTRIB_NAME):te(I,"Invalid attribute name");continue;case T.ATTRIB_NAME:Y==="="?I.state=T.ATTRIB_VALUE:Y===">"?(te(I,"Attribute without value"),I.attribValue=I.attribName,ve(I),le(I)):w(Y)?I.state=T.ATTRIB_NAME_SAW_WHITE:F(p,Y)?I.attribName+=Y:te(I,"Invalid attribute name");continue;case T.ATTRIB_NAME_SAW_WHITE:if(Y==="=")I.state=T.ATTRIB_VALUE;else{if(w(Y))continue;te(I,"Attribute without value"),I.tag.attributes[I.attribName]="",I.attribValue="",L(I,"onattribute",{name:I.attribName,value:""}),I.attribName="",Y===">"?le(I):F(x,Y)?(I.attribName=Y,I.state=T.ATTRIB_NAME):(te(I,"Invalid attribute name"),I.state=T.ATTRIB)}continue;case T.ATTRIB_VALUE:if(w(Y))continue;N(Y)?(I.q=Y,I.state=T.ATTRIB_VALUE_QUOTED):(te(I,"Unquoted attribute value"),I.state=T.ATTRIB_VALUE_UNQUOTED,I.attribValue=Y);continue;case T.ATTRIB_VALUE_QUOTED:if(Y!==I.q){Y==="&"?I.state=T.ATTRIB_VALUE_ENTITY_Q:I.attribValue+=Y;continue}ve(I),I.q="",I.state=T.ATTRIB_VALUE_CLOSED;continue;case T.ATTRIB_VALUE_CLOSED:w(Y)?I.state=T.ATTRIB:Y===">"?le(I):Y==="/"?I.state=T.OPEN_TAG_SLASH:F(x,Y)?(te(I,"No whitespace between attributes"),I.attribName=Y,I.attribValue="",I.state=T.ATTRIB_NAME):te(I,"Invalid attribute name");continue;case T.ATTRIB_VALUE_UNQUOTED:if(!j(Y)){Y==="&"?I.state=T.ATTRIB_VALUE_ENTITY_U:I.attribValue+=Y;continue}ve(I),Y===">"?le(I):I.state=T.ATTRIB;continue;case T.CLOSE_TAG:if(I.tagName)Y===">"?C(I):F(p,Y)?I.tagName+=Y:I.script?(I.script+="</"+I.tagName,I.tagName="",I.state=T.SCRIPT):(w(Y)||te(I,"Invalid tagname in closing tag"),I.state=T.CLOSE_TAG_SAW_WHITE);else{if(w(Y))continue;z(x,Y)?I.script?(I.script+="</"+Y,I.state=T.SCRIPT):te(I,"Invalid tagname in closing tag."):I.tagName=Y}continue;case T.CLOSE_TAG_SAW_WHITE:if(w(Y))continue;Y===">"?C(I):te(I,"Invalid characters in closing tag");continue;case T.TEXT_ENTITY:case T.ATTRIB_VALUE_ENTITY_Q:case T.ATTRIB_VALUE_ENTITY_U:var ye,M;switch(I.state){case T.TEXT_ENTITY:ye=T.TEXT,M="textNode";break;case T.ATTRIB_VALUE_ENTITY_Q:ye=T.ATTRIB_VALUE_QUOTED,M="attribValue";break;case T.ATTRIB_VALUE_ENTITY_U:ye=T.ATTRIB_VALUE_UNQUOTED,M="attribValue";break}Y===";"?(I[M]+=q(I),I.entity="",I.state=ye):F(I.entity.length?b:v,Y)?I.entity+=Y:(te(I,"Invalid character in entity name"),I[M]+="&"+I.entity+Y,I.entity="",I.state=ye);continue;default:throw new Error(I,"Unknown state: "+I.state)}return I.position>=I.bufferCheckPosition&&i(I),I}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var O=String.fromCharCode,I=Math.floor,Q=function(){var Y=16384,V=[],X,ye,M=-1,W=arguments.length;if(!W)return"";for(var D="";++M<W;){var k=Number(arguments[M]);if(!isFinite(k)||k<0||k>1114111||I(k)!==k)throw RangeError("Invalid code point: "+k);k<=65535?V.push(k):(k-=65536,X=(k>>10)+55296,ye=k%1024+56320,V.push(X,ye)),(M+1===W||V.length>Y)&&(D+=O.apply(null,V),V.length=0)}return D};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:Q,configurable:!0,writable:!0}):String.fromCodePoint=Q}()})(t)}(b0)),b0}var By,a6;function D5(){return a6||(a6=1,By={isArray:function(t){return Array.isArray?Array.isArray(t):Object.prototype.toString.call(t)==="[object Array]"}}),By}var jy,l6;function F5(){if(l6)return jy;l6=1;var t=D5().isArray;return jy={copyOptions:function(e){var r,n={};for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n},ensureFlagExists:function(e,r){(!(e in r)||typeof r[e]!="boolean")&&(r[e]=!1)},ensureSpacesExists:function(e){(!("spaces"in e)||typeof e.spaces!="number"&&typeof e.spaces!="string")&&(e.spaces=0)},ensureAlwaysArrayExists:function(e){(!("alwaysArray"in e)||typeof e.alwaysArray!="boolean"&&!t(e.alwaysArray))&&(e.alwaysArray=!1)},ensureKeyExists:function(e,r){(!(e+"Key"in r)||typeof r[e+"Key"]!="string")&&(r[e+"Key"]=r.compact?"_"+e:e)},checkFnExists:function(e,r){return e+"Fn"in r}},jy}var zy,u6;function NC(){if(u6)return zy;u6=1;var t=eW(),e=F5(),r=D5().isArray,n,i;function s(p){return n=e.copyOptions(p),e.ensureFlagExists("ignoreDeclaration",n),e.ensureFlagExists("ignoreInstruction",n),e.ensureFlagExists("ignoreAttributes",n),e.ensureFlagExists("ignoreText",n),e.ensureFlagExists("ignoreComment",n),e.ensureFlagExists("ignoreCdata",n),e.ensureFlagExists("ignoreDoctype",n),e.ensureFlagExists("compact",n),e.ensureFlagExists("alwaysChildren",n),e.ensureFlagExists("addParent",n),e.ensureFlagExists("trim",n),e.ensureFlagExists("nativeType",n),e.ensureFlagExists("nativeTypeAttributes",n),e.ensureFlagExists("sanitize",n),e.ensureFlagExists("instructionHasAttributes",n),e.ensureFlagExists("captureSpacesBetweenElements",n),e.ensureAlwaysArrayExists(n),e.ensureKeyExists("declaration",n),e.ensureKeyExists("instruction",n),e.ensureKeyExists("attributes",n),e.ensureKeyExists("text",n),e.ensureKeyExists("comment",n),e.ensureKeyExists("cdata",n),e.ensureKeyExists("doctype",n),e.ensureKeyExists("type",n),e.ensureKeyExists("name",n),e.ensureKeyExists("elements",n),e.ensureKeyExists("parent",n),e.checkFnExists("doctype",n),e.checkFnExists("instruction",n),e.checkFnExists("cdata",n),e.checkFnExists("comment",n),e.checkFnExists("text",n),e.checkFnExists("instructionName",n),e.checkFnExists("elementName",n),e.checkFnExists("attributeName",n),e.checkFnExists("attributeValue",n),e.checkFnExists("attributes",n),n}function o(p){var v=Number(p);if(!isNaN(v))return v;var b=p.toLowerCase();return b==="true"?!0:b==="false"?!1:p}function a(p,v){var b;if(n.compact){if(!i[n[p+"Key"]]&&(r(n.alwaysArray)?n.alwaysArray.indexOf(n[p+"Key"])!==-1:n.alwaysArray)&&(i[n[p+"Key"]]=[]),i[n[p+"Key"]]&&!r(i[n[p+"Key"]])&&(i[n[p+"Key"]]=[i[n[p+"Key"]]]),p+"Fn"in n&&typeof v=="string"&&(v=n[p+"Fn"](v,i)),p==="instruction"&&("instructionFn"in n||"instructionNameFn"in n)){for(b in v)if(v.hasOwnProperty(b))if("instructionFn"in n)v[b]=n.instructionFn(v[b],b,i);else{var w=v[b];delete v[b],v[n.instructionNameFn(b,w,i)]=w}}r(i[n[p+"Key"]])?i[n[p+"Key"]].push(v):i[n[p+"Key"]]=v}else{i[n.elementsKey]||(i[n.elementsKey]=[]);var N={};if(N[n.typeKey]=p,p==="instruction"){for(b in v)if(v.hasOwnProperty(b))break;N[n.nameKey]="instructionNameFn"in n?n.instructionNameFn(b,v,i):b,n.instructionHasAttributes?(N[n.attributesKey]=v[b][n.attributesKey],"instructionFn"in n&&(N[n.attributesKey]=n.instructionFn(N[n.attributesKey],b,i))):("instructionFn"in n&&(v[b]=n.instructionFn(v[b],b,i)),N[n.instructionKey]=v[b])}else p+"Fn"in n&&(v=n[p+"Fn"](v,i)),N[n[p+"Key"]]=v;n.addParent&&(N[n.parentKey]=i),i[n.elementsKey].push(N)}}function l(p){if("attributesFn"in n&&p&&(p=n.attributesFn(p,i)),(n.trim||"attributeValueFn"in n||"attributeNameFn"in n||n.nativeTypeAttributes)&&p){var v;for(v in p)if(p.hasOwnProperty(v)&&(n.trim&&(p[v]=p[v].trim()),n.nativeTypeAttributes&&(p[v]=o(p[v])),"attributeValueFn"in n&&(p[v]=n.attributeValueFn(p[v],v,i)),"attributeNameFn"in n)){var b=p[v];delete p[v],p[n.attributeNameFn(v,p[v],i)]=b}}return p}function u(p){var v={};if(p.body&&(p.name.toLowerCase()==="xml"||n.instructionHasAttributes)){for(var b=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,w;(w=b.exec(p.body))!==null;)v[w[1]]=w[2]||w[3]||w[4];v=l(v)}if(p.name.toLowerCase()==="xml"){if(n.ignoreDeclaration)return;i[n.declarationKey]={},Object.keys(v).length&&(i[n.declarationKey][n.attributesKey]=v),n.addParent&&(i[n.declarationKey][n.parentKey]=i)}else{if(n.ignoreInstruction)return;n.trim&&(p.body=p.body.trim());var N={};n.instructionHasAttributes&&Object.keys(v).length?(N[p.name]={},N[p.name][n.attributesKey]=v):N[p.name]=p.body,a("instruction",N)}}function c(p,v){var b;if(typeof p=="object"&&(v=p.attributes,p=p.name),v=l(v),"elementNameFn"in n&&(p=n.elementNameFn(p,i)),n.compact){if(b={},!n.ignoreAttributes&&v&&Object.keys(v).length){b[n.attributesKey]={};var w;for(w in v)v.hasOwnProperty(w)&&(b[n.attributesKey][w]=v[w])}!(p in i)&&(r(n.alwaysArray)?n.alwaysArray.indexOf(p)!==-1:n.alwaysArray)&&(i[p]=[]),i[p]&&!r(i[p])&&(i[p]=[i[p]]),r(i[p])?i[p].push(b):i[p]=b}else i[n.elementsKey]||(i[n.elementsKey]=[]),b={},b[n.typeKey]="element",b[n.nameKey]=p,!n.ignoreAttributes&&v&&Object.keys(v).length&&(b[n.attributesKey]=v),n.alwaysChildren&&(b[n.elementsKey]=[]),i[n.elementsKey].push(b);b[n.parentKey]=i,i=b}function h(p){n.ignoreText||!p.trim()&&!n.captureSpacesBetweenElements||(n.trim&&(p=p.trim()),n.nativeType&&(p=o(p)),n.sanitize&&(p=p.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),a("text",p))}function d(p){n.ignoreComment||(n.trim&&(p=p.trim()),a("comment",p))}function f(p){var v=i[n.parentKey];n.addParent||delete i[n.parentKey],i=v}function g(p){n.ignoreCdata||(n.trim&&(p=p.trim()),a("cdata",p))}function y(p){n.ignoreDoctype||(p=p.replace(/^ /,""),n.trim&&(p=p.trim()),a("doctype",p))}function x(p){p.note=p}return zy=function(p,v){var b=t.parser(!0,{}),w={};if(i=w,n=s(v),b.opt={strictEntities:!0},b.onopentag=c,b.ontext=h,b.oncomment=d,b.onclosetag=f,b.onerror=x,b.oncdata=g,b.ondoctype=y,b.onprocessinginstruction=u,b.write(p).close(),w[n.elementsKey]){var N=w[n.elementsKey];delete w[n.elementsKey],w[n.elementsKey]=N,delete w.text}return w},zy}var Uy,c6;function tW(){if(c6)return Uy;c6=1;var t=F5(),e=NC();function r(n){var i=t.copyOptions(n);return t.ensureSpacesExists(i),i}return Uy=function(n,i){var s,o,a,l;return s=r(i),o=e(n,s),l="compact"in s&&s.compact?"_parent":"parent","addParent"in s&&s.addParent?a=JSON.stringify(o,function(u,c){return u===l?"_":c},s.spaces):a=JSON.stringify(o,null,s.spaces),a.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},Uy}var qy,f6;function CC(){if(f6)return qy;f6=1;var t=F5(),e=D5().isArray,r,n;function i(b){var w=t.copyOptions(b);return t.ensureFlagExists("ignoreDeclaration",w),t.ensureFlagExists("ignoreInstruction",w),t.ensureFlagExists("ignoreAttributes",w),t.ensureFlagExists("ignoreText",w),t.ensureFlagExists("ignoreComment",w),t.ensureFlagExists("ignoreCdata",w),t.ensureFlagExists("ignoreDoctype",w),t.ensureFlagExists("compact",w),t.ensureFlagExists("indentText",w),t.ensureFlagExists("indentCdata",w),t.ensureFlagExists("indentAttributes",w),t.ensureFlagExists("indentInstruction",w),t.ensureFlagExists("fullTagEmptyElement",w),t.ensureFlagExists("noQuotesForNativeAttributes",w),t.ensureSpacesExists(w),typeof w.spaces=="number"&&(w.spaces=Array(w.spaces+1).join(" ")),t.ensureKeyExists("declaration",w),t.ensureKeyExists("instruction",w),t.ensureKeyExists("attributes",w),t.ensureKeyExists("text",w),t.ensureKeyExists("comment",w),t.ensureKeyExists("cdata",w),t.ensureKeyExists("doctype",w),t.ensureKeyExists("type",w),t.ensureKeyExists("name",w),t.ensureKeyExists("elements",w),t.checkFnExists("doctype",w),t.checkFnExists("instruction",w),t.checkFnExists("cdata",w),t.checkFnExists("comment",w),t.checkFnExists("text",w),t.checkFnExists("instructionName",w),t.checkFnExists("elementName",w),t.checkFnExists("attributeName",w),t.checkFnExists("attributeValue",w),t.checkFnExists("attributes",w),t.checkFnExists("fullTagEmptyElement",w),w}function s(b,w,N){return(!N&&b.spaces?`
`:"")+Array(w+1).join(b.spaces)}function o(b,w,N){if(w.ignoreAttributes)return"";"attributesFn"in w&&(b=w.attributesFn(b,n,r));var j,F,z,T,Z=[];for(j in b)b.hasOwnProperty(j)&&b[j]!==null&&b[j]!==void 0&&(T=w.noQuotesForNativeAttributes&&typeof b[j]!="string"?"":'"',F=""+b[j],F=F.replace(/"/g,"&quot;"),z="attributeNameFn"in w?w.attributeNameFn(j,F,n,r):j,Z.push(w.spaces&&w.indentAttributes?s(w,N+1,!1):" "),Z.push(z+"="+T+("attributeValueFn"in w?w.attributeValueFn(F,j,n,r):F)+T));return b&&Object.keys(b).length&&w.spaces&&w.indentAttributes&&Z.push(s(w,N,!1)),Z.join("")}function a(b,w,N){return r=b,n="xml",w.ignoreDeclaration?"":"<?xml"+o(b[w.attributesKey],w,N)+"?>"}function l(b,w,N){if(w.ignoreInstruction)return"";var j;for(j in b)if(b.hasOwnProperty(j))break;var F="instructionNameFn"in w?w.instructionNameFn(j,b[j],n,r):j;if(typeof b[j]=="object")return r=b,n=F,"<?"+F+o(b[j][w.attributesKey],w,N)+"?>";var z=b[j]?b[j]:"";return"instructionFn"in w&&(z=w.instructionFn(z,j,n,r)),"<?"+F+(z?" "+z:"")+"?>"}function u(b,w){return w.ignoreComment?"":"<!--"+("commentFn"in w?w.commentFn(b,n,r):b)+"-->"}function c(b,w){return w.ignoreCdata?"":"<![CDATA["+("cdataFn"in w?w.cdataFn(b,n,r):b.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function h(b,w){return w.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in w?w.doctypeFn(b,n,r):b)+">"}function d(b,w){return w.ignoreText?"":(b=""+b,b=b.replace(/&amp;/g,"&"),b=b.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in w?w.textFn(b,n,r):b)}function f(b,w){var N;if(b.elements&&b.elements.length)for(N=0;N<b.elements.length;++N)switch(b.elements[N][w.typeKey]){case"text":if(w.indentText)return!0;break;case"cdata":if(w.indentCdata)return!0;break;case"instruction":if(w.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function g(b,w,N){r=b,n=b.name;var j=[],F="elementNameFn"in w?w.elementNameFn(b.name,b):b.name;j.push("<"+F),b[w.attributesKey]&&j.push(o(b[w.attributesKey],w,N));var z=b[w.elementsKey]&&b[w.elementsKey].length||b[w.attributesKey]&&b[w.attributesKey]["xml:space"]==="preserve";return z||("fullTagEmptyElementFn"in w?z=w.fullTagEmptyElementFn(b.name,b):z=w.fullTagEmptyElement),z?(j.push(">"),b[w.elementsKey]&&b[w.elementsKey].length&&(j.push(y(b[w.elementsKey],w,N+1)),r=b,n=b.name),j.push(w.spaces&&f(b,w)?`
`+Array(N+1).join(w.spaces):""),j.push("</"+F+">")):j.push("/>"),j.join("")}function y(b,w,N,j){return b.reduce(function(F,z){var T=s(w,N,j&&!F);switch(z.type){case"element":return F+T+g(z,w,N);case"comment":return F+T+u(z[w.commentKey],w);case"doctype":return F+T+h(z[w.doctypeKey],w);case"cdata":return F+(w.indentCdata?T:"")+c(z[w.cdataKey],w);case"text":return F+(w.indentText?T:"")+d(z[w.textKey],w);case"instruction":var Z={};return Z[z[w.nameKey]]=z[w.attributesKey]?z:z[w.instructionKey],F+(w.indentInstruction?T:"")+l(Z,w,N)}},"")}function x(b,w,N){var j;for(j in b)if(b.hasOwnProperty(j))switch(j){case w.parentKey:case w.attributesKey:break;case w.textKey:if(w.indentText||N)return!0;break;case w.cdataKey:if(w.indentCdata||N)return!0;break;case w.instructionKey:if(w.indentInstruction||N)return!0;break;case w.doctypeKey:case w.commentKey:return!0;default:return!0}return!1}function p(b,w,N,j,F){r=b,n=w;var z="elementNameFn"in N?N.elementNameFn(w,b):w;if(typeof b>"u"||b===null||b==="")return"fullTagEmptyElementFn"in N&&N.fullTagEmptyElementFn(w,b)||N.fullTagEmptyElement?"<"+z+"></"+z+">":"<"+z+"/>";var T=[];if(w){if(T.push("<"+z),typeof b!="object")return T.push(">"+d(b,N)+"</"+z+">"),T.join("");b[N.attributesKey]&&T.push(o(b[N.attributesKey],N,j));var Z=x(b,N,!0)||b[N.attributesKey]&&b[N.attributesKey]["xml:space"]==="preserve";if(Z||("fullTagEmptyElementFn"in N?Z=N.fullTagEmptyElementFn(w,b):Z=N.fullTagEmptyElement),Z)T.push(">");else return T.push("/>"),T.join("")}return T.push(v(b,N,j+1,!1)),r=b,n=w,w&&T.push((F?s(N,j,!1):"")+"</"+z+">"),T.join("")}function v(b,w,N,j){var F,z,T,Z=[];for(z in b)if(b.hasOwnProperty(z))for(T=e(b[z])?b[z]:[b[z]],F=0;F<T.length;++F){switch(z){case w.declarationKey:Z.push(a(T[F],w,N));break;case w.instructionKey:Z.push((w.indentInstruction?s(w,N,j):"")+l(T[F],w,N));break;case w.attributesKey:case w.parentKey:break;case w.textKey:Z.push((w.indentText?s(w,N,j):"")+d(T[F],w));break;case w.cdataKey:Z.push((w.indentCdata?s(w,N,j):"")+c(T[F],w));break;case w.doctypeKey:Z.push(s(w,N,j)+h(T[F],w));break;case w.commentKey:Z.push(s(w,N,j)+u(T[F],w));break;default:Z.push(s(w,N,j)+p(T[F],z,w,N,x(T[F],w)))}j=j&&!Z.length}return Z.join("")}return qy=function(b,w){w=i(w);var N=[];return r=b,n="_root_",w.compact?N.push(v(b,w,0,!0)):(b[w.declarationKey]&&N.push(a(b[w.declarationKey],w,0)),b[w.elementsKey]&&b[w.elementsKey].length&&N.push(y(b[w.elementsKey],w,0,!N.length))),N.join("")},qy}var Wy,h6;function rW(){if(h6)return Wy;h6=1;var t=CC();return Wy=function(e,r){e instanceof Buffer&&(e=e.toString());var n=null;if(typeof e=="string")try{n=JSON.parse(e)}catch{throw new Error("The JSON structure is invalid")}else n=e;return t(n,r)},Wy}var Hy,d6;function nW(){if(d6)return Hy;d6=1;var t=NC(),e=tW(),r=CC(),n=rW();return Hy={xml2js:t,xml2json:e,js2xml:r,json2xml:n},Hy}var TC=nW();const B5=t=>{switch(t.type){case void 0:case"element":const e=new sW(t.name,t.attributes),r=t.elements||[];for(const n of r){const i=B5(n);i!==void 0&&e.push(i)}return e;case"text":return t.text;default:return}};class iW extends pt{}class sW extends Be{static fromXmlString(e){const r=TC.xml2js(e,{compact:!1});return B5(r)}constructor(e,r){super(e),r&&this.root.push(new iW(r))}push(e){this.root.push(e)}}class oW extends Be{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}}class LC extends Be{constructor(e,r){super(e),r&&(this.root=r.root)}}const Xn=t=>{if(isNaN(t))throw new Error(`Invalid value '${t}' specified. Must be an integer.`);return Math.floor(t)},yg=t=>{const e=Xn(t);if(e<0)throw new Error(`Invalid value '${t}' specified. Must be a positive integer.`);return e},OC=(t,e)=>{const r=e*2;if(t.length!==r||isNaN(+`0x${t}`))throw new Error(`Invalid hex value '${t}'. Expected ${r} digit hex value`);return t},p6=t=>OC(t,1),PC=t=>{const e=t.slice(-2),r=t.substring(0,t.length-2);return`${Number(r)}${e}`},RC=t=>{const e=PC(t);if(parseFloat(e)<0)throw new Error(`Invalid value '${e}' specified. Expected a positive number.`);return e},vc=t=>{if(t==="auto")return t;const e=t.charAt(0)==="#"?t.substring(1):t;return OC(e,3)},wl=t=>typeof t=="string"?PC(t):Xn(t),aW=t=>typeof t=="string"?RC(t):yg(t),rs=t=>typeof t=="string"?RC(t):yg(t),lW=yg,uW=yg,cW=t=>t.toISOString();class je extends Be{constructor(e,r=!0){super(e),r!==!0&&this.root.push(new Lr({val:r}))}}class Vy extends Be{constructor(e,r){super(e),this.root.push(new Lr({val:aW(r)}))}}class Qu extends Be{constructor(e,r){super(e),this.root.push(new Lr({val:r}))}}const wf=(t,e)=>new Fs({name:t,attributes:{value:{key:"w:val",value:e}}});class $f extends Be{constructor(e,r){super(e),this.root.push(new Lr({val:r}))}}class rl extends Be{constructor(e,r){super(e),this.root.push(r)}}class Fs extends Be{constructor({name:e,attributes:r,children:n}){super(e),r&&this.root.push(new dg(r)),n&&this.root.push(...n)}}const Ci={START:"start",CENTER:"center",LEFT:"left",RIGHT:"right"};class fW extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{val:"w:val"})}}class hW extends Be{constructor(e){super("w:jc"),this.root.push(new fW({val:e}))}}class cr extends Be{constructor(e,{color:r,size:n,space:i,style:s}){super(e),this.root.push(new dW({style:s,color:r===void 0?void 0:vc(r),size:n===void 0?void 0:lW(n),space:i===void 0?void 0:uW(i)}))}}class dW extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const j5={SINGLE:"single",NONE:"none"};class pW extends hg{constructor(e){super("w:pBdr"),e.top&&this.root.push(new cr("w:top",e.top)),e.bottom&&this.root.push(new cr("w:bottom",e.bottom)),e.left&&this.root.push(new cr("w:left",e.left)),e.right&&this.root.push(new cr("w:right",e.right)),e.between&&this.root.push(new cr("w:between",e.between))}}class mW extends Be{constructor(){super("w:pBdr");const e=new cr("w:bottom",{color:"auto",space:1,style:j5.SINGLE,size:6});this.root.push(e)}}class gW extends Be{constructor({start:e,end:r,left:n,right:i,hanging:s,firstLine:o}){super("w:ind"),this.root.push(new dg({start:{key:"w:start",value:e===void 0?void 0:wl(e)},end:{key:"w:end",value:r===void 0?void 0:wl(r)},left:{key:"w:left",value:n===void 0?void 0:wl(n)},right:{key:"w:right",value:i===void 0?void 0:wl(i)},hanging:{key:"w:hanging",value:s===void 0?void 0:rs(s)},firstLine:{key:"w:firstLine",value:o===void 0?void 0:rs(o)}}))}}let yW=class extends Be{constructor(){super("w:br")}};const z5={BEGIN:"begin",END:"end",SEPARATE:"separate"};class U5 extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class op extends Be{constructor(e){super("w:fldChar"),this.root.push(new U5({type:z5.BEGIN,dirty:e}))}}class ap extends Be{constructor(e){super("w:fldChar"),this.root.push(new U5({type:z5.SEPARATE,dirty:e}))}}class lp extends Be{constructor(e){super("w:fldChar"),this.root.push(new U5({type:z5.END,dirty:e}))}}const wc={DEFAULT:"default",PRESERVE:"preserve"};class bc extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{space:"xml:space"})}}class vW extends Be{constructor(){super("w:instrText"),this.root.push(new bc({space:wc.PRESERVE})),this.root.push("PAGE")}}class wW extends Be{constructor(){super("w:instrText"),this.root.push(new bc({space:wc.PRESERVE})),this.root.push("NUMPAGES")}}class bW extends Be{constructor(){super("w:instrText"),this.root.push(new bc({space:wc.PRESERVE})),this.root.push("SECTIONPAGES")}}class xW extends Be{constructor(){super("w:instrText"),this.root.push(new bc({space:wc.PRESERVE})),this.root.push("SECTION")}}class SW extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class IC extends Be{constructor({fill:e,color:r,type:n}){super("w:shd"),this.root.push(new SW({fill:e===void 0?void 0:vc(e),color:r===void 0?void 0:vc(r),type:n}))}}class kW extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const _W={DOT:"dot"};class AW extends Be{constructor(e){super("w:em"),this.root.push(new Lr({val:e}))}}class EW extends AW{constructor(e=_W.DOT){super(e)}}class NW extends Be{constructor(e){super("w:spacing"),this.root.push(new Lr({val:wl(e)}))}}class CW extends Be{constructor(e){super("w:color"),this.root.push(new Lr({val:vc(e)}))}}class TW extends Be{constructor(e){super("w:highlight"),this.root.push(new Lr({val:e}))}}class LW extends Be{constructor(e){super("w:highlightCs"),this.root.push(new Lr({val:e}))}}const OW=t=>new Fs({name:"w:lang",attributes:{value:{key:"w:val",value:t.value},eastAsia:{key:"w:eastAsia",value:t.eastAsia},bidirectional:{key:"w:bidi",value:t.bidirectional}}});class m6 extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class $y extends Be{constructor(e,r){if(super("w:rFonts"),typeof e=="string"){const n=e;this.root.push(new m6({ascii:n,cs:n,eastAsia:n,hAnsi:n,hint:r}))}else{const n=e;this.root.push(new m6(n))}}}let MC=class extends Be{constructor(e){super("w:vertAlign"),this.root.push(new Lr({val:e}))}};class PW extends MC{constructor(){super("superscript")}}class RW extends MC{constructor(){super("subscript")}}const DC={SINGLE:"single"};class IW extends Be{constructor(e=DC.SINGLE,r){super("w:u"),this.root.push(new Lr({val:e,color:r===void 0?void 0:vc(r)}))}}class $l extends hg{constructor(e){var r,n;if(super("w:rPr"),!e)return;e.style&&this.push(new Qu("w:rStyle",e.style)),e.font&&(typeof e.font=="string"?this.push(new $y(e.font)):"name"in e.font?this.push(new $y(e.font.name,e.font.hint)):this.push(new $y(e.font))),e.bold!==void 0&&this.push(new je("w:b",e.bold)),(e.boldComplexScript===void 0&&e.bold!==void 0||e.boldComplexScript)&&this.push(new je("w:bCs",(r=e.boldComplexScript)!=null?r:e.bold)),e.italics!==void 0&&this.push(new je("w:i",e.italics)),(e.italicsComplexScript===void 0&&e.italics!==void 0||e.italicsComplexScript)&&this.push(new je("w:iCs",(n=e.italicsComplexScript)!=null?n:e.italics)),e.smallCaps!==void 0?this.push(new je("w:smallCaps",e.smallCaps)):e.allCaps!==void 0&&this.push(new je("w:caps",e.allCaps)),e.strike!==void 0&&this.push(new je("w:strike",e.strike)),e.doubleStrike!==void 0&&this.push(new je("w:dstrike",e.doubleStrike)),e.emboss!==void 0&&this.push(new je("w:emboss",e.emboss)),e.imprint!==void 0&&this.push(new je("w:imprint",e.imprint)),e.noProof!==void 0&&this.push(new je("w:noProof",e.noProof)),e.snapToGrid!==void 0&&this.push(new je("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new je("w:vanish",e.vanish)),e.color&&this.push(new CW(e.color)),e.characterSpacing&&this.push(new NW(e.characterSpacing)),e.scale!==void 0&&this.push(new $f("w:w",e.scale)),e.kern&&this.push(new Vy("w:kern",e.kern)),e.position&&this.push(new Qu("w:position",e.position)),e.size!==void 0&&this.push(new Vy("w:sz",e.size));const i=e.sizeComplexScript===void 0||e.sizeComplexScript===!0?e.size:e.sizeComplexScript;i&&this.push(new Vy("w:szCs",i)),e.highlight&&this.push(new TW(e.highlight));const s=e.highlightComplexScript===void 0||e.highlightComplexScript===!0?e.highlight:e.highlightComplexScript;s&&this.push(new LW(s)),e.underline&&this.push(new IW(e.underline.type,e.underline.color)),e.effect&&this.push(new Qu("w:effect",e.effect)),e.border&&this.push(new cr("w:bdr",e.border)),e.shading&&this.push(new IC(e.shading)),e.subScript&&this.push(new RW),e.superScript&&this.push(new PW),e.rightToLeft!==void 0&&this.push(new je("w:rtl",e.rightToLeft)),e.emphasisMark&&this.push(new EW(e.emphasisMark.type)),e.language&&this.push(OW(e.language)),e.specVanish&&this.push(new je("w:specVanish",e.vanish)),e.math&&this.push(new je("w:oMath",e.math)),e.revision&&this.push(new MW(e.revision))}push(e){this.root.push(e)}}class MW extends Be{constructor(e){super("w:rPrChange"),this.root.push(new kW({id:e.id,author:e.author,date:e.date})),this.addChildElement(new $l(e))}}class g6 extends Be{constructor(e){var r;super("w:t"),typeof e=="string"?(this.root.push(new bc({space:wc.PRESERVE})),this.root.push(e)):(this.root.push(new bc({space:(r=e.space)!=null?r:wc.DEFAULT})),this.root.push(e.text))}}const up={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class vg extends Be{constructor(e){if(super("w:r"),Ie(this,"properties"),this.properties=new $l(e),this.root.push(this.properties),e.break)for(let r=0;r<e.break;r++)this.root.push(new yW);if(e.children)for(const r of e.children){if(typeof r=="string"){switch(r){case up.CURRENT:this.root.push(new op),this.root.push(new vW),this.root.push(new ap),this.root.push(new lp);break;case up.TOTAL_PAGES:this.root.push(new op),this.root.push(new wW),this.root.push(new ap),this.root.push(new lp);break;case up.TOTAL_PAGES_IN_SECTION:this.root.push(new op),this.root.push(new bW),this.root.push(new ap),this.root.push(new lp);break;case up.CURRENT_SECTION:this.root.push(new op),this.root.push(new xW),this.root.push(new ap),this.root.push(new lp);break;default:this.root.push(new g6(r));break}continue}this.root.push(r)}else e.text!==void 0&&this.root.push(new g6(e.text))}}class As extends vg{constructor(e){super(typeof e=="string"?{text:e}:e)}}var Ky={},Kt={},Gy,y6;function Bh(){if(y6)return Gy;y6=1,Gy=t;function t(e,r){if(!e)throw new Error(r||"Assertion failed")}return t.equal=function(r,n,i){if(r!=n)throw new Error(i||"Assertion failed: "+r+" != "+n)},Gy}var v6;function js(){if(v6)return Kt;v6=1;var t=Bh(),e=Da();Kt.inherits=e;function r(L,U){return(L.charCodeAt(U)&64512)!==55296||U<0||U+1>=L.length?!1:(L.charCodeAt(U+1)&64512)===56320}function n(L,U){if(Array.isArray(L))return L.slice();if(!L)return[];var A=[];if(typeof L=="string")if(U){if(U==="hex")for(L=L.replace(/[^a-z0-9]+/ig,""),L.length%2!==0&&(L="0"+L),he=0;he<L.length;he+=2)A.push(parseInt(L[he]+L[he+1],16))}else for(var ie=0,he=0;he<L.length;he++){var te=L.charCodeAt(he);te<128?A[ie++]=te:te<2048?(A[ie++]=te>>6|192,A[ie++]=te&63|128):r(L,he)?(te=65536+((te&1023)<<10)+(L.charCodeAt(++he)&1023),A[ie++]=te>>18|240,A[ie++]=te>>12&63|128,A[ie++]=te>>6&63|128,A[ie++]=te&63|128):(A[ie++]=te>>12|224,A[ie++]=te>>6&63|128,A[ie++]=te&63|128)}else for(he=0;he<L.length;he++)A[he]=L[he]|0;return A}Kt.toArray=n;function i(L){for(var U="",A=0;A<L.length;A++)U+=a(L[A].toString(16));return U}Kt.toHex=i;function s(L){var U=L>>>24|L>>>8&65280|L<<8&16711680|(L&255)<<24;return U>>>0}Kt.htonl=s;function o(L,U){for(var A="",ie=0;ie<L.length;ie++){var he=L[ie];U==="little"&&(he=s(he)),A+=l(he.toString(16))}return A}Kt.toHex32=o;function a(L){return L.length===1?"0"+L:L}Kt.zero2=a;function l(L){return L.length===7?"0"+L:L.length===6?"00"+L:L.length===5?"000"+L:L.length===4?"0000"+L:L.length===3?"00000"+L:L.length===2?"000000"+L:L.length===1?"0000000"+L:L}Kt.zero8=l;function u(L,U,A,ie){var he=A-U;t(he%4===0);for(var te=new Array(he/4),re=0,ae=U;re<te.length;re++,ae+=4){var ve;ie==="big"?ve=L[ae]<<24|L[ae+1]<<16|L[ae+2]<<8|L[ae+3]:ve=L[ae+3]<<24|L[ae+2]<<16|L[ae+1]<<8|L[ae],te[re]=ve>>>0}return te}Kt.join32=u;function c(L,U){for(var A=new Array(L.length*4),ie=0,he=0;ie<L.length;ie++,he+=4){var te=L[ie];U==="big"?(A[he]=te>>>24,A[he+1]=te>>>16&255,A[he+2]=te>>>8&255,A[he+3]=te&255):(A[he+3]=te>>>24,A[he+2]=te>>>16&255,A[he+1]=te>>>8&255,A[he]=te&255)}return A}Kt.split32=c;function h(L,U){return L>>>U|L<<32-U}Kt.rotr32=h;function d(L,U){return L<<U|L>>>32-U}Kt.rotl32=d;function f(L,U){return L+U>>>0}Kt.sum32=f;function g(L,U,A){return L+U+A>>>0}Kt.sum32_3=g;function y(L,U,A,ie){return L+U+A+ie>>>0}Kt.sum32_4=y;function x(L,U,A,ie,he){return L+U+A+ie+he>>>0}Kt.sum32_5=x;function p(L,U,A,ie){var he=L[U],te=L[U+1],re=ie+te>>>0,ae=(re<ie?1:0)+A+he;L[U]=ae>>>0,L[U+1]=re}Kt.sum64=p;function v(L,U,A,ie){var he=U+ie>>>0,te=(he<U?1:0)+L+A;return te>>>0}Kt.sum64_hi=v;function b(L,U,A,ie){var he=U+ie;return he>>>0}Kt.sum64_lo=b;function w(L,U,A,ie,he,te,re,ae){var ve=0,le=U;le=le+ie>>>0,ve+=le<U?1:0,le=le+te>>>0,ve+=le<te?1:0,le=le+ae>>>0,ve+=le<ae?1:0;var C=L+A+he+re+ve;return C>>>0}Kt.sum64_4_hi=w;function N(L,U,A,ie,he,te,re,ae){var ve=U+ie+te+ae;return ve>>>0}Kt.sum64_4_lo=N;function j(L,U,A,ie,he,te,re,ae,ve,le){var C=0,q=U;q=q+ie>>>0,C+=q<U?1:0,q=q+te>>>0,C+=q<te?1:0,q=q+ae>>>0,C+=q<ae?1:0,q=q+le>>>0,C+=q<le?1:0;var $=L+A+he+re+ve+C;return $>>>0}Kt.sum64_5_hi=j;function F(L,U,A,ie,he,te,re,ae,ve,le){var C=U+ie+te+ae+le;return C>>>0}Kt.sum64_5_lo=F;function z(L,U,A){var ie=U<<32-A|L>>>A;return ie>>>0}Kt.rotr64_hi=z;function T(L,U,A){var ie=L<<32-A|U>>>A;return ie>>>0}Kt.rotr64_lo=T;function Z(L,U,A){return L>>>A}Kt.shr64_hi=Z;function H(L,U,A){var ie=L<<32-A|U>>>A;return ie>>>0}return Kt.shr64_lo=H,Kt}var Jy={},w6;function jh(){if(w6)return Jy;w6=1;var t=js(),e=Bh();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return Jy.BlockHash=r,r.prototype.update=function(i,s){if(i=t.toArray(i,s),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var o=i.length%this._delta8;this.pending=i.slice(i.length-o,i.length),this.pending.length===0&&(this.pending=null),i=t.join32(i,0,i.length-o,this.endian);for(var a=0;a<i.length;a+=this._delta32)this._update(i,a,a+this._delta32)}return this},r.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},r.prototype._pad=function(){var i=this.pendingTotal,s=this._delta8,o=s-(i+this.padLength)%s,a=new Array(o+this.padLength);a[0]=128;for(var l=1;l<o;l++)a[l]=0;if(i<<=3,this.endian==="big"){for(var u=8;u<this.padLength;u++)a[l++]=0;a[l++]=0,a[l++]=0,a[l++]=0,a[l++]=0,a[l++]=i>>>24&255,a[l++]=i>>>16&255,a[l++]=i>>>8&255,a[l++]=i&255}else for(a[l++]=i&255,a[l++]=i>>>8&255,a[l++]=i>>>16&255,a[l++]=i>>>24&255,a[l++]=0,a[l++]=0,a[l++]=0,a[l++]=0,u=8;u<this.padLength;u++)a[l++]=0;return a},Jy}var nl={},Ss={},b6;function FC(){if(b6)return Ss;b6=1;var t=js(),e=t.rotr32;function r(c,h,d,f){if(c===0)return n(h,d,f);if(c===1||c===3)return s(h,d,f);if(c===2)return i(h,d,f)}Ss.ft_1=r;function n(c,h,d){return c&h^~c&d}Ss.ch32=n;function i(c,h,d){return c&h^c&d^h&d}Ss.maj32=i;function s(c,h,d){return c^h^d}Ss.p32=s;function o(c){return e(c,2)^e(c,13)^e(c,22)}Ss.s0_256=o;function a(c){return e(c,6)^e(c,11)^e(c,25)}Ss.s1_256=a;function l(c){return e(c,7)^e(c,18)^c>>>3}Ss.g0_256=l;function u(c){return e(c,17)^e(c,19)^c>>>10}return Ss.g1_256=u,Ss}var Yy,x6;function DW(){if(x6)return Yy;x6=1;var t=js(),e=jh(),r=FC(),n=t.rotl32,i=t.sum32,s=t.sum32_5,o=r.ft_1,a=e.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function u(){if(!(this instanceof u))return new u;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(u,a),Yy=u,u.blockSize=512,u.outSize=160,u.hmacStrength=80,u.padLength=64,u.prototype._update=function(h,d){for(var f=this.W,g=0;g<16;g++)f[g]=h[d+g];for(;g<f.length;g++)f[g]=n(f[g-3]^f[g-8]^f[g-14]^f[g-16],1);var y=this.h[0],x=this.h[1],p=this.h[2],v=this.h[3],b=this.h[4];for(g=0;g<f.length;g++){var w=~~(g/20),N=s(n(y,5),o(w,x,p,v),b,f[g],l[w]);b=v,v=p,p=n(x,30),x=y,y=N}this.h[0]=i(this.h[0],y),this.h[1]=i(this.h[1],x),this.h[2]=i(this.h[2],p),this.h[3]=i(this.h[3],v),this.h[4]=i(this.h[4],b)},u.prototype._digest=function(h){return h==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},Yy}var Xy,S6;function BC(){if(S6)return Xy;S6=1;var t=js(),e=jh(),r=FC(),n=Bh(),i=t.sum32,s=t.sum32_4,o=t.sum32_5,a=r.ch32,l=r.maj32,u=r.s0_256,c=r.s1_256,h=r.g0_256,d=r.g1_256,f=e.BlockHash,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;f.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=g,this.W=new Array(64)}return t.inherits(y,f),Xy=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(p,v){for(var b=this.W,w=0;w<16;w++)b[w]=p[v+w];for(;w<b.length;w++)b[w]=s(d(b[w-2]),b[w-7],h(b[w-15]),b[w-16]);var N=this.h[0],j=this.h[1],F=this.h[2],z=this.h[3],T=this.h[4],Z=this.h[5],H=this.h[6],L=this.h[7];for(n(this.k.length===b.length),w=0;w<b.length;w++){var U=o(L,c(T),a(T,Z,H),this.k[w],b[w]),A=i(u(N),l(N,j,F));L=H,H=Z,Z=T,T=i(z,U),z=F,F=j,j=N,N=i(U,A)}this.h[0]=i(this.h[0],N),this.h[1]=i(this.h[1],j),this.h[2]=i(this.h[2],F),this.h[3]=i(this.h[3],z),this.h[4]=i(this.h[4],T),this.h[5]=i(this.h[5],Z),this.h[6]=i(this.h[6],H),this.h[7]=i(this.h[7],L)},y.prototype._digest=function(p){return p==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},Xy}var Zy,k6;function FW(){if(k6)return Zy;k6=1;var t=js(),e=BC();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(r,e),Zy=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},Zy}var Qy,_6;function jC(){if(_6)return Qy;_6=1;var t=js(),e=jh(),r=Bh(),n=t.rotr64_hi,i=t.rotr64_lo,s=t.shr64_hi,o=t.shr64_lo,a=t.sum64,l=t.sum64_hi,u=t.sum64_lo,c=t.sum64_4_hi,h=t.sum64_4_lo,d=t.sum64_5_hi,f=t.sum64_5_lo,g=e.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function x(){if(!(this instanceof x))return new x;g.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}t.inherits(x,g),Qy=x,x.blockSize=1024,x.outSize=512,x.hmacStrength=192,x.padLength=128,x.prototype._prepareBlock=function(A,ie){for(var he=this.W,te=0;te<32;te++)he[te]=A[ie+te];for(;te<he.length;te+=2){var re=H(he[te-4],he[te-3]),ae=L(he[te-4],he[te-3]),ve=he[te-14],le=he[te-13],C=T(he[te-30],he[te-29]),q=Z(he[te-30],he[te-29]),$=he[te-32],se=he[te-31];he[te]=c(re,ae,ve,le,C,q,$,se),he[te+1]=h(re,ae,ve,le,C,q,$,se)}},x.prototype._update=function(A,ie){this._prepareBlock(A,ie);var he=this.W,te=this.h[0],re=this.h[1],ae=this.h[2],ve=this.h[3],le=this.h[4],C=this.h[5],q=this.h[6],$=this.h[7],se=this.h[8],J=this.h[9],O=this.h[10],I=this.h[11],Q=this.h[12],Y=this.h[13],V=this.h[14],X=this.h[15];r(this.k.length===he.length);for(var ye=0;ye<he.length;ye+=2){var M=V,W=X,D=F(se,J),k=z(se,J),_=p(se,J,O,I,Q),R=v(se,J,O,I,Q,Y),oe=this.k[ye],de=this.k[ye+1],fe=he[ye],Se=he[ye+1],Ce=d(M,W,D,k,_,R,oe,de,fe,Se),Ne=f(M,W,D,k,_,R,oe,de,fe,Se);M=N(te,re),W=j(te,re),D=b(te,re,ae,ve,le),k=w(te,re,ae,ve,le,C);var Oe=l(M,W,D,k),We=u(M,W,D,k);V=Q,X=Y,Q=O,Y=I,O=se,I=J,se=l(q,$,Ce,Ne),J=u($,$,Ce,Ne),q=le,$=C,le=ae,C=ve,ae=te,ve=re,te=l(Ce,Ne,Oe,We),re=u(Ce,Ne,Oe,We)}a(this.h,0,te,re),a(this.h,2,ae,ve),a(this.h,4,le,C),a(this.h,6,q,$),a(this.h,8,se,J),a(this.h,10,O,I),a(this.h,12,Q,Y),a(this.h,14,V,X)},x.prototype._digest=function(A){return A==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function p(U,A,ie,he,te){var re=U&ie^~U&te;return re<0&&(re+=4294967296),re}function v(U,A,ie,he,te,re){var ae=A&he^~A&re;return ae<0&&(ae+=4294967296),ae}function b(U,A,ie,he,te){var re=U&ie^U&te^ie&te;return re<0&&(re+=4294967296),re}function w(U,A,ie,he,te,re){var ae=A&he^A&re^he&re;return ae<0&&(ae+=4294967296),ae}function N(U,A){var ie=n(U,A,28),he=n(A,U,2),te=n(A,U,7),re=ie^he^te;return re<0&&(re+=4294967296),re}function j(U,A){var ie=i(U,A,28),he=i(A,U,2),te=i(A,U,7),re=ie^he^te;return re<0&&(re+=4294967296),re}function F(U,A){var ie=n(U,A,14),he=n(U,A,18),te=n(A,U,9),re=ie^he^te;return re<0&&(re+=4294967296),re}function z(U,A){var ie=i(U,A,14),he=i(U,A,18),te=i(A,U,9),re=ie^he^te;return re<0&&(re+=4294967296),re}function T(U,A){var ie=n(U,A,1),he=n(U,A,8),te=s(U,A,7),re=ie^he^te;return re<0&&(re+=4294967296),re}function Z(U,A){var ie=i(U,A,1),he=i(U,A,8),te=o(U,A,7),re=ie^he^te;return re<0&&(re+=4294967296),re}function H(U,A){var ie=n(U,A,19),he=n(A,U,29),te=s(U,A,6),re=ie^he^te;return re<0&&(re+=4294967296),re}function L(U,A){var ie=i(U,A,19),he=i(A,U,29),te=o(U,A,6),re=ie^he^te;return re<0&&(re+=4294967296),re}return Qy}var ev,A6;function BW(){if(A6)return ev;A6=1;var t=js(),e=jC();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(r,e),ev=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},ev}var E6;function jW(){return E6||(E6=1,nl.sha1=DW(),nl.sha224=FW(),nl.sha256=BC(),nl.sha384=BW(),nl.sha512=jC()),nl}var tv={},N6;function zW(){if(N6)return tv;N6=1;var t=js(),e=jh(),r=t.rotl32,n=t.sum32,i=t.sum32_3,s=t.sum32_4,o=e.BlockHash;function a(){if(!(this instanceof a))return new a;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(a,o),tv.ripemd160=a,a.blockSize=512,a.outSize=160,a.hmacStrength=192,a.padLength=64,a.prototype._update=function(x,p){for(var v=this.h[0],b=this.h[1],w=this.h[2],N=this.h[3],j=this.h[4],F=v,z=b,T=w,Z=N,H=j,L=0;L<80;L++){var U=n(r(s(v,l(L,b,w,N),x[h[L]+p],u(L)),f[L]),j);v=j,j=N,N=r(w,10),w=b,b=U,U=n(r(s(F,l(79-L,z,T,Z),x[d[L]+p],c(L)),g[L]),H),F=H,H=Z,Z=r(T,10),T=z,z=U}U=i(this.h[1],w,Z),this.h[1]=i(this.h[2],N,H),this.h[2]=i(this.h[3],j,F),this.h[3]=i(this.h[4],v,z),this.h[4]=i(this.h[0],b,T),this.h[0]=U},a.prototype._digest=function(x){return x==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function l(y,x,p,v){return y<=15?x^p^v:y<=31?x&p|~x&v:y<=47?(x|~p)^v:y<=63?x&v|p&~v:x^(p|~v)}function u(y){return y<=15?0:y<=31?1518500249:y<=47?1859775393:y<=63?2400959708:2840853838}function c(y){return y<=15?1352829926:y<=31?1548603684:y<=47?1836072691:y<=63?2053994217:0}var h=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],f=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],g=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return tv}var rv,C6;function UW(){if(C6)return rv;C6=1;var t=js(),e=Bh();function r(n,i,s){if(!(this instanceof r))return new r(n,i,s);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(i,s))}return rv=r,r.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var s=i.length;s<this.blockSize;s++)i.push(0);for(s=0;s<i.length;s++)i[s]^=54;for(this.inner=new this.Hash().update(i),s=0;s<i.length;s++)i[s]^=106;this.outer=new this.Hash().update(i)},r.prototype.update=function(i,s){return this.inner.update(i,s),this},r.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},rv}var T6;function qW(){return T6||(T6=1,function(t){var e=t;e.utils=js(),e.common=jh(),e.sha=jW(),e.ripemd=zW(),e.hmac=UW(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(Ky)),Ky}qW();let WW="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",HW=(t,e=21)=>(r=e)=>{let n="",i=r|0;for(;i--;)n+=t[Math.random()*t.length|0];return n},VW=(t=21)=>{let e="",r=t|0;for(;r--;)e+=WW[Math.random()*64|0];return e};const Yi=t=>Math.floor(t*72*20),q5=(t=0)=>{let e=t;return()=>++e},$W=()=>q5(),KW=()=>q5(1),GW=()=>q5(),JW=()=>VW().toLowerCase(),bf=t=>HW("1234567890abcdef",t)(),YW=()=>`${bf(8)}-${bf(4)}-${bf(4)}-${bf(4)}-${bf(12)}`;class XW extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{xmlns:"xmlns"})}}class ZW extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const QW={EXTERNAL:"External"};class eH extends Be{constructor(e,r,n,i){super("Relationship"),this.root.push(new ZW({id:e,type:r,target:n,targetMode:i}))}}class Kl extends Be{constructor(){super("Relationships"),this.root.push(new XW({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,r,n,i){const s=new eH(`rId${e}`,r,n,i);return this.root.push(s),s}get RelationshipCount(){return this.root.length-1}}class tH extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class rH extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class nH extends Be{constructor({id:e,initials:r,author:n,date:i=new Date,children:s}){super("w:comment"),this.root.push(new tH({id:e,initials:r,author:n,date:i.toISOString()}));for(const o of s)this.root.push(o)}}class iH extends Be{constructor({children:e}){super("w:comments"),Ie(this,"relationships"),this.root.push(new rH({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const r of e)this.root.push(new nH(r));this.relationships=new Kl}get Relationships(){return this.relationships}}class sH extends Be{constructor(){super("w:pageBreakBefore")}}const X2={AUTO:"auto"};class oH extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule",beforeAutoSpacing:"w:beforeAutospacing",afterAutoSpacing:"w:afterAutospacing"})}}class aH extends Be{constructor(e){super("w:spacing"),this.root.push(new oH(e))}}const nv={HEADING_1:"Heading1",HEADING_2:"Heading2",HEADING_3:"Heading3"};let cp=class extends Be{constructor(e){super("w:pStyle"),this.root.push(new Lr({val:e}))}};class lH extends Be{constructor(e){super("w:tabs");for(const r of e)this.root.push(new cH(r))}}const L6={LEFT:"left",RIGHT:"right"};class uH extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class cH extends Be{constructor({type:e,position:r,leader:n}){super("w:tab"),this.root.push(new uH({val:e,pos:r,leader:n}))}}class iv extends Be{constructor(e,r){super("w:numPr"),this.root.push(new fH(r)),this.root.push(new hH(e))}}class fH extends Be{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new Lr({val:e}))}}class hH extends Be{constructor(e){super("w:numId"),this.root.push(new Lr({val:typeof e=="string"?`{${e}}`:e}))}}class dH extends Be{constructor(){super(...arguments),Ie(this,"fileChild",Symbol())}}class pH extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class mH extends Be{constructor(e,r,n){super("w:hyperlink"),Ie(this,"linkId"),this.linkId=r;const i={history:1,anchor:n||void 0,id:n?void 0:`rId${this.linkId}`},s=new pH(i);this.root.push(s),e.forEach(o=>{this.root.push(o)})}}class gH extends Be{constructor(e){super("w:externalHyperlink"),this.options=e}}class yH extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class vH extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{id:"w:id"})}}class wH{constructor(e){Ie(this,"bookmarkUniqueNumericId",GW()),Ie(this,"start"),Ie(this,"children"),Ie(this,"end");const r=this.bookmarkUniqueNumericId();this.start=new bH(e.id,r),this.children=e.children,this.end=new xH(r)}}class bH extends Be{constructor(e,r){super("w:bookmarkStart");const n=new yH({name:e,id:r});this.root.push(n)}}class xH extends Be{constructor(e){super("w:bookmarkEnd");const r=new vH({id:e});this.root.push(r)}}class SH extends Be{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new Lr({val:e}))}}const kH={TOP:"top",CENTER:"center",BOTTOM:"bottom"};gc(Mt({},kH),{BOTH:"both"});class _H extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{verticalAlign:"w:val"})}}class AH extends Be{constructor(e){super("w:vAlign"),this.root.push(new _H({verticalAlign:e}))}}class EH extends Be{constructor({space:e,count:r,separate:n,equalWidth:i,children:s}){super("w:cols"),this.root.push(new dg({space:{key:"w:space",value:e===void 0?void 0:rs(e)},count:{key:"w:num",value:r===void 0?void 0:Xn(r)},separate:{key:"w:sep",value:n},equalWidth:{key:"w:equalWidth",value:i}})),!i&&s&&s.forEach(o=>this.addChildElement(o))}}const NH=({type:t,linePitch:e,charSpace:r})=>new Fs({name:"w:docGrid",attributes:{type:{key:"w:type",value:t},linePitch:{key:"w:linePitch",value:Xn(e)},charSpace:{key:"w:charSpace",value:r?Xn(r):void 0}}}),ec={DEFAULT:"default",FIRST:"first",EVEN:"even"};class CH extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const O6={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class sv extends Be{constructor(e,r){super(e),this.root.push(new CH({type:r.type||ec.DEFAULT,id:`rId${r.id}`}))}}const TH=({countBy:t,start:e,restart:r,distance:n})=>new Fs({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:t===void 0?void 0:Xn(t)},start:{key:"w:start",value:e===void 0?void 0:Xn(e)},restart:{key:"w:restart",value:r},distance:{key:"w:distance",value:n===void 0?void 0:rs(n)}}});class P6 extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class LH extends hg{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new P6({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new P6({})),e.pageBorderTop&&this.root.push(new cr("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new cr("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new cr("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new cr("w:right",e.pageBorderRight))}}class OH extends Be{constructor(e,r,n,i,s,o,a){super("w:pgMar"),this.root.push(new dg({top:{key:"w:top",value:wl(e)},right:{key:"w:right",value:rs(r)},bottom:{key:"w:bottom",value:wl(n)},left:{key:"w:left",value:rs(i)},header:{key:"w:header",value:rs(s)},footer:{key:"w:footer",value:rs(o)},gutter:{key:"w:gutter",value:rs(a)}}))}}class PH extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class RH extends Be{constructor({start:e,formatType:r,separator:n}){super("w:pgNumType"),this.root.push(new PH({start:e===void 0?void 0:Xn(e),formatType:r,separator:n}))}}const Z2={PORTRAIT:"portrait",LANDSCAPE:"landscape"},IH=({width:t,height:e,orientation:r,code:n})=>{const i=rs(t),s=rs(e);return new Fs({name:"w:pgSz",attributes:{width:{key:"w:w",value:r===Z2.LANDSCAPE?s:i},height:{key:"w:h",value:r===Z2.LANDSCAPE?i:s},orientation:{key:"w:orient",value:r},code:{key:"w:code",value:n}}})};class MH extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{val:"w:val"})}}class DH extends Be{constructor(e){super("w:textDirection"),this.root.push(new MH({val:e}))}}class FH extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{val:"w:val"})}}class BH extends Be{constructor(e){super("w:type"),this.root.push(new FH({val:e}))}}const il={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},ov={WIDTH:11906,HEIGHT:16838,ORIENTATION:Z2.PORTRAIT};class jH extends Be{constructor({page:{size:{width:e=ov.WIDTH,height:r=ov.HEIGHT,orientation:n=ov.ORIENTATION}={},margin:{top:i=il.TOP,right:s=il.RIGHT,bottom:o=il.BOTTOM,left:a=il.LEFT,header:l=il.HEADER,footer:u=il.FOOTER,gutter:c=il.GUTTER}={},pageNumbers:h={},borders:d,textDirection:f}={},grid:{linePitch:g=360,charSpace:y,type:x}={},headerWrapperGroup:p={},footerWrapperGroup:v={},lineNumbers:b,titlePage:w,verticalAlign:N,column:j,type:F}={}){super("w:sectPr"),this.addHeaderFooterGroup(O6.HEADER,p),this.addHeaderFooterGroup(O6.FOOTER,v),F&&this.root.push(new BH(F)),this.root.push(IH({width:e,height:r,orientation:n})),this.root.push(new OH(i,s,o,a,l,u,c)),d&&this.root.push(new LH(d)),b&&this.root.push(TH(b)),this.root.push(new RH(h)),j&&this.root.push(new EH(j)),N&&this.root.push(new AH(N)),w!==void 0&&this.root.push(new je("w:titlePg",w)),f&&this.root.push(new DH(f)),this.root.push(NH({linePitch:g,charSpace:y,type:x}))}addHeaderFooterGroup(e,r){r.default&&this.root.push(new sv(e,{type:ec.DEFAULT,id:r.default.View.ReferenceId})),r.first&&this.root.push(new sv(e,{type:ec.FIRST,id:r.first.View.ReferenceId})),r.even&&this.root.push(new sv(e,{type:ec.EVEN,id:r.even.View.ReferenceId}))}}class zH extends Be{constructor(){super("w:body"),Ie(this,"sections",[])}addSection(e){const r=this.sections.pop();this.root.push(this.createSectionParagraph(r)),this.sections.push(new jH(e))}prepForXml(e){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){const r=new Zi({}),n=new xc({});return n.push(e),r.addChildElement(n),r}}const R6={wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"};class wg extends pt{constructor(e,r){super(Mt({Ignorable:r},Object.fromEntries(e.map(n=>[n,R6[n]])))),Ie(this,"xmlKeys",Mt({Ignorable:"mc:Ignorable"},Object.fromEntries(Object.keys(R6).map(n=>[n,`xmlns:${n}`]))))}}class UH extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class qH extends Be{constructor(e){super("w:background"),this.root.push(new UH({color:e.color===void 0?void 0:vc(e.color),themeColor:e.themeColor,themeShade:e.themeShade===void 0?void 0:p6(e.themeShade),themeTint:e.themeTint===void 0?void 0:p6(e.themeTint)}))}}class WH extends Be{constructor(e){super("w:document"),Ie(this,"body"),this.root.push(new wg(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps","cx","cx1","cx2","cx3","cx4","cx5","cx6","cx7","cx8","aink","am3d","w16cex","w16cid","w16","w16sdtdh","w16se"],"w14 w15 wp14")),this.body=new zH,e.background&&this.root.push(new qH(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}}class zC{constructor(e){Ie(this,"document"),Ie(this,"relationships"),this.document=new WH(e),this.relationships=new Kl}get View(){return this.document}get Relationships(){return this.relationships}}class HH extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{val:"w:val"})}}class VH extends Be{constructor(){super("w:wordWrap"),this.root.push(new HH({val:0}))}}const $H=t=>{var e,r;return new Fs({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:t.anchorLock},dropCap:{key:"w:dropCap",value:t.dropCap},width:{key:"w:w",value:t.width},height:{key:"w:h",value:t.height},x:{key:"w:x",value:t.position?t.position.x:void 0},y:{key:"w:y",value:t.position?t.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:t.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:t.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(e=t.space)==null?void 0:e.horizontal},spaceVertical:{key:"w:vSpace",value:(r=t.space)==null?void 0:r.vertical},rule:{key:"w:hRule",value:t.rule},alignmentX:{key:"w:xAlign",value:t.alignment?t.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:t.alignment?t.alignment.y:void 0},lines:{key:"w:lines",value:t.lines},wrap:{key:"w:wrap",value:t.wrap}}})};class xc extends hg{constructor(e){var r,n;if(super("w:pPr"),Ie(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new cp(e.heading)),e.bullet&&this.push(new cp("ListParagraph")),e.numbering&&!e.style&&!e.heading&&(e.numbering.custom||this.push(new cp("ListParagraph"))),e.style&&this.push(new cp(e.style)),e.keepNext!==void 0&&this.push(new je("w:keepNext",e.keepNext)),e.keepLines!==void 0&&this.push(new je("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new sH),e.frame&&this.push($H(e.frame)),e.widowControl!==void 0&&this.push(new je("w:widowControl",e.widowControl)),e.bullet&&this.push(new iv(1,e.bullet.level)),e.numbering?(this.numberingReferences.push({reference:e.numbering.reference,instance:(r=e.numbering.instance)!=null?r:0}),this.push(new iv(`${e.numbering.reference}-${(n=e.numbering.instance)!=null?n:0}`,e.numbering.level))):e.numbering===!1&&this.push(new iv(0,0)),e.border&&this.push(new pW(e.border)),e.thematicBreak&&this.push(new mW),e.shading&&this.push(new IC(e.shading)),e.wordWrap&&this.push(new VH),e.overflowPunctuation&&this.push(new je("w:overflowPunct",e.overflowPunctuation));const i=[...e.rightTabStop!==void 0?[{type:L6.RIGHT,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...e.leftTabStop!==void 0?[{type:L6.LEFT,position:e.leftTabStop}]:[]];i.length>0&&this.push(new lH(i)),e.bidirectional!==void 0&&this.push(new je("w:bidi",e.bidirectional)),e.spacing&&this.push(new aH(e.spacing)),e.indent&&this.push(new gW(e.indent)),e.contextualSpacing!==void 0&&this.push(new je("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new hW(e.alignment)),e.outlineLevel!==void 0&&this.push(new SH(e.outlineLevel)),e.suppressLineNumbers!==void 0&&this.push(new je("w:suppressLineNumbers",e.suppressLineNumbers)),e.autoSpaceEastAsianText!==void 0&&this.push(new je("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new $l(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof zC)for(const r of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(r.reference,r.instance);return super.prepForXml(e)}}class Zi extends dH{constructor(e){if(super("w:p"),Ie(this,"properties"),typeof e=="string")return this.properties=new xc({}),this.root.push(this.properties),this.root.push(new As(e)),this;if(this.properties=new xc(e),this.root.push(this.properties),e.text&&this.root.push(new As(e.text)),e.children)for(const r of e.children){if(r instanceof wH){this.root.push(r.start);for(const n of r.children)this.root.push(n);this.root.push(r.end);continue}this.root.push(r)}}prepForXml(e){for(const r of this.root)if(r instanceof gH){const n=this.root.indexOf(r),i=new mH(r.options.children,JW());e.viewWrapper.Relationships.createRelationship(i.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",r.options.link,QW.EXTERNAL),this.root[n]=i}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}}const yu={style:j5.NONE,size:0,color:"auto"},vu={style:j5.SINGLE,size:4,color:"auto"};class KH extends Be{constructor(e){super("w:tblBorders"),e.top?this.root.push(new cr("w:top",e.top)):this.root.push(new cr("w:top",vu)),e.left?this.root.push(new cr("w:left",e.left)):this.root.push(new cr("w:left",vu)),e.bottom?this.root.push(new cr("w:bottom",e.bottom)):this.root.push(new cr("w:bottom",vu)),e.right?this.root.push(new cr("w:right",e.right)):this.root.push(new cr("w:right",vu)),e.insideHorizontal?this.root.push(new cr("w:insideH",e.insideHorizontal)):this.root.push(new cr("w:insideH",vu)),e.insideVertical?this.root.push(new cr("w:insideV",e.insideVertical)):this.root.push(new cr("w:insideV",vu))}}Ie(KH,"NONE",{top:yu,bottom:yu,left:yu,right:yu,insideHorizontal:yu,insideVertical:yu});class GH extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class JH extends Be{constructor(){super("Properties"),this.root.push(new GH({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class YH extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{xmlns:"xmlns"})}}class XH extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class ao extends Be{constructor(e,r){super("Default"),this.root.push(new XH({contentType:e,extension:r}))}}class ZH extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class Ni extends Be{constructor(e,r){super("Override"),this.root.push(new ZH({contentType:e,partName:r}))}}class QH extends Be{constructor(){super("Types"),this.root.push(new YH({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new ao("image/png","png")),this.root.push(new ao("image/jpeg","jpeg")),this.root.push(new ao("image/jpeg","jpg")),this.root.push(new ao("image/bmp","bmp")),this.root.push(new ao("image/gif","gif")),this.root.push(new ao("image/svg+xml","svg")),this.root.push(new ao("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new ao("application/xml","xml")),this.root.push(new ao("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new Ni("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new Ni("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new Ni("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new Ni("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new Ni("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new Ni("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new Ni("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new Ni("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new Ni("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new Ni("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new Ni("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new Ni("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}}class eV extends Be{constructor(e){super("cp:coreProperties"),this.root.push(new wg(["cp","dc","dcterms","dcmitype","xsi"])),e.title&&this.root.push(new rl("dc:title",e.title)),e.subject&&this.root.push(new rl("dc:subject",e.subject)),e.creator&&this.root.push(new rl("dc:creator",e.creator)),e.keywords&&this.root.push(new rl("cp:keywords",e.keywords)),e.description&&this.root.push(new rl("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new rl("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new rl("cp:revision",String(e.revision))),this.root.push(new I6("dcterms:created")),this.root.push(new I6("dcterms:modified"))}}class tV extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{type:"xsi:type"})}}class I6 extends Be{constructor(e){super(e),this.root.push(new tV({type:"dcterms:W3CDTF"})),this.root.push(cW(new Date))}}class rV extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class nV extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class iV extends Be{constructor(e,r){super("property"),this.root.push(new nV({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:r.name})),this.root.push(new sV(r.value))}}class sV extends Be{constructor(e){super("vt:lpwstr"),this.root.push(e)}}class oV extends Be{constructor(e){super("Properties"),Ie(this,"nextId"),Ie(this,"properties",[]),this.root.push(new rV({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const r of e)this.addCustomProperty(r)}prepForXml(e){return this.properties.forEach(r=>this.root.push(r)),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new iV(this.nextId++,e))}}const fp=({id:t,fontKey:e,subsetted:r},n)=>new Fs({name:n,attributes:Mt({id:{key:"r:id",value:t}},e?{fontKey:{key:"w:fontKey",value:`{${e}}`}}:{}),children:[...r?[new je("w:subsetted",r)]:[]]}),aV=({name:t,altName:e,panose1:r,charset:n,family:i,notTrueType:s,pitch:o,sig:a,embedRegular:l,embedBold:u,embedItalic:c,embedBoldItalic:h})=>new Fs({name:"w:font",attributes:{name:{key:"w:name",value:t}},children:[...e?[wf("w:altName",e)]:[],...r?[wf("w:panose1",r)]:[],...n?[wf("w:charset",n)]:[],wf("w:family",i),...s?[new je("w:notTrueType",s)]:[],wf("w:pitch",o),...a?[new Fs({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:a.usb0},usb1:{key:"w:usb1",value:a.usb1},usb2:{key:"w:usb2",value:a.usb2},usb3:{key:"w:usb3",value:a.usb3},csb0:{key:"w:csb0",value:a.csb0},csb1:{key:"w:csb1",value:a.csb1}}})]:[],...l?[fp(l,"w:embedRegular")]:[],...u?[fp(u,"w:embedBold")]:[],...c?[fp(c,"w:embedItalic")]:[],...h?[fp(h,"w:embedBoldItalic")]:[]]}),lV=({name:t,index:e,fontKey:r,characterSet:n})=>aV({name:t,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:n,family:"auto",pitch:"variable",embedRegular:{fontKey:r,id:`rId${e}`}}),uV=t=>new Fs({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:t.map((e,r)=>lV({name:e.name,index:r+1,fontKey:e.fontKey}))});class cV{constructor(e){Ie(this,"fontTable"),Ie(this,"relationships"),Ie(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map(r=>gc(Mt({},r),{fontKey:YW()})),this.fontTable=uV(this.fontOptionsWithKey),this.relationships=new Kl;for(let r=0;r<e.length;r++)this.relationships.createRelationship(r+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${e[r].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class fV extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let hV=class extends LC{constructor(e,r){super("w:ftr",r),Ie(this,"refId"),this.refId=e,r||this.root.push(new fV({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class dV{constructor(e,r,n){Ie(this,"footer"),Ie(this,"relationships"),this.media=e,this.footer=new hV(r,n),this.relationships=new Kl}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class pV extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class mV extends Be{constructor(){super("w:footnoteRef")}}class gV extends vg{constructor(){super({style:"FootnoteReference"}),this.root.push(new mV)}}const M6={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class av extends Be{constructor(e){super("w:footnote"),this.root.push(new pV({type:e.type,id:e.id}));for(let r=0;r<e.children.length;r++){const n=e.children[r];r===0&&n.addRunToFront(new gV),this.root.push(n)}}}class yV extends Be{constructor(){super("w:continuationSeparator")}}class vV extends vg{constructor(){super({}),this.root.push(new yV)}}class wV extends Be{constructor(){super("w:separator")}}class bV extends vg{constructor(){super({}),this.root.push(new wV)}}class xV extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class SV extends Be{constructor(){super("w:footnotes"),this.root.push(new xV({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new av({id:-1,type:M6.SEPERATOR,children:[new Zi({spacing:{after:0,line:240,lineRule:X2.AUTO},children:[new bV]})]});this.root.push(e);const r=new av({id:0,type:M6.CONTINUATION_SEPERATOR,children:[new Zi({spacing:{after:0,line:240,lineRule:X2.AUTO},children:[new vV]})]});this.root.push(r)}createFootNote(e,r){const n=new av({id:e,children:r});this.root.push(n)}}class kV{constructor(){Ie(this,"footnotess"),Ie(this,"relationships"),this.footnotess=new SV,this.relationships=new Kl}get View(){return this.footnotess}get Relationships(){return this.relationships}}class _V extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let AV=class extends LC{constructor(e,r){super("w:hdr",r),Ie(this,"refId"),this.refId=e,r||this.root.push(new _V({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class EV{constructor(e,r,n){Ie(this,"header"),Ie(this,"relationships"),this.media=e,this.header=new AV(r,n),this.relationships=new Kl}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class NV{constructor(){Ie(this,"map"),this.map=new Map}addImage(e,r){this.map.set(e,r)}get Array(){return Array.from(this.map.values())}}const lo={BULLET:"bullet"};class CV extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class TV extends Be{constructor(e){super("w:numFmt"),this.root.push(new Lr({val:e}))}}class LV extends Be{constructor(e){super("w:lvlText"),this.root.push(new Lr({val:e}))}}class OV extends Be{constructor(e){super("w:lvlJc"),this.root.push(new Lr({val:e}))}}class PV extends Be{constructor(e){super("w:suff"),this.root.push(new Lr({val:e}))}}class RV extends Be{constructor(){super("w:isLgl")}}class IV extends Be{constructor({level:e,format:r,text:n,alignment:i=Ci.START,start:s=1,style:o,suffix:a,isLegalNumberingStyle:l}){if(super("w:lvl"),Ie(this,"paragraphProperties"),Ie(this,"runProperties"),this.root.push(new $f("w:start",Xn(s))),r&&this.root.push(new TV(r)),a&&this.root.push(new PV(a)),l&&this.root.push(new RV),n&&this.root.push(new LV(n)),this.root.push(new OV(i)),this.paragraphProperties=new xc(o&&o.paragraph),this.runProperties=new $l(o&&o.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new CV({ilvl:Xn(e),tentative:1}))}}class MV extends IV{}class DV extends Be{constructor(e){super("w:multiLevelType"),this.root.push(new Lr({val:e}))}}class FV extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class D6 extends Be{constructor(e,r){super("w:abstractNum"),Ie(this,"id"),this.root.push(new FV({abstractNumId:Xn(e),restartNumberingAfterBreak:0})),this.root.push(new DV("hybridMultilevel")),this.id=e;for(const n of r)this.root.push(new MV(n))}}class BV extends Be{constructor(e){super("w:abstractNumId"),this.root.push(new Lr({val:e}))}}class jV extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{numId:"w:numId"})}}class F6 extends Be{constructor(e){if(super("w:num"),Ie(this,"numId"),Ie(this,"reference"),Ie(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new jV({numId:Xn(e.numId)})),this.root.push(new BV(Xn(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(const r of e.overrideLevels)this.root.push(new UV(r.num,r.start))}}class zV extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{ilvl:"w:ilvl"})}}class UV extends Be{constructor(e,r){super("w:lvlOverride"),this.root.push(new zV({ilvl:e})),r!==void 0&&this.root.push(new WV(r))}}class qV extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{val:"w:val"})}}class WV extends Be{constructor(e){super("w:startOverride"),this.root.push(new qV({val:e}))}}class HV extends Be{constructor(e){super("w:numbering"),Ie(this,"abstractNumberingMap",new Map),Ie(this,"concreteNumberingMap",new Map),Ie(this,"referenceConfigMap",new Map),Ie(this,"abstractNumUniqueNumericId",$W()),Ie(this,"concreteNumUniqueNumericId",KW()),this.root.push(new wg(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps"],"w14 w15 wp14"));const r=new D6(this.abstractNumUniqueNumericId(),[{level:0,format:lo.BULLET,text:"",alignment:Ci.LEFT,style:{paragraph:{indent:{left:Yi(.5),hanging:Yi(.25)}}}},{level:1,format:lo.BULLET,text:"",alignment:Ci.LEFT,style:{paragraph:{indent:{left:Yi(1),hanging:Yi(.25)}}}},{level:2,format:lo.BULLET,text:"",alignment:Ci.LEFT,style:{paragraph:{indent:{left:2160,hanging:Yi(.25)}}}},{level:3,format:lo.BULLET,text:"",alignment:Ci.LEFT,style:{paragraph:{indent:{left:2880,hanging:Yi(.25)}}}},{level:4,format:lo.BULLET,text:"",alignment:Ci.LEFT,style:{paragraph:{indent:{left:3600,hanging:Yi(.25)}}}},{level:5,format:lo.BULLET,text:"",alignment:Ci.LEFT,style:{paragraph:{indent:{left:4320,hanging:Yi(.25)}}}},{level:6,format:lo.BULLET,text:"",alignment:Ci.LEFT,style:{paragraph:{indent:{left:5040,hanging:Yi(.25)}}}},{level:7,format:lo.BULLET,text:"",alignment:Ci.LEFT,style:{paragraph:{indent:{left:5760,hanging:Yi(.25)}}}},{level:8,format:lo.BULLET,text:"",alignment:Ci.LEFT,style:{paragraph:{indent:{left:6480,hanging:Yi(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new F6({numId:1,abstractNumId:r.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",r);for(const n of e.config)this.abstractNumberingMap.set(n.reference,new D6(this.abstractNumUniqueNumericId(),n.levels)),this.referenceConfigMap.set(n.reference,n.levels)}prepForXml(e){for(const r of this.abstractNumberingMap.values())this.root.push(r);for(const r of this.concreteNumberingMap.values())this.root.push(r);return super.prepForXml(e)}createConcreteNumberingInstance(e,r){const n=this.abstractNumberingMap.get(e);if(!n)return;const i=`${e}-${r}`;if(this.concreteNumberingMap.has(i))return;const s=this.referenceConfigMap.get(e),o=s&&s[0].start,a={numId:this.concreteNumUniqueNumericId(),abstractNumId:n.id,reference:e,instance:r,overrideLevels:[o&&Number.isInteger(o)?{num:0,start:o}:{num:0,start:1}]};this.concreteNumberingMap.set(i,new F6(a))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class VV extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class $V extends Be{constructor(e){super("w:compatSetting"),this.root.push(new VV({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class KV extends Be{constructor(e){super("w:compat"),e.version&&this.root.push(new $V(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new je("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new je("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new je("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new je("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new je("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new je("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new je("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new je("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new je("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new je("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new je("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new je("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new je("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new je("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new je("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new je("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new je("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new je("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new je("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new je("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new je("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new je("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new je("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new je("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new je("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new je("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new je("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new je("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new je("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new je("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new je("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new je("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new je("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new je("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new je("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new je("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new je("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new je("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new je("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new je("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new je("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new je("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new je("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new je("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new je("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new je("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new je("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new je("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new je("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new je("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new je("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new je("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new je("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new je("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new je("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new je("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new je("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new je("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new je("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new je("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new je("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new je("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new je("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new je("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new je("w:cachedColBalance",e.cachedColumnBalance))}}class GV extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class JV extends Be{constructor(e){var r,n,i,s,o,a,l,u;super("w:settings"),this.root.push(new GV({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new je("w:displayBackgroundShape",!0)),e.trackRevisions!==void 0&&this.root.push(new je("w:trackRevisions",e.trackRevisions)),e.evenAndOddHeaders!==void 0&&this.root.push(new je("w:evenAndOddHeaders",e.evenAndOddHeaders)),e.updateFields!==void 0&&this.root.push(new je("w:updateFields",e.updateFields)),e.defaultTabStop!==void 0&&this.root.push(new $f("w:defaultTabStop",e.defaultTabStop)),((r=e.hyphenation)==null?void 0:r.autoHyphenation)!==void 0&&this.root.push(new je("w:autoHyphenation",e.hyphenation.autoHyphenation)),((n=e.hyphenation)==null?void 0:n.hyphenationZone)!==void 0&&this.root.push(new $f("w:hyphenationZone",e.hyphenation.hyphenationZone)),((i=e.hyphenation)==null?void 0:i.consecutiveHyphenLimit)!==void 0&&this.root.push(new $f("w:consecutiveHyphenLimit",e.hyphenation.consecutiveHyphenLimit)),((s=e.hyphenation)==null?void 0:s.doNotHyphenateCaps)!==void 0&&this.root.push(new je("w:doNotHyphenateCaps",e.hyphenation.doNotHyphenateCaps)),this.root.push(new KV(gc(Mt({},(o=e.compatibility)!=null?o:{}),{version:(u=(l=(a=e.compatibility)==null?void 0:a.version)!=null?l:e.compatibilityModeVersion)!=null?u:15})))}}class UC extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{val:"w:val"})}}class YV extends Be{constructor(e){super("w:name"),this.root.push(new UC({val:e}))}}class XV extends Be{constructor(e){super("w:uiPriority"),this.root.push(new UC({val:Xn(e)}))}}class ZV extends pt{constructor(){super(...arguments),Ie(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class qC extends Be{constructor(e,r){super("w:style"),this.root.push(new ZV(e)),r.name&&this.root.push(new YV(r.name)),r.basedOn&&this.root.push(new Qu("w:basedOn",r.basedOn)),r.next&&this.root.push(new Qu("w:next",r.next)),r.link&&this.root.push(new Qu("w:link",r.link)),r.uiPriority!==void 0&&this.root.push(new XV(r.uiPriority)),r.semiHidden!==void 0&&this.root.push(new je("w:semiHidden",r.semiHidden)),r.unhideWhenUsed!==void 0&&this.root.push(new je("w:unhideWhenUsed",r.unhideWhenUsed)),r.quickFormat!==void 0&&this.root.push(new je("w:qFormat",r.quickFormat))}}class bg extends qC{constructor(e){super({type:"paragraph",styleId:e.id},e),Ie(this,"paragraphProperties"),Ie(this,"runProperties"),this.paragraphProperties=new xc(e.paragraph),this.runProperties=new $l(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class xg extends qC{constructor(e){super({type:"character",styleId:e.id},Mt({uiPriority:99,unhideWhenUsed:!0},e)),Ie(this,"runProperties"),this.runProperties=new $l(e.run),this.root.push(this.runProperties)}}class Fa extends bg{constructor(e){super(Mt({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}}class QV extends Fa{constructor(e){super(Mt({id:"Title",name:"Title"},e))}}class e$ extends Fa{constructor(e){super(Mt({id:"Heading1",name:"Heading 1"},e))}}class t$ extends Fa{constructor(e){super(Mt({id:"Heading2",name:"Heading 2"},e))}}class r$ extends Fa{constructor(e){super(Mt({id:"Heading3",name:"Heading 3"},e))}}class n$ extends Fa{constructor(e){super(Mt({id:"Heading4",name:"Heading 4"},e))}}class i$ extends Fa{constructor(e){super(Mt({id:"Heading5",name:"Heading 5"},e))}}class s$ extends Fa{constructor(e){super(Mt({id:"Heading6",name:"Heading 6"},e))}}class o$ extends Fa{constructor(e){super(Mt({id:"Strong",name:"Strong"},e))}}class a$ extends bg{constructor(e){super(Mt({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}}class l$ extends bg{constructor(e){super(Mt({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:X2.AUTO}},run:{size:20}},e))}}class u$ extends xg{constructor(e){super(Mt({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}}class c$ extends xg{constructor(e){super(Mt({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}}class f$ extends xg{constructor(e){super(Mt({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:DC.SINGLE}}},e))}}class Q2 extends Be{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const r of e.importedStyles)this.root.push(r);if(e.paragraphStyles)for(const r of e.paragraphStyles)this.root.push(new bg(r));if(e.characterStyles)for(const r of e.characterStyles)this.root.push(new xg(r))}}class h$ extends Be{constructor(e){super("w:pPrDefault"),this.root.push(new xc(e))}}class d$ extends Be{constructor(e){super("w:rPrDefault"),this.root.push(new $l(e))}}class p$ extends Be{constructor(e){super("w:docDefaults"),Ie(this,"runPropertiesDefaults"),Ie(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new d$(e.run),this.paragraphPropertiesDefaults=new h$(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class m${newInstance(e){const r=TC.xml2js(e,{compact:!1});let n;for(const o of r.elements||[])o.name==="w:styles"&&(n=o);if(n===void 0)throw new Error("can not find styles element");const i=n.elements||[];return new Q2({initialStyles:new oW(n.attributes),importedStyles:i.map(o=>B5(o))})}}class B6{newInstance(e={}){var r;return{initialStyles:new wg(["mc","r","w","w14","w15"],"w14 w15"),importedStyles:[new p$((r=e.document)!=null?r:{}),new QV(Mt({run:{size:56}},e.title)),new e$(Mt({run:{color:"2E74B5",size:32}},e.heading1)),new t$(Mt({run:{color:"2E74B5",size:26}},e.heading2)),new r$(Mt({run:{color:"1F4D78",size:24}},e.heading3)),new n$(Mt({run:{color:"2E74B5",italics:!0}},e.heading4)),new i$(Mt({run:{color:"2E74B5"}},e.heading5)),new s$(Mt({run:{color:"1F4D78"}},e.heading6)),new o$(Mt({run:{bold:!0}},e.strong)),new a$(e.listParagraph||{}),new f$(e.hyperlink||{}),new u$(e.footnoteReference||{}),new l$(e.footnoteText||{}),new c$(e.footnoteTextChar||{})]}}}class g${constructor(e){Ie(this,"currentRelationshipId",1),Ie(this,"documentWrapper"),Ie(this,"headers",[]),Ie(this,"footers",[]),Ie(this,"coreProperties"),Ie(this,"numbering"),Ie(this,"media"),Ie(this,"fileRelationships"),Ie(this,"footnotesWrapper"),Ie(this,"settings"),Ie(this,"contentTypes"),Ie(this,"customProperties"),Ie(this,"appProperties"),Ie(this,"styles"),Ie(this,"comments"),Ie(this,"fontWrapper");var r,n,i,s,o,a,l,u,c,h,d,f;if(this.coreProperties=new eV(gc(Mt({},e),{creator:(r=e.creator)!=null?r:"Un-named",revision:(n=e.revision)!=null?n:1,lastModifiedBy:(i=e.lastModifiedBy)!=null?i:"Un-named"})),this.numbering=new HV(e.numbering?e.numbering:{config:[]}),this.comments=new iH((s=e.comments)!=null?s:{children:[]}),this.fileRelationships=new Kl,this.customProperties=new oV((o=e.customProperties)!=null?o:[]),this.appProperties=new JH,this.footnotesWrapper=new kV,this.contentTypes=new QH,this.documentWrapper=new zC({background:e.background}),this.settings=new JV({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:(a=e.features)==null?void 0:a.trackRevisions,updateFields:(l=e.features)==null?void 0:l.updateFields,defaultTabStop:e.defaultTabStop,hyphenation:{autoHyphenation:(u=e.hyphenation)==null?void 0:u.autoHyphenation,hyphenationZone:(c=e.hyphenation)==null?void 0:c.hyphenationZone,consecutiveHyphenLimit:(h=e.hyphenation)==null?void 0:h.consecutiveHyphenLimit,doNotHyphenateCaps:(d=e.hyphenation)==null?void 0:d.doNotHyphenateCaps}}),this.media=new NV,e.externalStyles!==void 0){const g=new m$;this.styles=g.newInstance(e.externalStyles)}else if(e.styles){const y=new B6().newInstance(e.styles.default);this.styles=new Q2(Mt(Mt({},y),e.styles))}else{const g=new B6;this.styles=new Q2(g.newInstance())}this.addDefaultRelationships();for(const g of e.sections)this.addSection(g);if(e.footnotes)for(const g in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(g),e.footnotes[g].children);this.fontWrapper=new cV((f=e.fonts)!=null?f:[])}addSection({headers:e={},footers:r={},children:n,properties:i}){this.documentWrapper.View.Body.addSection(gc(Mt({},i),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:r.default?this.createFooter(r.default):void 0,first:r.first?this.createFooter(r.first):void 0,even:r.even?this.createFooter(r.even):void 0}}));for(const s of n)this.documentWrapper.View.add(s)}createHeader(e){const r=new EV(this.media,this.currentRelationshipId++);for(const n of e.options.children)r.add(n);return this.addHeaderToDocument(r),r}createFooter(e){const r=new dV(this.media,this.currentRelationshipId++);for(const n of e.options.children)r.add(n);return this.addFooterToDocument(r),r}addHeaderToDocument(e,r=ec.DEFAULT){this.headers.push({header:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,r=ec.DEFAULT){this.footers.push({footer:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}}var y$=M5();function hp(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var lv={exports:{}},j6;function v$(){return j6||(j6=1,function(t,e){(function(r){t.exports=r()})(function(){return function r(n,i,s){function o(u,c){if(!i[u]){if(!n[u]){var h=typeof hp=="function"&&hp;if(!c&&h)return h(u,!0);if(a)return a(u,!0);var d=new Error("Cannot find module '"+u+"'");throw d.code="MODULE_NOT_FOUND",d}var f=i[u]={exports:{}};n[u][0].call(f.exports,function(g){var y=n[u][1][g];return o(y||g)},f,f.exports,r,n,i,s)}return i[u].exports}for(var a=typeof hp=="function"&&hp,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(r,n,i){var s=r("./utils"),o=r("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,c,h,d,f,g,y,x=[],p=0,v=l.length,b=v,w=s.getTypeOf(l)!=="string";p<l.length;)b=v-p,h=w?(u=l[p++],c=p<v?l[p++]:0,p<v?l[p++]:0):(u=l.charCodeAt(p++),c=p<v?l.charCodeAt(p++):0,p<v?l.charCodeAt(p++):0),d=u>>2,f=(3&u)<<4|c>>4,g=1<b?(15&c)<<2|h>>6:64,y=2<b?63&h:64,x.push(a.charAt(d)+a.charAt(f)+a.charAt(g)+a.charAt(y));return x.join("")},i.decode=function(l){var u,c,h,d,f,g,y=0,x=0,p="data:";if(l.substr(0,p.length)===p)throw new Error("Invalid base64 input, it looks like a data url.");var v,b=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&b--,l.charAt(l.length-2)===a.charAt(64)&&b--,b%1!=0)throw new Error("Invalid base64 input, bad content length.");for(v=o.uint8array?new Uint8Array(0|b):new Array(0|b);y<l.length;)u=a.indexOf(l.charAt(y++))<<2|(d=a.indexOf(l.charAt(y++)))>>4,c=(15&d)<<4|(f=a.indexOf(l.charAt(y++)))>>2,h=(3&f)<<6|(g=a.indexOf(l.charAt(y++))),v[x++]=u,f!==64&&(v[x++]=c),g!==64&&(v[x++]=h);return v}},{"./support":30,"./utils":32}],2:[function(r,n,i){var s=r("./external"),o=r("./stream/DataWorker"),a=r("./stream/Crc32Probe"),l=r("./stream/DataLengthProbe");function u(c,h,d,f,g){this.compressedSize=c,this.uncompressedSize=h,this.crc32=d,this.compression=f,this.compressedContent=g}u.prototype={getContentWorker:function(){var c=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),h=this;return c.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(c,h,d){return c.pipe(new a).pipe(new l("uncompressedSize")).pipe(h.compressWorker(d)).pipe(new l("compressedSize")).withStreamInfo("compression",h)},n.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var s=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var s=r("./utils"),o=function(){for(var a,l=[],u=0;u<256;u++){a=u;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;l[u]=a}return l}();n.exports=function(a,l){return a!==void 0&&a.length?s.getTypeOf(a)!=="string"?function(u,c,h,d){var f=o,g=d+h;u^=-1;for(var y=d;y<g;y++)u=u>>>8^f[255&(u^c[y])];return-1^u}(0|l,a,a.length,0):function(u,c,h,d){var f=o,g=d+h;u^=-1;for(var y=d;y<g;y++)u=u>>>8^f[255&(u^c.charCodeAt(y))];return-1^u}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var s=null;s=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:s}},{lie:37}],7:[function(r,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=r("pako"),a=r("./utils"),l=r("./stream/GenericWorker"),u=s?"uint8array":"array";function c(h,d){l.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=d,this.meta={}}i.magic="\b\0",a.inherits(c,l),c.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(u,h.data),!1)},c.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(d){h.push({data:d,meta:h.meta})}},i.compressWorker=function(h){return new c("Deflate",h)},i.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function s(f,g){var y,x="";for(y=0;y<g;y++)x+=String.fromCharCode(255&f),f>>>=8;return x}function o(f,g,y,x,p,v){var b,w,N=f.file,j=f.compression,F=v!==u.utf8encode,z=a.transformTo("string",v(N.name)),T=a.transformTo("string",u.utf8encode(N.name)),Z=N.comment,H=a.transformTo("string",v(Z)),L=a.transformTo("string",u.utf8encode(Z)),U=T.length!==N.name.length,A=L.length!==Z.length,ie="",he="",te="",re=N.dir,ae=N.date,ve={crc32:0,compressedSize:0,uncompressedSize:0};g&&!y||(ve.crc32=f.crc32,ve.compressedSize=f.compressedSize,ve.uncompressedSize=f.uncompressedSize);var le=0;g&&(le|=8),F||!U&&!A||(le|=2048);var C=0,q=0;re&&(C|=16),p==="UNIX"?(q=798,C|=function(se,J){var O=se;return se||(O=J?16893:33204),(65535&O)<<16}(N.unixPermissions,re)):(q=20,C|=function(se){return 63&(se||0)}(N.dosPermissions)),b=ae.getUTCHours(),b<<=6,b|=ae.getUTCMinutes(),b<<=5,b|=ae.getUTCSeconds()/2,w=ae.getUTCFullYear()-1980,w<<=4,w|=ae.getUTCMonth()+1,w<<=5,w|=ae.getUTCDate(),U&&(he=s(1,1)+s(c(z),4)+T,ie+="up"+s(he.length,2)+he),A&&(te=s(1,1)+s(c(H),4)+L,ie+="uc"+s(te.length,2)+te);var $="";return $+=`
\0`,$+=s(le,2),$+=j.magic,$+=s(b,2),$+=s(w,2),$+=s(ve.crc32,4),$+=s(ve.compressedSize,4),$+=s(ve.uncompressedSize,4),$+=s(z.length,2),$+=s(ie.length,2),{fileRecord:h.LOCAL_FILE_HEADER+$+z+ie,dirRecord:h.CENTRAL_FILE_HEADER+s(q,2)+$+s(H.length,2)+"\0\0\0\0"+s(C,4)+s(x,4)+z+ie+H}}var a=r("../utils"),l=r("../stream/GenericWorker"),u=r("../utf8"),c=r("../crc32"),h=r("../signature");function d(f,g,y,x){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=g,this.zipPlatform=y,this.encodeFileName=x,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(d,l),d.prototype.push=function(f){var g=f.meta.percent||0,y=this.entriesCount,x=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,l.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:y?(g+100*(y-x-1))/y:100}}))},d.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var g=this.streamFiles&&!f.file.dir;if(g){var y=o(f,g,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(f){this.accumulate=!1;var g=this.streamFiles&&!f.file.dir,y=o(f,g,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),g)this.push({data:function(x){return h.DATA_DESCRIPTOR+s(x.crc32,4)+s(x.compressedSize,4)+s(x.uncompressedSize,4)}(f),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var f=this.bytesWritten,g=0;g<this.dirRecords.length;g++)this.push({data:this.dirRecords[g],meta:{percent:100}});var y=this.bytesWritten-f,x=function(p,v,b,w,N){var j=a.transformTo("string",N(w));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(p,2)+s(p,2)+s(v,4)+s(b,4)+s(j.length,2)+j}(this.dirRecords.length,y,f,this.zipComment,this.encodeFileName);this.push({data:x,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(f){this._sources.push(f);var g=this;return f.on("data",function(y){g.processChunk(y)}),f.on("end",function(){g.closedSource(g.previous.streamInfo),g._sources.length?g.prepareNextSource():g.end()}),f.on("error",function(y){g.error(y)}),this},d.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(f){var g=this._sources;if(!l.prototype.error.call(this,f))return!1;for(var y=0;y<g.length;y++)try{g[y].error(f)}catch{}return!0},d.prototype.lock=function(){l.prototype.lock.call(this);for(var f=this._sources,g=0;g<f.length;g++)f[g].lock()},n.exports=d},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var s=r("../compressions"),o=r("./ZipFileWorker");i.generateWorker=function(a,l,u){var c=new o(l.streamFiles,u,l.platform,l.encodeFileName),h=0;try{a.forEach(function(d,f){h++;var g=function(v,b){var w=v||b,N=s[w];if(!N)throw new Error(w+" is not a valid compression method !");return N}(f.options.compression,l.compression),y=f.options.compressionOptions||l.compressionOptions||{},x=f.dir,p=f.date;f._compressWorker(g,y).withStreamInfo("file",{name:d,dir:x,date:p,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(c)}),c.entriesCount=h}catch(d){c.error(d)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(s.prototype=r("./object")).loadAsync=r("./load"),s.support=r("./support"),s.defaults=r("./defaults"),s.version="3.10.1",s.loadAsync=function(o,a){return new s().loadAsync(o,a)},s.external=r("./external"),n.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var s=r("./utils"),o=r("./external"),a=r("./utf8"),l=r("./zipEntries"),u=r("./stream/Crc32Probe"),c=r("./nodejsUtils");function h(d){return new o.Promise(function(f,g){var y=d.decompressed.getContentWorker().pipe(new u);y.on("error",function(x){g(x)}).on("end",function(){y.streamInfo.crc32!==d.decompressed.crc32?g(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}n.exports=function(d,f){var g=this;return f=s.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),c.isNode&&c.isStream(d)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",d,!0,f.optimizedBinaryString,f.base64).then(function(y){var x=new l(f);return x.load(y),x}).then(function(y){var x=[o.Promise.resolve(y)],p=y.files;if(f.checkCRC32)for(var v=0;v<p.length;v++)x.push(h(p[v]));return o.Promise.all(x)}).then(function(y){for(var x=y.shift(),p=x.files,v=0;v<p.length;v++){var b=p[v],w=b.fileNameStr,N=s.resolve(b.fileNameStr);g.file(N,b.decompressed,{binary:!0,optimizedBinaryString:!0,date:b.date,dir:b.dir,comment:b.fileCommentStr.length?b.fileCommentStr:null,unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions,createFolders:f.createFolders}),b.dir||(g.file(N).unsafeOriginalName=w)}return x.zipComment.length&&(g.comment=x.zipComment),g})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var s=r("../utils"),o=r("../stream/GenericWorker");function a(l,u){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}s.inherits(a,o),a.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(c){u.push({data:c,meta:{percent:0}})}).on("error",function(c){u.isPaused?this.generatedError=c:u.error(c)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var s=r("readable-stream").Readable;function o(a,l,u){s.call(this,l),this._helper=a;var c=this;a.on("data",function(h,d){c.push(h)||c._helper.pause(),u&&u(d)}).on("error",function(h){c.emit("error",h)}).on("end",function(){c.push(null)})}r("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(r,n,i){function s(N,j,F){var z,T=a.getTypeOf(j),Z=a.extend(F||{},c);Z.date=Z.date||new Date,Z.compression!==null&&(Z.compression=Z.compression.toUpperCase()),typeof Z.unixPermissions=="string"&&(Z.unixPermissions=parseInt(Z.unixPermissions,8)),Z.unixPermissions&&16384&Z.unixPermissions&&(Z.dir=!0),Z.dosPermissions&&16&Z.dosPermissions&&(Z.dir=!0),Z.dir&&(N=p(N)),Z.createFolders&&(z=x(N))&&v.call(this,z,!0);var H=T==="string"&&Z.binary===!1&&Z.base64===!1;F&&F.binary!==void 0||(Z.binary=!H),(j instanceof h&&j.uncompressedSize===0||Z.dir||!j||j.length===0)&&(Z.base64=!1,Z.binary=!0,j="",Z.compression="STORE",T="string");var L=null;L=j instanceof h||j instanceof l?j:g.isNode&&g.isStream(j)?new y(N,j):a.prepareContent(N,j,Z.binary,Z.optimizedBinaryString,Z.base64);var U=new d(N,L,Z);this.files[N]=U}var o=r("./utf8"),a=r("./utils"),l=r("./stream/GenericWorker"),u=r("./stream/StreamHelper"),c=r("./defaults"),h=r("./compressedObject"),d=r("./zipObject"),f=r("./generate"),g=r("./nodejsUtils"),y=r("./nodejs/NodejsStreamInputAdapter"),x=function(N){N.slice(-1)==="/"&&(N=N.substring(0,N.length-1));var j=N.lastIndexOf("/");return 0<j?N.substring(0,j):""},p=function(N){return N.slice(-1)!=="/"&&(N+="/"),N},v=function(N,j){return j=j!==void 0?j:c.createFolders,N=p(N),this.files[N]||s.call(this,N,null,{dir:!0,createFolders:j}),this.files[N]};function b(N){return Object.prototype.toString.call(N)==="[object RegExp]"}var w={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(N){var j,F,z;for(j in this.files)z=this.files[j],(F=j.slice(this.root.length,j.length))&&j.slice(0,this.root.length)===this.root&&N(F,z)},filter:function(N){var j=[];return this.forEach(function(F,z){N(F,z)&&j.push(z)}),j},file:function(N,j,F){if(arguments.length!==1)return N=this.root+N,s.call(this,N,j,F),this;if(b(N)){var z=N;return this.filter(function(Z,H){return!H.dir&&z.test(Z)})}var T=this.files[this.root+N];return T&&!T.dir?T:null},folder:function(N){if(!N)return this;if(b(N))return this.filter(function(T,Z){return Z.dir&&N.test(T)});var j=this.root+N,F=v.call(this,j),z=this.clone();return z.root=F.name,z},remove:function(N){N=this.root+N;var j=this.files[N];if(j||(N.slice(-1)!=="/"&&(N+="/"),j=this.files[N]),j&&!j.dir)delete this.files[N];else for(var F=this.filter(function(T,Z){return Z.name.slice(0,N.length)===N}),z=0;z<F.length;z++)delete this.files[F[z].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(N){var j,F={};try{if((F=a.extend(N||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=F.type.toLowerCase(),F.compression=F.compression.toUpperCase(),F.type==="binarystring"&&(F.type="string"),!F.type)throw new Error("No output type specified.");a.checkSupport(F.type),F.platform!=="darwin"&&F.platform!=="freebsd"&&F.platform!=="linux"&&F.platform!=="sunos"||(F.platform="UNIX"),F.platform==="win32"&&(F.platform="DOS");var z=F.comment||this.comment||"";j=f.generateWorker(this,F,z)}catch(T){(j=new l("error")).error(T)}return new u(j,F.type||"string",F.mimeType)},generateAsync:function(N,j){return this.generateInternalStream(N).accumulate(j)},generateNodeStream:function(N,j){return(N=N||{}).type||(N.type="nodebuffer"),this.generateInternalStream(N).toNodejsStream(j)}};n.exports=w},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var s=r("./DataReader");function o(a){s.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}r("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),u=a.charCodeAt(1),c=a.charCodeAt(2),h=a.charCodeAt(3),d=this.length-4;0<=d;--d)if(this.data[d]===l&&this.data[d+1]===u&&this.data[d+2]===c&&this.data[d+3]===h)return d-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),u=a.charCodeAt(1),c=a.charCodeAt(2),h=a.charCodeAt(3),d=this.readData(4);return l===d[0]&&u===d[1]&&c===d[2]&&h===d[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var s=r("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,u=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=a,u},readString:function(a){return s.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},n.exports=o},{"../utils":32}],19:[function(r,n,i){var s=r("./Uint8ArrayReader");function o(a){s.call(this,a)}r("../utils").inherits(o,s),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var s=r("./DataReader");function o(a){s.call(this,a)}r("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var s=r("./ArrayReader");function o(a){s.call(this,a)}r("../utils").inherits(o,s),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var s=r("../utils"),o=r("../support"),a=r("./ArrayReader"),l=r("./StringReader"),u=r("./NodeBufferReader"),c=r("./Uint8ArrayReader");n.exports=function(h){var d=s.getTypeOf(h);return s.checkSupport(d),d!=="string"||o.uint8array?d==="nodebuffer"?new u(h):o.uint8array?new c(s.transformTo("uint8array",h)):new a(s.transformTo("array",h)):new l(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var s=r("./GenericWorker"),o=r("../utils");function a(l){s.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,s),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},n.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var s=r("./GenericWorker"),o=r("../crc32");function a(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(a,s),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var s=r("../utils"),o=r("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(a,o),a.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}o.prototype.processChunk.call(this,l)},n.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var s=r("../utils"),o=r("./GenericWorker");function a(l){o.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(c){u.dataIsReady=!0,u.data=c,u.max=c&&c.length||0,u.type=s.getTypeOf(c),u.isPaused||u._tickAndRepeat()},function(c){u.error(c)})}s.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=s},{}],29:[function(r,n,i){var s=r("../utils"),o=r("./ConvertWorker"),a=r("./GenericWorker"),l=r("../base64"),u=r("../support"),c=r("../external"),h=null;if(u.nodestream)try{h=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function d(g,y){return new c.Promise(function(x,p){var v=[],b=g._internalType,w=g._outputType,N=g._mimeType;g.on("data",function(j,F){v.push(j),y&&y(F)}).on("error",function(j){v=[],p(j)}).on("end",function(){try{var j=function(F,z,T){switch(F){case"blob":return s.newBlob(s.transformTo("arraybuffer",z),T);case"base64":return l.encode(z);default:return s.transformTo(F,z)}}(w,function(F,z){var T,Z=0,H=null,L=0;for(T=0;T<z.length;T++)L+=z[T].length;switch(F){case"string":return z.join("");case"array":return Array.prototype.concat.apply([],z);case"uint8array":for(H=new Uint8Array(L),T=0;T<z.length;T++)H.set(z[T],Z),Z+=z[T].length;return H;case"nodebuffer":return Buffer.concat(z);default:throw new Error("concat : unsupported type '"+F+"'")}}(b,v),N);x(j)}catch(F){p(F)}v=[]}).resume()})}function f(g,y,x){var p=y;switch(y){case"blob":case"arraybuffer":p="uint8array";break;case"base64":p="string"}try{this._internalType=p,this._outputType=y,this._mimeType=x,s.checkSupport(p),this._worker=g.pipe(new o(p)),g.lock()}catch(v){this._worker=new a("error"),this._worker.error(v)}}f.prototype={accumulate:function(g){return d(this,g)},on:function(g,y){var x=this;return g==="data"?this._worker.on(g,function(p){y.call(x,p.data,p.meta)}):this._worker.on(g,function(){s.delay(y,arguments,x)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(g){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},g)}},n.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var s=r("./utils"),o=r("./support"),a=r("./nodejsUtils"),l=r("./stream/GenericWorker"),u=new Array(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;u[254]=u[254]=1;function h(){l.call(this,"utf-8 decode"),this.leftOver=null}function d(){l.call(this,"utf-8 encode")}i.utf8encode=function(f){return o.nodebuffer?a.newBufferFrom(f,"utf-8"):function(g){var y,x,p,v,b,w=g.length,N=0;for(v=0;v<w;v++)(64512&(x=g.charCodeAt(v)))==55296&&v+1<w&&(64512&(p=g.charCodeAt(v+1)))==56320&&(x=65536+(x-55296<<10)+(p-56320),v++),N+=x<128?1:x<2048?2:x<65536?3:4;for(y=o.uint8array?new Uint8Array(N):new Array(N),v=b=0;b<N;v++)(64512&(x=g.charCodeAt(v)))==55296&&v+1<w&&(64512&(p=g.charCodeAt(v+1)))==56320&&(x=65536+(x-55296<<10)+(p-56320),v++),x<128?y[b++]=x:(x<2048?y[b++]=192|x>>>6:(x<65536?y[b++]=224|x>>>12:(y[b++]=240|x>>>18,y[b++]=128|x>>>12&63),y[b++]=128|x>>>6&63),y[b++]=128|63&x);return y}(f)},i.utf8decode=function(f){return o.nodebuffer?s.transformTo("nodebuffer",f).toString("utf-8"):function(g){var y,x,p,v,b=g.length,w=new Array(2*b);for(y=x=0;y<b;)if((p=g[y++])<128)w[x++]=p;else if(4<(v=u[p]))w[x++]=65533,y+=v-1;else{for(p&=v===2?31:v===3?15:7;1<v&&y<b;)p=p<<6|63&g[y++],v--;1<v?w[x++]=65533:p<65536?w[x++]=p:(p-=65536,w[x++]=55296|p>>10&1023,w[x++]=56320|1023&p)}return w.length!==x&&(w.subarray?w=w.subarray(0,x):w.length=x),s.applyFromCharCode(w)}(f=s.transformTo(o.uint8array?"uint8array":"array",f))},s.inherits(h,l),h.prototype.processChunk=function(f){var g=s.transformTo(o.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var y=g;(g=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),g.set(y,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var x=function(v,b){var w;for((b=b||v.length)>v.length&&(b=v.length),w=b-1;0<=w&&(192&v[w])==128;)w--;return w<0||w===0?b:w+u[v[w]]>b?w:b}(g),p=g;x!==g.length&&(o.uint8array?(p=g.subarray(0,x),this.leftOver=g.subarray(x,g.length)):(p=g.slice(0,x),this.leftOver=g.slice(x,g.length))),this.push({data:i.utf8decode(p),meta:f.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=h,s.inherits(d,l),d.prototype.processChunk=function(f){this.push({data:i.utf8encode(f.data),meta:f.meta})},i.Utf8EncodeWorker=d},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var s=r("./support"),o=r("./base64"),a=r("./nodejsUtils"),l=r("./external");function u(y){return y}function c(y,x){for(var p=0;p<y.length;++p)x[p]=255&y.charCodeAt(p);return x}r("setimmediate"),i.newBlob=function(y,x){i.checkSupport("blob");try{return new Blob([y],{type:x})}catch{try{var p=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return p.append(y),p.getBlob(x)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(y,x,p){var v=[],b=0,w=y.length;if(w<=p)return String.fromCharCode.apply(null,y);for(;b<w;)x==="array"||x==="nodebuffer"?v.push(String.fromCharCode.apply(null,y.slice(b,Math.min(b+p,w)))):v.push(String.fromCharCode.apply(null,y.subarray(b,Math.min(b+p,w)))),b+=p;return v.join("")},stringifyByChar:function(y){for(var x="",p=0;p<y.length;p++)x+=String.fromCharCode(y[p]);return x},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function d(y){var x=65536,p=i.getTypeOf(y),v=!0;if(p==="uint8array"?v=h.applyCanBeUsed.uint8array:p==="nodebuffer"&&(v=h.applyCanBeUsed.nodebuffer),v)for(;1<x;)try{return h.stringifyByChunk(y,p,x)}catch{x=Math.floor(x/2)}return h.stringifyByChar(y)}function f(y,x){for(var p=0;p<y.length;p++)x[p]=y[p];return x}i.applyFromCharCode=d;var g={};g.string={string:u,array:function(y){return c(y,new Array(y.length))},arraybuffer:function(y){return g.string.uint8array(y).buffer},uint8array:function(y){return c(y,new Uint8Array(y.length))},nodebuffer:function(y){return c(y,a.allocBuffer(y.length))}},g.array={string:d,array:u,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return a.newBufferFrom(y)}},g.arraybuffer={string:function(y){return d(new Uint8Array(y))},array:function(y){return f(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:u,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return a.newBufferFrom(new Uint8Array(y))}},g.uint8array={string:d,array:function(y){return f(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:u,nodebuffer:function(y){return a.newBufferFrom(y)}},g.nodebuffer={string:d,array:function(y){return f(y,new Array(y.length))},arraybuffer:function(y){return g.nodebuffer.uint8array(y).buffer},uint8array:function(y){return f(y,new Uint8Array(y.length))},nodebuffer:u},i.transformTo=function(y,x){if(x=x||"",!y)return x;i.checkSupport(y);var p=i.getTypeOf(x);return g[p][y](x)},i.resolve=function(y){for(var x=y.split("/"),p=[],v=0;v<x.length;v++){var b=x[v];b==="."||b===""&&v!==0&&v!==x.length-1||(b===".."?p.pop():p.push(b))}return p.join("/")},i.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":s.nodebuffer&&a.isBuffer(y)?"nodebuffer":s.uint8array&&y instanceof Uint8Array?"uint8array":s.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(y){if(!s[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(y){var x,p,v="";for(p=0;p<(y||"").length;p++)v+="\\x"+((x=y.charCodeAt(p))<16?"0":"")+x.toString(16).toUpperCase();return v},i.delay=function(y,x,p){setImmediate(function(){y.apply(p||null,x||[])})},i.inherits=function(y,x){function p(){}p.prototype=x.prototype,y.prototype=new p},i.extend=function(){var y,x,p={};for(y=0;y<arguments.length;y++)for(x in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],x)&&p[x]===void 0&&(p[x]=arguments[y][x]);return p},i.prepareContent=function(y,x,p,v,b){return l.Promise.resolve(x).then(function(w){return s.blob&&(w instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(w))!==-1)&&typeof FileReader<"u"?new l.Promise(function(N,j){var F=new FileReader;F.onload=function(z){N(z.target.result)},F.onerror=function(z){j(z.target.error)},F.readAsArrayBuffer(w)}):w}).then(function(w){var N=i.getTypeOf(w);return N?(N==="arraybuffer"?w=i.transformTo("uint8array",w):N==="string"&&(b?w=o.decode(w):p&&v!==!0&&(w=function(j){return c(j,s.uint8array?new Uint8Array(j.length):new Array(j.length))}(w))),w):l.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var s=r("./reader/readerFor"),o=r("./utils"),a=r("./signature"),l=r("./zipEntry"),u=r("./support");function c(h){this.files=[],this.loadOptions=h}c.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var d=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(d)+", expected "+o.pretty(h)+")")}},isSignature:function(h,d){var f=this.reader.index;this.reader.setIndex(h);var g=this.reader.readString(4)===d;return this.reader.setIndex(f),g},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),d=u.uint8array?"uint8array":"array",f=o.transformTo(d,h);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,d,f,g=this.zip64EndOfCentralSize-44;0<g;)h=this.reader.readInt(2),d=this.reader.readInt(4),f=this.reader.readData(d),this.zip64ExtensibleData[h]={id:h,length:d,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,d;for(h=0;h<this.files.length;h++)d=this.files[h],this.reader.setIndex(d.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),d.readLocalPart(this.reader),d.handleUTF8(),d.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(h=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var d=h;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var g=d-f;if(0<g)this.isSignature(d,a.CENTRAL_FILE_HEADER)||(this.reader.zero=g);else if(g<0)throw new Error("Corrupted zip: missing "+Math.abs(g)+" bytes.")},prepareReader:function(h){this.reader=s(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var s=r("./reader/readerFor"),o=r("./utils"),a=r("./compressedObject"),l=r("./crc32"),u=r("./utf8"),c=r("./compressions"),h=r("./support");function d(f,g){this.options=f,this.loadOptions=g}d.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var g,y;if(f.skip(22),this.fileNameLength=f.readInt(2),y=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((g=function(x){for(var p in c)if(Object.prototype.hasOwnProperty.call(c,p)&&c[p].magic===x)return c[p];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,g,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var g=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(g),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var g,y,x,p=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<p;)g=f.readInt(2),y=f.readInt(2),x=f.readData(y),this.extraFields[g]={id:g,length:y,value:x};f.setIndex(p)},handleUTF8:function(){var f=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var y=o.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var x=this.findExtraFieldUnicodeComment();if(x!==null)this.fileCommentStr=x;else{var p=o.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(p)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var g=s(f.value);return g.readInt(1)!==1||l(this.fileName)!==g.readInt(4)?null:u.utf8decode(g.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var g=s(f.value);return g.readInt(1)!==1||l(this.fileComment)!==g.readInt(4)?null:u.utf8decode(g.readData(f.length-5))}return null}},n.exports=d},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function s(g,y,x){this.name=g,this.dir=x.dir,this.date=x.date,this.comment=x.comment,this.unixPermissions=x.unixPermissions,this.dosPermissions=x.dosPermissions,this._data=y,this._dataBinary=x.binary,this.options={compression:x.compression,compressionOptions:x.compressionOptions}}var o=r("./stream/StreamHelper"),a=r("./stream/DataWorker"),l=r("./utf8"),u=r("./compressedObject"),c=r("./stream/GenericWorker");s.prototype={internalStream:function(g){var y=null,x="string";try{if(!g)throw new Error("No output type specified.");var p=(x=g.toLowerCase())==="string"||x==="text";x!=="binarystring"&&x!=="text"||(x="string"),y=this._decompressWorker();var v=!this._dataBinary;v&&!p&&(y=y.pipe(new l.Utf8EncodeWorker)),!v&&p&&(y=y.pipe(new l.Utf8DecodeWorker))}catch(b){(y=new c("error")).error(b)}return new o(y,x,"")},async:function(g,y){return this.internalStream(g).accumulate(y)},nodeStream:function(g,y){return this.internalStream(g||"nodebuffer").toNodejsStream(y)},_compressWorker:function(g,y){if(this._data instanceof u&&this._data.compression.magic===g.magic)return this._data.getCompressedWorker();var x=this._decompressWorker();return this._dataBinary||(x=x.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(x,g,y)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof c?this._data:new a(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<h.length;f++)s.prototype[h[f]]=d;n.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(s){var o,a,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var u=0,c=new l(g),h=s.document.createTextNode("");c.observe(h,{characterData:!0}),o=function(){h.data=u=++u%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var y=s.document.createElement("script");y.onreadystatechange=function(){g(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},s.document.documentElement.appendChild(y)}:function(){setTimeout(g,0)};else{var d=new s.MessageChannel;d.port1.onmessage=g,o=function(){d.port2.postMessage(0)}}var f=[];function g(){var y,x;a=!0;for(var p=f.length;p;){for(x=f,f=[],y=-1;++y<p;)x[y]();p=f.length}a=!1}n.exports=function(y){f.push(y)!==1||a||o()}}).call(this,typeof Ps<"u"?Ps:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var s=r("immediate");function o(){}var a={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function h(p){if(typeof p!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,p!==o&&y(this,p)}function d(p,v,b){this.promise=p,typeof v=="function"&&(this.onFulfilled=v,this.callFulfilled=this.otherCallFulfilled),typeof b=="function"&&(this.onRejected=b,this.callRejected=this.otherCallRejected)}function f(p,v,b){s(function(){var w;try{w=v(b)}catch(N){return a.reject(p,N)}w===p?a.reject(p,new TypeError("Cannot resolve promise with itself")):a.resolve(p,w)})}function g(p){var v=p&&p.then;if(p&&(typeof p=="object"||typeof p=="function")&&typeof v=="function")return function(){v.apply(p,arguments)}}function y(p,v){var b=!1;function w(F){b||(b=!0,a.reject(p,F))}function N(F){b||(b=!0,a.resolve(p,F))}var j=x(function(){v(N,w)});j.status==="error"&&w(j.value)}function x(p,v){var b={};try{b.value=p(v),b.status="success"}catch(w){b.status="error",b.value=w}return b}(n.exports=h).prototype.finally=function(p){if(typeof p!="function")return this;var v=this.constructor;return this.then(function(b){return v.resolve(p()).then(function(){return b})},function(b){return v.resolve(p()).then(function(){throw b})})},h.prototype.catch=function(p){return this.then(null,p)},h.prototype.then=function(p,v){if(typeof p!="function"&&this.state===u||typeof v!="function"&&this.state===l)return this;var b=new this.constructor(o);return this.state!==c?f(b,this.state===u?p:v,this.outcome):this.queue.push(new d(b,p,v)),b},d.prototype.callFulfilled=function(p){a.resolve(this.promise,p)},d.prototype.otherCallFulfilled=function(p){f(this.promise,this.onFulfilled,p)},d.prototype.callRejected=function(p){a.reject(this.promise,p)},d.prototype.otherCallRejected=function(p){f(this.promise,this.onRejected,p)},a.resolve=function(p,v){var b=x(g,v);if(b.status==="error")return a.reject(p,b.value);var w=b.value;if(w)y(p,w);else{p.state=u,p.outcome=v;for(var N=-1,j=p.queue.length;++N<j;)p.queue[N].callFulfilled(v)}return p},a.reject=function(p,v){p.state=l,p.outcome=v;for(var b=-1,w=p.queue.length;++b<w;)p.queue[b].callRejected(v);return p},h.resolve=function(p){return p instanceof this?p:a.resolve(new this(o),p)},h.reject=function(p){var v=new this(o);return a.reject(v,p)},h.all=function(p){var v=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=p.length,w=!1;if(!b)return this.resolve([]);for(var N=new Array(b),j=0,F=-1,z=new this(o);++F<b;)T(p[F],F);return z;function T(Z,H){v.resolve(Z).then(function(L){N[H]=L,++j!==b||w||(w=!0,a.resolve(z,N))},function(L){w||(w=!0,a.reject(z,L))})}},h.race=function(p){var v=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=p.length,w=!1;if(!b)return this.resolve([]);for(var N=-1,j=new this(o);++N<b;)F=p[N],v.resolve(F).then(function(z){w||(w=!0,a.resolve(j,z))},function(z){w||(w=!0,a.reject(j,z))});var F;return j}},{immediate:36}],38:[function(r,n,i){var s={};(0,r("./lib/utils/common").assign)(s,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var s=r("./zlib/deflate"),o=r("./utils/common"),a=r("./utils/strings"),l=r("./zlib/messages"),u=r("./zlib/zstream"),c=Object.prototype.toString,h=0,d=-1,f=0,g=8;function y(p){if(!(this instanceof y))return new y(p);this.options=o.assign({level:d,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},p||{});var v=this.options;v.raw&&0<v.windowBits?v.windowBits=-v.windowBits:v.gzip&&0<v.windowBits&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var b=s.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(b!==h)throw new Error(l[b]);if(v.header&&s.deflateSetHeader(this.strm,v.header),v.dictionary){var w;if(w=typeof v.dictionary=="string"?a.string2buf(v.dictionary):c.call(v.dictionary)==="[object ArrayBuffer]"?new Uint8Array(v.dictionary):v.dictionary,(b=s.deflateSetDictionary(this.strm,w))!==h)throw new Error(l[b]);this._dict_set=!0}}function x(p,v){var b=new y(v);if(b.push(p,!0),b.err)throw b.msg||l[b.err];return b.result}y.prototype.push=function(p,v){var b,w,N=this.strm,j=this.options.chunkSize;if(this.ended)return!1;w=v===~~v?v:v===!0?4:0,typeof p=="string"?N.input=a.string2buf(p):c.call(p)==="[object ArrayBuffer]"?N.input=new Uint8Array(p):N.input=p,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new o.Buf8(j),N.next_out=0,N.avail_out=j),(b=s.deflate(N,w))!==1&&b!==h)return this.onEnd(b),!(this.ended=!0);N.avail_out!==0&&(N.avail_in!==0||w!==4&&w!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(N.output,N.next_out))):this.onData(o.shrinkBuf(N.output,N.next_out)))}while((0<N.avail_in||N.avail_out===0)&&b!==1);return w===4?(b=s.deflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===h):w!==2||(this.onEnd(h),!(N.avail_out=0))},y.prototype.onData=function(p){this.chunks.push(p)},y.prototype.onEnd=function(p){p===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},i.Deflate=y,i.deflate=x,i.deflateRaw=function(p,v){return(v=v||{}).raw=!0,x(p,v)},i.gzip=function(p,v){return(v=v||{}).gzip=!0,x(p,v)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var s=r("./zlib/inflate"),o=r("./utils/common"),a=r("./utils/strings"),l=r("./zlib/constants"),u=r("./zlib/messages"),c=r("./zlib/zstream"),h=r("./zlib/gzheader"),d=Object.prototype.toString;function f(y){if(!(this instanceof f))return new f(y);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},y||{});var x=this.options;x.raw&&0<=x.windowBits&&x.windowBits<16&&(x.windowBits=-x.windowBits,x.windowBits===0&&(x.windowBits=-15)),!(0<=x.windowBits&&x.windowBits<16)||y&&y.windowBits||(x.windowBits+=32),15<x.windowBits&&x.windowBits<48&&!(15&x.windowBits)&&(x.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var p=s.inflateInit2(this.strm,x.windowBits);if(p!==l.Z_OK)throw new Error(u[p]);this.header=new h,s.inflateGetHeader(this.strm,this.header)}function g(y,x){var p=new f(x);if(p.push(y,!0),p.err)throw p.msg||u[p.err];return p.result}f.prototype.push=function(y,x){var p,v,b,w,N,j,F=this.strm,z=this.options.chunkSize,T=this.options.dictionary,Z=!1;if(this.ended)return!1;v=x===~~x?x:x===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof y=="string"?F.input=a.binstring2buf(y):d.call(y)==="[object ArrayBuffer]"?F.input=new Uint8Array(y):F.input=y,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new o.Buf8(z),F.next_out=0,F.avail_out=z),(p=s.inflate(F,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&T&&(j=typeof T=="string"?a.string2buf(T):d.call(T)==="[object ArrayBuffer]"?new Uint8Array(T):T,p=s.inflateSetDictionary(this.strm,j)),p===l.Z_BUF_ERROR&&Z===!0&&(p=l.Z_OK,Z=!1),p!==l.Z_STREAM_END&&p!==l.Z_OK)return this.onEnd(p),!(this.ended=!0);F.next_out&&(F.avail_out!==0&&p!==l.Z_STREAM_END&&(F.avail_in!==0||v!==l.Z_FINISH&&v!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(b=a.utf8border(F.output,F.next_out),w=F.next_out-b,N=a.buf2string(F.output,b),F.next_out=w,F.avail_out=z-w,w&&o.arraySet(F.output,F.output,b,w,0),this.onData(N)):this.onData(o.shrinkBuf(F.output,F.next_out)))),F.avail_in===0&&F.avail_out===0&&(Z=!0)}while((0<F.avail_in||F.avail_out===0)&&p!==l.Z_STREAM_END);return p===l.Z_STREAM_END&&(v=l.Z_FINISH),v===l.Z_FINISH?(p=s.inflateEnd(this.strm),this.onEnd(p),this.ended=!0,p===l.Z_OK):v!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(F.avail_out=0))},f.prototype.onData=function(y){this.chunks.push(y)},f.prototype.onEnd=function(y){y===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Inflate=f,i.inflate=g,i.inflateRaw=function(y,x){return(x=x||{}).raw=!0,g(y,x)},i.ungzip=g},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var c=u.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var h in c)c.hasOwnProperty(h)&&(l[h]=c[h])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var o={arraySet:function(l,u,c,h,d){if(u.subarray&&l.subarray)l.set(u.subarray(c,c+h),d);else for(var f=0;f<h;f++)l[d+f]=u[c+f]},flattenChunks:function(l){var u,c,h,d,f,g;for(u=h=0,c=l.length;u<c;u++)h+=l[u].length;for(g=new Uint8Array(h),u=d=0,c=l.length;u<c;u++)f=l[u],g.set(f,d),d+=f.length;return g}},a={arraySet:function(l,u,c,h,d){for(var f=0;f<h;f++)l[d+f]=u[c+f]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(s)},{}],42:[function(r,n,i){var s=r("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new s.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function c(h,d){if(d<65537&&(h.subarray&&a||!h.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(h,d));for(var f="",g=0;g<d;g++)f+=String.fromCharCode(h[g]);return f}l[254]=l[254]=1,i.string2buf=function(h){var d,f,g,y,x,p=h.length,v=0;for(y=0;y<p;y++)(64512&(f=h.charCodeAt(y)))==55296&&y+1<p&&(64512&(g=h.charCodeAt(y+1)))==56320&&(f=65536+(f-55296<<10)+(g-56320),y++),v+=f<128?1:f<2048?2:f<65536?3:4;for(d=new s.Buf8(v),y=x=0;x<v;y++)(64512&(f=h.charCodeAt(y)))==55296&&y+1<p&&(64512&(g=h.charCodeAt(y+1)))==56320&&(f=65536+(f-55296<<10)+(g-56320),y++),f<128?d[x++]=f:(f<2048?d[x++]=192|f>>>6:(f<65536?d[x++]=224|f>>>12:(d[x++]=240|f>>>18,d[x++]=128|f>>>12&63),d[x++]=128|f>>>6&63),d[x++]=128|63&f);return d},i.buf2binstring=function(h){return c(h,h.length)},i.binstring2buf=function(h){for(var d=new s.Buf8(h.length),f=0,g=d.length;f<g;f++)d[f]=h.charCodeAt(f);return d},i.buf2string=function(h,d){var f,g,y,x,p=d||h.length,v=new Array(2*p);for(f=g=0;f<p;)if((y=h[f++])<128)v[g++]=y;else if(4<(x=l[y]))v[g++]=65533,f+=x-1;else{for(y&=x===2?31:x===3?15:7;1<x&&f<p;)y=y<<6|63&h[f++],x--;1<x?v[g++]=65533:y<65536?v[g++]=y:(y-=65536,v[g++]=55296|y>>10&1023,v[g++]=56320|1023&y)}return c(v,g)},i.utf8border=function(h,d){var f;for((d=d||h.length)>h.length&&(d=h.length),f=d-1;0<=f&&(192&h[f])==128;)f--;return f<0||f===0?d:f+l[h[f]]>d?f:d}},{"./common":41}],43:[function(r,n,i){n.exports=function(s,o,a,l){for(var u=65535&s|0,c=s>>>16&65535|0,h=0;a!==0;){for(a-=h=2e3<a?2e3:a;c=c+(u=u+o[l++]|0)|0,--h;);u%=65521,c%=65521}return u|c<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var s=function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a}();n.exports=function(o,a,l,u){var c=s,h=u+l;o^=-1;for(var d=u;d<h;d++)o=o>>>8^c[255&(o^a[d])];return-1^o}},{}],46:[function(r,n,i){var s,o=r("../utils/common"),a=r("./trees"),l=r("./adler32"),u=r("./crc32"),c=r("./messages"),h=0,d=4,f=0,g=-2,y=-1,x=4,p=2,v=8,b=9,w=286,N=30,j=19,F=2*w+1,z=15,T=3,Z=258,H=Z+T+1,L=42,U=113,A=1,ie=2,he=3,te=4;function re(M,W){return M.msg=c[W],W}function ae(M){return(M<<1)-(4<M?9:0)}function ve(M){for(var W=M.length;0<=--W;)M[W]=0}function le(M){var W=M.state,D=W.pending;D>M.avail_out&&(D=M.avail_out),D!==0&&(o.arraySet(M.output,W.pending_buf,W.pending_out,D,M.next_out),M.next_out+=D,W.pending_out+=D,M.total_out+=D,M.avail_out-=D,W.pending-=D,W.pending===0&&(W.pending_out=0))}function C(M,W){a._tr_flush_block(M,0<=M.block_start?M.block_start:-1,M.strstart-M.block_start,W),M.block_start=M.strstart,le(M.strm)}function q(M,W){M.pending_buf[M.pending++]=W}function $(M,W){M.pending_buf[M.pending++]=W>>>8&255,M.pending_buf[M.pending++]=255&W}function se(M,W){var D,k,_=M.max_chain_length,R=M.strstart,oe=M.prev_length,de=M.nice_match,fe=M.strstart>M.w_size-H?M.strstart-(M.w_size-H):0,Se=M.window,Ce=M.w_mask,Ne=M.prev,Oe=M.strstart+Z,We=Se[R+oe-1],Ve=Se[R+oe];M.prev_length>=M.good_match&&(_>>=2),de>M.lookahead&&(de=M.lookahead);do if(Se[(D=W)+oe]===Ve&&Se[D+oe-1]===We&&Se[D]===Se[R]&&Se[++D]===Se[R+1]){R+=2,D++;do;while(Se[++R]===Se[++D]&&Se[++R]===Se[++D]&&Se[++R]===Se[++D]&&Se[++R]===Se[++D]&&Se[++R]===Se[++D]&&Se[++R]===Se[++D]&&Se[++R]===Se[++D]&&Se[++R]===Se[++D]&&R<Oe);if(k=Z-(Oe-R),R=Oe-Z,oe<k){if(M.match_start=W,de<=(oe=k))break;We=Se[R+oe-1],Ve=Se[R+oe]}}while((W=Ne[W&Ce])>fe&&--_!=0);return oe<=M.lookahead?oe:M.lookahead}function J(M){var W,D,k,_,R,oe,de,fe,Se,Ce,Ne=M.w_size;do{if(_=M.window_size-M.lookahead-M.strstart,M.strstart>=Ne+(Ne-H)){for(o.arraySet(M.window,M.window,Ne,Ne,0),M.match_start-=Ne,M.strstart-=Ne,M.block_start-=Ne,W=D=M.hash_size;k=M.head[--W],M.head[W]=Ne<=k?k-Ne:0,--D;);for(W=D=Ne;k=M.prev[--W],M.prev[W]=Ne<=k?k-Ne:0,--D;);_+=Ne}if(M.strm.avail_in===0)break;if(oe=M.strm,de=M.window,fe=M.strstart+M.lookahead,Se=_,Ce=void 0,Ce=oe.avail_in,Se<Ce&&(Ce=Se),D=Ce===0?0:(oe.avail_in-=Ce,o.arraySet(de,oe.input,oe.next_in,Ce,fe),oe.state.wrap===1?oe.adler=l(oe.adler,de,Ce,fe):oe.state.wrap===2&&(oe.adler=u(oe.adler,de,Ce,fe)),oe.next_in+=Ce,oe.total_in+=Ce,Ce),M.lookahead+=D,M.lookahead+M.insert>=T)for(R=M.strstart-M.insert,M.ins_h=M.window[R],M.ins_h=(M.ins_h<<M.hash_shift^M.window[R+1])&M.hash_mask;M.insert&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[R+T-1])&M.hash_mask,M.prev[R&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=R,R++,M.insert--,!(M.lookahead+M.insert<T)););}while(M.lookahead<H&&M.strm.avail_in!==0)}function O(M,W){for(var D,k;;){if(M.lookahead<H){if(J(M),M.lookahead<H&&W===h)return A;if(M.lookahead===0)break}if(D=0,M.lookahead>=T&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+T-1])&M.hash_mask,D=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),D!==0&&M.strstart-D<=M.w_size-H&&(M.match_length=se(M,D)),M.match_length>=T)if(k=a._tr_tally(M,M.strstart-M.match_start,M.match_length-T),M.lookahead-=M.match_length,M.match_length<=M.max_lazy_match&&M.lookahead>=T){for(M.match_length--;M.strstart++,M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+T-1])&M.hash_mask,D=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart,--M.match_length!=0;);M.strstart++}else M.strstart+=M.match_length,M.match_length=0,M.ins_h=M.window[M.strstart],M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+1])&M.hash_mask;else k=a._tr_tally(M,0,M.window[M.strstart]),M.lookahead--,M.strstart++;if(k&&(C(M,!1),M.strm.avail_out===0))return A}return M.insert=M.strstart<T-1?M.strstart:T-1,W===d?(C(M,!0),M.strm.avail_out===0?he:te):M.last_lit&&(C(M,!1),M.strm.avail_out===0)?A:ie}function I(M,W){for(var D,k,_;;){if(M.lookahead<H){if(J(M),M.lookahead<H&&W===h)return A;if(M.lookahead===0)break}if(D=0,M.lookahead>=T&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+T-1])&M.hash_mask,D=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),M.prev_length=M.match_length,M.prev_match=M.match_start,M.match_length=T-1,D!==0&&M.prev_length<M.max_lazy_match&&M.strstart-D<=M.w_size-H&&(M.match_length=se(M,D),M.match_length<=5&&(M.strategy===1||M.match_length===T&&4096<M.strstart-M.match_start)&&(M.match_length=T-1)),M.prev_length>=T&&M.match_length<=M.prev_length){for(_=M.strstart+M.lookahead-T,k=a._tr_tally(M,M.strstart-1-M.prev_match,M.prev_length-T),M.lookahead-=M.prev_length-1,M.prev_length-=2;++M.strstart<=_&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+T-1])&M.hash_mask,D=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),--M.prev_length!=0;);if(M.match_available=0,M.match_length=T-1,M.strstart++,k&&(C(M,!1),M.strm.avail_out===0))return A}else if(M.match_available){if((k=a._tr_tally(M,0,M.window[M.strstart-1]))&&C(M,!1),M.strstart++,M.lookahead--,M.strm.avail_out===0)return A}else M.match_available=1,M.strstart++,M.lookahead--}return M.match_available&&(k=a._tr_tally(M,0,M.window[M.strstart-1]),M.match_available=0),M.insert=M.strstart<T-1?M.strstart:T-1,W===d?(C(M,!0),M.strm.avail_out===0?he:te):M.last_lit&&(C(M,!1),M.strm.avail_out===0)?A:ie}function Q(M,W,D,k,_){this.good_length=M,this.max_lazy=W,this.nice_length=D,this.max_chain=k,this.func=_}function Y(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*F),this.dyn_dtree=new o.Buf16(2*(2*N+1)),this.bl_tree=new o.Buf16(2*(2*j+1)),ve(this.dyn_ltree),ve(this.dyn_dtree),ve(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(z+1),this.heap=new o.Buf16(2*w+1),ve(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*w+1),ve(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function V(M){var W;return M&&M.state?(M.total_in=M.total_out=0,M.data_type=p,(W=M.state).pending=0,W.pending_out=0,W.wrap<0&&(W.wrap=-W.wrap),W.status=W.wrap?L:U,M.adler=W.wrap===2?0:1,W.last_flush=h,a._tr_init(W),f):re(M,g)}function X(M){var W=V(M);return W===f&&function(D){D.window_size=2*D.w_size,ve(D.head),D.max_lazy_match=s[D.level].max_lazy,D.good_match=s[D.level].good_length,D.nice_match=s[D.level].nice_length,D.max_chain_length=s[D.level].max_chain,D.strstart=0,D.block_start=0,D.lookahead=0,D.insert=0,D.match_length=D.prev_length=T-1,D.match_available=0,D.ins_h=0}(M.state),W}function ye(M,W,D,k,_,R){if(!M)return g;var oe=1;if(W===y&&(W=6),k<0?(oe=0,k=-k):15<k&&(oe=2,k-=16),_<1||b<_||D!==v||k<8||15<k||W<0||9<W||R<0||x<R)return re(M,g);k===8&&(k=9);var de=new Y;return(M.state=de).strm=M,de.wrap=oe,de.gzhead=null,de.w_bits=k,de.w_size=1<<de.w_bits,de.w_mask=de.w_size-1,de.hash_bits=_+7,de.hash_size=1<<de.hash_bits,de.hash_mask=de.hash_size-1,de.hash_shift=~~((de.hash_bits+T-1)/T),de.window=new o.Buf8(2*de.w_size),de.head=new o.Buf16(de.hash_size),de.prev=new o.Buf16(de.w_size),de.lit_bufsize=1<<_+6,de.pending_buf_size=4*de.lit_bufsize,de.pending_buf=new o.Buf8(de.pending_buf_size),de.d_buf=1*de.lit_bufsize,de.l_buf=3*de.lit_bufsize,de.level=W,de.strategy=R,de.method=D,X(M)}s=[new Q(0,0,0,0,function(M,W){var D=65535;for(D>M.pending_buf_size-5&&(D=M.pending_buf_size-5);;){if(M.lookahead<=1){if(J(M),M.lookahead===0&&W===h)return A;if(M.lookahead===0)break}M.strstart+=M.lookahead,M.lookahead=0;var k=M.block_start+D;if((M.strstart===0||M.strstart>=k)&&(M.lookahead=M.strstart-k,M.strstart=k,C(M,!1),M.strm.avail_out===0)||M.strstart-M.block_start>=M.w_size-H&&(C(M,!1),M.strm.avail_out===0))return A}return M.insert=0,W===d?(C(M,!0),M.strm.avail_out===0?he:te):(M.strstart>M.block_start&&(C(M,!1),M.strm.avail_out),A)}),new Q(4,4,8,4,O),new Q(4,5,16,8,O),new Q(4,6,32,32,O),new Q(4,4,16,16,I),new Q(8,16,32,32,I),new Q(8,16,128,128,I),new Q(8,32,128,256,I),new Q(32,128,258,1024,I),new Q(32,258,258,4096,I)],i.deflateInit=function(M,W){return ye(M,W,v,15,8,0)},i.deflateInit2=ye,i.deflateReset=X,i.deflateResetKeep=V,i.deflateSetHeader=function(M,W){return M&&M.state?M.state.wrap!==2?g:(M.state.gzhead=W,f):g},i.deflate=function(M,W){var D,k,_,R;if(!M||!M.state||5<W||W<0)return M?re(M,g):g;if(k=M.state,!M.output||!M.input&&M.avail_in!==0||k.status===666&&W!==d)return re(M,M.avail_out===0?-5:g);if(k.strm=M,D=k.last_flush,k.last_flush=W,k.status===L)if(k.wrap===2)M.adler=0,q(k,31),q(k,139),q(k,8),k.gzhead?(q(k,(k.gzhead.text?1:0)+(k.gzhead.hcrc?2:0)+(k.gzhead.extra?4:0)+(k.gzhead.name?8:0)+(k.gzhead.comment?16:0)),q(k,255&k.gzhead.time),q(k,k.gzhead.time>>8&255),q(k,k.gzhead.time>>16&255),q(k,k.gzhead.time>>24&255),q(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),q(k,255&k.gzhead.os),k.gzhead.extra&&k.gzhead.extra.length&&(q(k,255&k.gzhead.extra.length),q(k,k.gzhead.extra.length>>8&255)),k.gzhead.hcrc&&(M.adler=u(M.adler,k.pending_buf,k.pending,0)),k.gzindex=0,k.status=69):(q(k,0),q(k,0),q(k,0),q(k,0),q(k,0),q(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),q(k,3),k.status=U);else{var oe=v+(k.w_bits-8<<4)<<8;oe|=(2<=k.strategy||k.level<2?0:k.level<6?1:k.level===6?2:3)<<6,k.strstart!==0&&(oe|=32),oe+=31-oe%31,k.status=U,$(k,oe),k.strstart!==0&&($(k,M.adler>>>16),$(k,65535&M.adler)),M.adler=1}if(k.status===69)if(k.gzhead.extra){for(_=k.pending;k.gzindex<(65535&k.gzhead.extra.length)&&(k.pending!==k.pending_buf_size||(k.gzhead.hcrc&&k.pending>_&&(M.adler=u(M.adler,k.pending_buf,k.pending-_,_)),le(M),_=k.pending,k.pending!==k.pending_buf_size));)q(k,255&k.gzhead.extra[k.gzindex]),k.gzindex++;k.gzhead.hcrc&&k.pending>_&&(M.adler=u(M.adler,k.pending_buf,k.pending-_,_)),k.gzindex===k.gzhead.extra.length&&(k.gzindex=0,k.status=73)}else k.status=73;if(k.status===73)if(k.gzhead.name){_=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>_&&(M.adler=u(M.adler,k.pending_buf,k.pending-_,_)),le(M),_=k.pending,k.pending===k.pending_buf_size)){R=1;break}R=k.gzindex<k.gzhead.name.length?255&k.gzhead.name.charCodeAt(k.gzindex++):0,q(k,R)}while(R!==0);k.gzhead.hcrc&&k.pending>_&&(M.adler=u(M.adler,k.pending_buf,k.pending-_,_)),R===0&&(k.gzindex=0,k.status=91)}else k.status=91;if(k.status===91)if(k.gzhead.comment){_=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>_&&(M.adler=u(M.adler,k.pending_buf,k.pending-_,_)),le(M),_=k.pending,k.pending===k.pending_buf_size)){R=1;break}R=k.gzindex<k.gzhead.comment.length?255&k.gzhead.comment.charCodeAt(k.gzindex++):0,q(k,R)}while(R!==0);k.gzhead.hcrc&&k.pending>_&&(M.adler=u(M.adler,k.pending_buf,k.pending-_,_)),R===0&&(k.status=103)}else k.status=103;if(k.status===103&&(k.gzhead.hcrc?(k.pending+2>k.pending_buf_size&&le(M),k.pending+2<=k.pending_buf_size&&(q(k,255&M.adler),q(k,M.adler>>8&255),M.adler=0,k.status=U)):k.status=U),k.pending!==0){if(le(M),M.avail_out===0)return k.last_flush=-1,f}else if(M.avail_in===0&&ae(W)<=ae(D)&&W!==d)return re(M,-5);if(k.status===666&&M.avail_in!==0)return re(M,-5);if(M.avail_in!==0||k.lookahead!==0||W!==h&&k.status!==666){var de=k.strategy===2?function(fe,Se){for(var Ce;;){if(fe.lookahead===0&&(J(fe),fe.lookahead===0)){if(Se===h)return A;break}if(fe.match_length=0,Ce=a._tr_tally(fe,0,fe.window[fe.strstart]),fe.lookahead--,fe.strstart++,Ce&&(C(fe,!1),fe.strm.avail_out===0))return A}return fe.insert=0,Se===d?(C(fe,!0),fe.strm.avail_out===0?he:te):fe.last_lit&&(C(fe,!1),fe.strm.avail_out===0)?A:ie}(k,W):k.strategy===3?function(fe,Se){for(var Ce,Ne,Oe,We,Ve=fe.window;;){if(fe.lookahead<=Z){if(J(fe),fe.lookahead<=Z&&Se===h)return A;if(fe.lookahead===0)break}if(fe.match_length=0,fe.lookahead>=T&&0<fe.strstart&&(Ne=Ve[Oe=fe.strstart-1])===Ve[++Oe]&&Ne===Ve[++Oe]&&Ne===Ve[++Oe]){We=fe.strstart+Z;do;while(Ne===Ve[++Oe]&&Ne===Ve[++Oe]&&Ne===Ve[++Oe]&&Ne===Ve[++Oe]&&Ne===Ve[++Oe]&&Ne===Ve[++Oe]&&Ne===Ve[++Oe]&&Ne===Ve[++Oe]&&Oe<We);fe.match_length=Z-(We-Oe),fe.match_length>fe.lookahead&&(fe.match_length=fe.lookahead)}if(fe.match_length>=T?(Ce=a._tr_tally(fe,1,fe.match_length-T),fe.lookahead-=fe.match_length,fe.strstart+=fe.match_length,fe.match_length=0):(Ce=a._tr_tally(fe,0,fe.window[fe.strstart]),fe.lookahead--,fe.strstart++),Ce&&(C(fe,!1),fe.strm.avail_out===0))return A}return fe.insert=0,Se===d?(C(fe,!0),fe.strm.avail_out===0?he:te):fe.last_lit&&(C(fe,!1),fe.strm.avail_out===0)?A:ie}(k,W):s[k.level].func(k,W);if(de!==he&&de!==te||(k.status=666),de===A||de===he)return M.avail_out===0&&(k.last_flush=-1),f;if(de===ie&&(W===1?a._tr_align(k):W!==5&&(a._tr_stored_block(k,0,0,!1),W===3&&(ve(k.head),k.lookahead===0&&(k.strstart=0,k.block_start=0,k.insert=0))),le(M),M.avail_out===0))return k.last_flush=-1,f}return W!==d?f:k.wrap<=0?1:(k.wrap===2?(q(k,255&M.adler),q(k,M.adler>>8&255),q(k,M.adler>>16&255),q(k,M.adler>>24&255),q(k,255&M.total_in),q(k,M.total_in>>8&255),q(k,M.total_in>>16&255),q(k,M.total_in>>24&255)):($(k,M.adler>>>16),$(k,65535&M.adler)),le(M),0<k.wrap&&(k.wrap=-k.wrap),k.pending!==0?f:1)},i.deflateEnd=function(M){var W;return M&&M.state?(W=M.state.status)!==L&&W!==69&&W!==73&&W!==91&&W!==103&&W!==U&&W!==666?re(M,g):(M.state=null,W===U?re(M,-3):f):g},i.deflateSetDictionary=function(M,W){var D,k,_,R,oe,de,fe,Se,Ce=W.length;if(!M||!M.state||(R=(D=M.state).wrap)===2||R===1&&D.status!==L||D.lookahead)return g;for(R===1&&(M.adler=l(M.adler,W,Ce,0)),D.wrap=0,Ce>=D.w_size&&(R===0&&(ve(D.head),D.strstart=0,D.block_start=0,D.insert=0),Se=new o.Buf8(D.w_size),o.arraySet(Se,W,Ce-D.w_size,D.w_size,0),W=Se,Ce=D.w_size),oe=M.avail_in,de=M.next_in,fe=M.input,M.avail_in=Ce,M.next_in=0,M.input=W,J(D);D.lookahead>=T;){for(k=D.strstart,_=D.lookahead-(T-1);D.ins_h=(D.ins_h<<D.hash_shift^D.window[k+T-1])&D.hash_mask,D.prev[k&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=k,k++,--_;);D.strstart=k,D.lookahead=T-1,J(D)}return D.strstart+=D.lookahead,D.block_start=D.strstart,D.insert=D.lookahead,D.lookahead=0,D.match_length=D.prev_length=T-1,D.match_available=0,M.next_in=de,M.input=fe,M.avail_in=oe,D.wrap=R,f},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(s,o){var a,l,u,c,h,d,f,g,y,x,p,v,b,w,N,j,F,z,T,Z,H,L,U,A,ie;a=s.state,l=s.next_in,A=s.input,u=l+(s.avail_in-5),c=s.next_out,ie=s.output,h=c-(o-s.avail_out),d=c+(s.avail_out-257),f=a.dmax,g=a.wsize,y=a.whave,x=a.wnext,p=a.window,v=a.hold,b=a.bits,w=a.lencode,N=a.distcode,j=(1<<a.lenbits)-1,F=(1<<a.distbits)-1;e:do{b<15&&(v+=A[l++]<<b,b+=8,v+=A[l++]<<b,b+=8),z=w[v&j];t:for(;;){if(v>>>=T=z>>>24,b-=T,(T=z>>>16&255)===0)ie[c++]=65535&z;else{if(!(16&T)){if(!(64&T)){z=w[(65535&z)+(v&(1<<T)-1)];continue t}if(32&T){a.mode=12;break e}s.msg="invalid literal/length code",a.mode=30;break e}Z=65535&z,(T&=15)&&(b<T&&(v+=A[l++]<<b,b+=8),Z+=v&(1<<T)-1,v>>>=T,b-=T),b<15&&(v+=A[l++]<<b,b+=8,v+=A[l++]<<b,b+=8),z=N[v&F];r:for(;;){if(v>>>=T=z>>>24,b-=T,!(16&(T=z>>>16&255))){if(!(64&T)){z=N[(65535&z)+(v&(1<<T)-1)];continue r}s.msg="invalid distance code",a.mode=30;break e}if(H=65535&z,b<(T&=15)&&(v+=A[l++]<<b,(b+=8)<T&&(v+=A[l++]<<b,b+=8)),f<(H+=v&(1<<T)-1)){s.msg="invalid distance too far back",a.mode=30;break e}if(v>>>=T,b-=T,(T=c-h)<H){if(y<(T=H-T)&&a.sane){s.msg="invalid distance too far back",a.mode=30;break e}if(U=p,(L=0)===x){if(L+=g-T,T<Z){for(Z-=T;ie[c++]=p[L++],--T;);L=c-H,U=ie}}else if(x<T){if(L+=g+x-T,(T-=x)<Z){for(Z-=T;ie[c++]=p[L++],--T;);if(L=0,x<Z){for(Z-=T=x;ie[c++]=p[L++],--T;);L=c-H,U=ie}}}else if(L+=x-T,T<Z){for(Z-=T;ie[c++]=p[L++],--T;);L=c-H,U=ie}for(;2<Z;)ie[c++]=U[L++],ie[c++]=U[L++],ie[c++]=U[L++],Z-=3;Z&&(ie[c++]=U[L++],1<Z&&(ie[c++]=U[L++]))}else{for(L=c-H;ie[c++]=ie[L++],ie[c++]=ie[L++],ie[c++]=ie[L++],2<(Z-=3););Z&&(ie[c++]=ie[L++],1<Z&&(ie[c++]=ie[L++]))}break}}break}}while(l<u&&c<d);l-=Z=b>>3,v&=(1<<(b-=Z<<3))-1,s.next_in=l,s.next_out=c,s.avail_in=l<u?u-l+5:5-(l-u),s.avail_out=c<d?d-c+257:257-(c-d),a.hold=v,a.bits=b}},{}],49:[function(r,n,i){var s=r("../utils/common"),o=r("./adler32"),a=r("./crc32"),l=r("./inffast"),u=r("./inftrees"),c=1,h=2,d=0,f=-2,g=1,y=852,x=592;function p(L){return(L>>>24&255)+(L>>>8&65280)+((65280&L)<<8)+((255&L)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b(L){var U;return L&&L.state?(U=L.state,L.total_in=L.total_out=U.total=0,L.msg="",U.wrap&&(L.adler=1&U.wrap),U.mode=g,U.last=0,U.havedict=0,U.dmax=32768,U.head=null,U.hold=0,U.bits=0,U.lencode=U.lendyn=new s.Buf32(y),U.distcode=U.distdyn=new s.Buf32(x),U.sane=1,U.back=-1,d):f}function w(L){var U;return L&&L.state?((U=L.state).wsize=0,U.whave=0,U.wnext=0,b(L)):f}function N(L,U){var A,ie;return L&&L.state?(ie=L.state,U<0?(A=0,U=-U):(A=1+(U>>4),U<48&&(U&=15)),U&&(U<8||15<U)?f:(ie.window!==null&&ie.wbits!==U&&(ie.window=null),ie.wrap=A,ie.wbits=U,w(L))):f}function j(L,U){var A,ie;return L?(ie=new v,(L.state=ie).window=null,(A=N(L,U))!==d&&(L.state=null),A):f}var F,z,T=!0;function Z(L){if(T){var U;for(F=new s.Buf32(512),z=new s.Buf32(32),U=0;U<144;)L.lens[U++]=8;for(;U<256;)L.lens[U++]=9;for(;U<280;)L.lens[U++]=7;for(;U<288;)L.lens[U++]=8;for(u(c,L.lens,0,288,F,0,L.work,{bits:9}),U=0;U<32;)L.lens[U++]=5;u(h,L.lens,0,32,z,0,L.work,{bits:5}),T=!1}L.lencode=F,L.lenbits=9,L.distcode=z,L.distbits=5}function H(L,U,A,ie){var he,te=L.state;return te.window===null&&(te.wsize=1<<te.wbits,te.wnext=0,te.whave=0,te.window=new s.Buf8(te.wsize)),ie>=te.wsize?(s.arraySet(te.window,U,A-te.wsize,te.wsize,0),te.wnext=0,te.whave=te.wsize):(ie<(he=te.wsize-te.wnext)&&(he=ie),s.arraySet(te.window,U,A-ie,he,te.wnext),(ie-=he)?(s.arraySet(te.window,U,A-ie,ie,0),te.wnext=ie,te.whave=te.wsize):(te.wnext+=he,te.wnext===te.wsize&&(te.wnext=0),te.whave<te.wsize&&(te.whave+=he))),0}i.inflateReset=w,i.inflateReset2=N,i.inflateResetKeep=b,i.inflateInit=function(L){return j(L,15)},i.inflateInit2=j,i.inflate=function(L,U){var A,ie,he,te,re,ae,ve,le,C,q,$,se,J,O,I,Q,Y,V,X,ye,M,W,D,k,_=0,R=new s.Buf8(4),oe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!L||!L.state||!L.output||!L.input&&L.avail_in!==0)return f;(A=L.state).mode===12&&(A.mode=13),re=L.next_out,he=L.output,ve=L.avail_out,te=L.next_in,ie=L.input,ae=L.avail_in,le=A.hold,C=A.bits,q=ae,$=ve,W=d;e:for(;;)switch(A.mode){case g:if(A.wrap===0){A.mode=13;break}for(;C<16;){if(ae===0)break e;ae--,le+=ie[te++]<<C,C+=8}if(2&A.wrap&&le===35615){R[A.check=0]=255&le,R[1]=le>>>8&255,A.check=a(A.check,R,2,0),C=le=0,A.mode=2;break}if(A.flags=0,A.head&&(A.head.done=!1),!(1&A.wrap)||(((255&le)<<8)+(le>>8))%31){L.msg="incorrect header check",A.mode=30;break}if((15&le)!=8){L.msg="unknown compression method",A.mode=30;break}if(C-=4,M=8+(15&(le>>>=4)),A.wbits===0)A.wbits=M;else if(M>A.wbits){L.msg="invalid window size",A.mode=30;break}A.dmax=1<<M,L.adler=A.check=1,A.mode=512&le?10:12,C=le=0;break;case 2:for(;C<16;){if(ae===0)break e;ae--,le+=ie[te++]<<C,C+=8}if(A.flags=le,(255&A.flags)!=8){L.msg="unknown compression method",A.mode=30;break}if(57344&A.flags){L.msg="unknown header flags set",A.mode=30;break}A.head&&(A.head.text=le>>8&1),512&A.flags&&(R[0]=255&le,R[1]=le>>>8&255,A.check=a(A.check,R,2,0)),C=le=0,A.mode=3;case 3:for(;C<32;){if(ae===0)break e;ae--,le+=ie[te++]<<C,C+=8}A.head&&(A.head.time=le),512&A.flags&&(R[0]=255&le,R[1]=le>>>8&255,R[2]=le>>>16&255,R[3]=le>>>24&255,A.check=a(A.check,R,4,0)),C=le=0,A.mode=4;case 4:for(;C<16;){if(ae===0)break e;ae--,le+=ie[te++]<<C,C+=8}A.head&&(A.head.xflags=255&le,A.head.os=le>>8),512&A.flags&&(R[0]=255&le,R[1]=le>>>8&255,A.check=a(A.check,R,2,0)),C=le=0,A.mode=5;case 5:if(1024&A.flags){for(;C<16;){if(ae===0)break e;ae--,le+=ie[te++]<<C,C+=8}A.length=le,A.head&&(A.head.extra_len=le),512&A.flags&&(R[0]=255&le,R[1]=le>>>8&255,A.check=a(A.check,R,2,0)),C=le=0}else A.head&&(A.head.extra=null);A.mode=6;case 6:if(1024&A.flags&&(ae<(se=A.length)&&(se=ae),se&&(A.head&&(M=A.head.extra_len-A.length,A.head.extra||(A.head.extra=new Array(A.head.extra_len)),s.arraySet(A.head.extra,ie,te,se,M)),512&A.flags&&(A.check=a(A.check,ie,se,te)),ae-=se,te+=se,A.length-=se),A.length))break e;A.length=0,A.mode=7;case 7:if(2048&A.flags){if(ae===0)break e;for(se=0;M=ie[te+se++],A.head&&M&&A.length<65536&&(A.head.name+=String.fromCharCode(M)),M&&se<ae;);if(512&A.flags&&(A.check=a(A.check,ie,se,te)),ae-=se,te+=se,M)break e}else A.head&&(A.head.name=null);A.length=0,A.mode=8;case 8:if(4096&A.flags){if(ae===0)break e;for(se=0;M=ie[te+se++],A.head&&M&&A.length<65536&&(A.head.comment+=String.fromCharCode(M)),M&&se<ae;);if(512&A.flags&&(A.check=a(A.check,ie,se,te)),ae-=se,te+=se,M)break e}else A.head&&(A.head.comment=null);A.mode=9;case 9:if(512&A.flags){for(;C<16;){if(ae===0)break e;ae--,le+=ie[te++]<<C,C+=8}if(le!==(65535&A.check)){L.msg="header crc mismatch",A.mode=30;break}C=le=0}A.head&&(A.head.hcrc=A.flags>>9&1,A.head.done=!0),L.adler=A.check=0,A.mode=12;break;case 10:for(;C<32;){if(ae===0)break e;ae--,le+=ie[te++]<<C,C+=8}L.adler=A.check=p(le),C=le=0,A.mode=11;case 11:if(A.havedict===0)return L.next_out=re,L.avail_out=ve,L.next_in=te,L.avail_in=ae,A.hold=le,A.bits=C,2;L.adler=A.check=1,A.mode=12;case 12:if(U===5||U===6)break e;case 13:if(A.last){le>>>=7&C,C-=7&C,A.mode=27;break}for(;C<3;){if(ae===0)break e;ae--,le+=ie[te++]<<C,C+=8}switch(A.last=1&le,C-=1,3&(le>>>=1)){case 0:A.mode=14;break;case 1:if(Z(A),A.mode=20,U!==6)break;le>>>=2,C-=2;break e;case 2:A.mode=17;break;case 3:L.msg="invalid block type",A.mode=30}le>>>=2,C-=2;break;case 14:for(le>>>=7&C,C-=7&C;C<32;){if(ae===0)break e;ae--,le+=ie[te++]<<C,C+=8}if((65535&le)!=(le>>>16^65535)){L.msg="invalid stored block lengths",A.mode=30;break}if(A.length=65535&le,C=le=0,A.mode=15,U===6)break e;case 15:A.mode=16;case 16:if(se=A.length){if(ae<se&&(se=ae),ve<se&&(se=ve),se===0)break e;s.arraySet(he,ie,te,se,re),ae-=se,te+=se,ve-=se,re+=se,A.length-=se;break}A.mode=12;break;case 17:for(;C<14;){if(ae===0)break e;ae--,le+=ie[te++]<<C,C+=8}if(A.nlen=257+(31&le),le>>>=5,C-=5,A.ndist=1+(31&le),le>>>=5,C-=5,A.ncode=4+(15&le),le>>>=4,C-=4,286<A.nlen||30<A.ndist){L.msg="too many length or distance symbols",A.mode=30;break}A.have=0,A.mode=18;case 18:for(;A.have<A.ncode;){for(;C<3;){if(ae===0)break e;ae--,le+=ie[te++]<<C,C+=8}A.lens[oe[A.have++]]=7&le,le>>>=3,C-=3}for(;A.have<19;)A.lens[oe[A.have++]]=0;if(A.lencode=A.lendyn,A.lenbits=7,D={bits:A.lenbits},W=u(0,A.lens,0,19,A.lencode,0,A.work,D),A.lenbits=D.bits,W){L.msg="invalid code lengths set",A.mode=30;break}A.have=0,A.mode=19;case 19:for(;A.have<A.nlen+A.ndist;){for(;Q=(_=A.lencode[le&(1<<A.lenbits)-1])>>>16&255,Y=65535&_,!((I=_>>>24)<=C);){if(ae===0)break e;ae--,le+=ie[te++]<<C,C+=8}if(Y<16)le>>>=I,C-=I,A.lens[A.have++]=Y;else{if(Y===16){for(k=I+2;C<k;){if(ae===0)break e;ae--,le+=ie[te++]<<C,C+=8}if(le>>>=I,C-=I,A.have===0){L.msg="invalid bit length repeat",A.mode=30;break}M=A.lens[A.have-1],se=3+(3&le),le>>>=2,C-=2}else if(Y===17){for(k=I+3;C<k;){if(ae===0)break e;ae--,le+=ie[te++]<<C,C+=8}C-=I,M=0,se=3+(7&(le>>>=I)),le>>>=3,C-=3}else{for(k=I+7;C<k;){if(ae===0)break e;ae--,le+=ie[te++]<<C,C+=8}C-=I,M=0,se=11+(127&(le>>>=I)),le>>>=7,C-=7}if(A.have+se>A.nlen+A.ndist){L.msg="invalid bit length repeat",A.mode=30;break}for(;se--;)A.lens[A.have++]=M}}if(A.mode===30)break;if(A.lens[256]===0){L.msg="invalid code -- missing end-of-block",A.mode=30;break}if(A.lenbits=9,D={bits:A.lenbits},W=u(c,A.lens,0,A.nlen,A.lencode,0,A.work,D),A.lenbits=D.bits,W){L.msg="invalid literal/lengths set",A.mode=30;break}if(A.distbits=6,A.distcode=A.distdyn,D={bits:A.distbits},W=u(h,A.lens,A.nlen,A.ndist,A.distcode,0,A.work,D),A.distbits=D.bits,W){L.msg="invalid distances set",A.mode=30;break}if(A.mode=20,U===6)break e;case 20:A.mode=21;case 21:if(6<=ae&&258<=ve){L.next_out=re,L.avail_out=ve,L.next_in=te,L.avail_in=ae,A.hold=le,A.bits=C,l(L,$),re=L.next_out,he=L.output,ve=L.avail_out,te=L.next_in,ie=L.input,ae=L.avail_in,le=A.hold,C=A.bits,A.mode===12&&(A.back=-1);break}for(A.back=0;Q=(_=A.lencode[le&(1<<A.lenbits)-1])>>>16&255,Y=65535&_,!((I=_>>>24)<=C);){if(ae===0)break e;ae--,le+=ie[te++]<<C,C+=8}if(Q&&!(240&Q)){for(V=I,X=Q,ye=Y;Q=(_=A.lencode[ye+((le&(1<<V+X)-1)>>V)])>>>16&255,Y=65535&_,!(V+(I=_>>>24)<=C);){if(ae===0)break e;ae--,le+=ie[te++]<<C,C+=8}le>>>=V,C-=V,A.back+=V}if(le>>>=I,C-=I,A.back+=I,A.length=Y,Q===0){A.mode=26;break}if(32&Q){A.back=-1,A.mode=12;break}if(64&Q){L.msg="invalid literal/length code",A.mode=30;break}A.extra=15&Q,A.mode=22;case 22:if(A.extra){for(k=A.extra;C<k;){if(ae===0)break e;ae--,le+=ie[te++]<<C,C+=8}A.length+=le&(1<<A.extra)-1,le>>>=A.extra,C-=A.extra,A.back+=A.extra}A.was=A.length,A.mode=23;case 23:for(;Q=(_=A.distcode[le&(1<<A.distbits)-1])>>>16&255,Y=65535&_,!((I=_>>>24)<=C);){if(ae===0)break e;ae--,le+=ie[te++]<<C,C+=8}if(!(240&Q)){for(V=I,X=Q,ye=Y;Q=(_=A.distcode[ye+((le&(1<<V+X)-1)>>V)])>>>16&255,Y=65535&_,!(V+(I=_>>>24)<=C);){if(ae===0)break e;ae--,le+=ie[te++]<<C,C+=8}le>>>=V,C-=V,A.back+=V}if(le>>>=I,C-=I,A.back+=I,64&Q){L.msg="invalid distance code",A.mode=30;break}A.offset=Y,A.extra=15&Q,A.mode=24;case 24:if(A.extra){for(k=A.extra;C<k;){if(ae===0)break e;ae--,le+=ie[te++]<<C,C+=8}A.offset+=le&(1<<A.extra)-1,le>>>=A.extra,C-=A.extra,A.back+=A.extra}if(A.offset>A.dmax){L.msg="invalid distance too far back",A.mode=30;break}A.mode=25;case 25:if(ve===0)break e;if(se=$-ve,A.offset>se){if((se=A.offset-se)>A.whave&&A.sane){L.msg="invalid distance too far back",A.mode=30;break}J=se>A.wnext?(se-=A.wnext,A.wsize-se):A.wnext-se,se>A.length&&(se=A.length),O=A.window}else O=he,J=re-A.offset,se=A.length;for(ve<se&&(se=ve),ve-=se,A.length-=se;he[re++]=O[J++],--se;);A.length===0&&(A.mode=21);break;case 26:if(ve===0)break e;he[re++]=A.length,ve--,A.mode=21;break;case 27:if(A.wrap){for(;C<32;){if(ae===0)break e;ae--,le|=ie[te++]<<C,C+=8}if($-=ve,L.total_out+=$,A.total+=$,$&&(L.adler=A.check=A.flags?a(A.check,he,$,re-$):o(A.check,he,$,re-$)),$=ve,(A.flags?le:p(le))!==A.check){L.msg="incorrect data check",A.mode=30;break}C=le=0}A.mode=28;case 28:if(A.wrap&&A.flags){for(;C<32;){if(ae===0)break e;ae--,le+=ie[te++]<<C,C+=8}if(le!==(4294967295&A.total)){L.msg="incorrect length check",A.mode=30;break}C=le=0}A.mode=29;case 29:W=1;break e;case 30:W=-3;break e;case 31:return-4;case 32:default:return f}return L.next_out=re,L.avail_out=ve,L.next_in=te,L.avail_in=ae,A.hold=le,A.bits=C,(A.wsize||$!==L.avail_out&&A.mode<30&&(A.mode<27||U!==4))&&H(L,L.output,L.next_out,$-L.avail_out)?(A.mode=31,-4):(q-=L.avail_in,$-=L.avail_out,L.total_in+=q,L.total_out+=$,A.total+=$,A.wrap&&$&&(L.adler=A.check=A.flags?a(A.check,he,$,L.next_out-$):o(A.check,he,$,L.next_out-$)),L.data_type=A.bits+(A.last?64:0)+(A.mode===12?128:0)+(A.mode===20||A.mode===15?256:0),(q==0&&$===0||U===4)&&W===d&&(W=-5),W)},i.inflateEnd=function(L){if(!L||!L.state)return f;var U=L.state;return U.window&&(U.window=null),L.state=null,d},i.inflateGetHeader=function(L,U){var A;return L&&L.state&&2&(A=L.state).wrap?((A.head=U).done=!1,d):f},i.inflateSetDictionary=function(L,U){var A,ie=U.length;return L&&L.state?(A=L.state).wrap!==0&&A.mode!==11?f:A.mode===11&&o(1,U,ie,0)!==A.check?-3:H(L,U,ie,ie)?(A.mode=31,-4):(A.havedict=1,d):f},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var s=r("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(c,h,d,f,g,y,x,p){var v,b,w,N,j,F,z,T,Z,H=p.bits,L=0,U=0,A=0,ie=0,he=0,te=0,re=0,ae=0,ve=0,le=0,C=null,q=0,$=new s.Buf16(16),se=new s.Buf16(16),J=null,O=0;for(L=0;L<=15;L++)$[L]=0;for(U=0;U<f;U++)$[h[d+U]]++;for(he=H,ie=15;1<=ie&&$[ie]===0;ie--);if(ie<he&&(he=ie),ie===0)return g[y++]=20971520,g[y++]=20971520,p.bits=1,0;for(A=1;A<ie&&$[A]===0;A++);for(he<A&&(he=A),L=ae=1;L<=15;L++)if(ae<<=1,(ae-=$[L])<0)return-1;if(0<ae&&(c===0||ie!==1))return-1;for(se[1]=0,L=1;L<15;L++)se[L+1]=se[L]+$[L];for(U=0;U<f;U++)h[d+U]!==0&&(x[se[h[d+U]]++]=U);if(F=c===0?(C=J=x,19):c===1?(C=o,q-=257,J=a,O-=257,256):(C=l,J=u,-1),L=A,j=y,re=U=le=0,w=-1,N=(ve=1<<(te=he))-1,c===1&&852<ve||c===2&&592<ve)return 1;for(;;){for(z=L-re,Z=x[U]<F?(T=0,x[U]):x[U]>F?(T=J[O+x[U]],C[q+x[U]]):(T=96,0),v=1<<L-re,A=b=1<<te;g[j+(le>>re)+(b-=v)]=z<<24|T<<16|Z|0,b!==0;);for(v=1<<L-1;le&v;)v>>=1;if(v!==0?(le&=v-1,le+=v):le=0,U++,--$[L]==0){if(L===ie)break;L=h[d+x[U]]}if(he<L&&(le&N)!==w){for(re===0&&(re=he),j+=A,ae=1<<(te=L-re);te+re<ie&&!((ae-=$[te+re])<=0);)te++,ae<<=1;if(ve+=1<<te,c===1&&852<ve||c===2&&592<ve)return 1;g[w=le&N]=he<<24|te<<16|j-y|0}}return le!==0&&(g[j+le]=L-re<<24|64<<16|0),p.bits=he,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var s=r("../utils/common"),o=0,a=1;function l(_){for(var R=_.length;0<=--R;)_[R]=0}var u=0,c=29,h=256,d=h+1+c,f=30,g=19,y=2*d+1,x=15,p=16,v=7,b=256,w=16,N=17,j=18,F=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],H=new Array(2*(d+2));l(H);var L=new Array(2*f);l(L);var U=new Array(512);l(U);var A=new Array(256);l(A);var ie=new Array(c);l(ie);var he,te,re,ae=new Array(f);function ve(_,R,oe,de,fe){this.static_tree=_,this.extra_bits=R,this.extra_base=oe,this.elems=de,this.max_length=fe,this.has_stree=_&&_.length}function le(_,R){this.dyn_tree=_,this.max_code=0,this.stat_desc=R}function C(_){return _<256?U[_]:U[256+(_>>>7)]}function q(_,R){_.pending_buf[_.pending++]=255&R,_.pending_buf[_.pending++]=R>>>8&255}function $(_,R,oe){_.bi_valid>p-oe?(_.bi_buf|=R<<_.bi_valid&65535,q(_,_.bi_buf),_.bi_buf=R>>p-_.bi_valid,_.bi_valid+=oe-p):(_.bi_buf|=R<<_.bi_valid&65535,_.bi_valid+=oe)}function se(_,R,oe){$(_,oe[2*R],oe[2*R+1])}function J(_,R){for(var oe=0;oe|=1&_,_>>>=1,oe<<=1,0<--R;);return oe>>>1}function O(_,R,oe){var de,fe,Se=new Array(x+1),Ce=0;for(de=1;de<=x;de++)Se[de]=Ce=Ce+oe[de-1]<<1;for(fe=0;fe<=R;fe++){var Ne=_[2*fe+1];Ne!==0&&(_[2*fe]=J(Se[Ne]++,Ne))}}function I(_){var R;for(R=0;R<d;R++)_.dyn_ltree[2*R]=0;for(R=0;R<f;R++)_.dyn_dtree[2*R]=0;for(R=0;R<g;R++)_.bl_tree[2*R]=0;_.dyn_ltree[2*b]=1,_.opt_len=_.static_len=0,_.last_lit=_.matches=0}function Q(_){8<_.bi_valid?q(_,_.bi_buf):0<_.bi_valid&&(_.pending_buf[_.pending++]=_.bi_buf),_.bi_buf=0,_.bi_valid=0}function Y(_,R,oe,de){var fe=2*R,Se=2*oe;return _[fe]<_[Se]||_[fe]===_[Se]&&de[R]<=de[oe]}function V(_,R,oe){for(var de=_.heap[oe],fe=oe<<1;fe<=_.heap_len&&(fe<_.heap_len&&Y(R,_.heap[fe+1],_.heap[fe],_.depth)&&fe++,!Y(R,de,_.heap[fe],_.depth));)_.heap[oe]=_.heap[fe],oe=fe,fe<<=1;_.heap[oe]=de}function X(_,R,oe){var de,fe,Se,Ce,Ne=0;if(_.last_lit!==0)for(;de=_.pending_buf[_.d_buf+2*Ne]<<8|_.pending_buf[_.d_buf+2*Ne+1],fe=_.pending_buf[_.l_buf+Ne],Ne++,de===0?se(_,fe,R):(se(_,(Se=A[fe])+h+1,R),(Ce=F[Se])!==0&&$(_,fe-=ie[Se],Ce),se(_,Se=C(--de),oe),(Ce=z[Se])!==0&&$(_,de-=ae[Se],Ce)),Ne<_.last_lit;);se(_,b,R)}function ye(_,R){var oe,de,fe,Se=R.dyn_tree,Ce=R.stat_desc.static_tree,Ne=R.stat_desc.has_stree,Oe=R.stat_desc.elems,We=-1;for(_.heap_len=0,_.heap_max=y,oe=0;oe<Oe;oe++)Se[2*oe]!==0?(_.heap[++_.heap_len]=We=oe,_.depth[oe]=0):Se[2*oe+1]=0;for(;_.heap_len<2;)Se[2*(fe=_.heap[++_.heap_len]=We<2?++We:0)]=1,_.depth[fe]=0,_.opt_len--,Ne&&(_.static_len-=Ce[2*fe+1]);for(R.max_code=We,oe=_.heap_len>>1;1<=oe;oe--)V(_,Se,oe);for(fe=Oe;oe=_.heap[1],_.heap[1]=_.heap[_.heap_len--],V(_,Se,1),de=_.heap[1],_.heap[--_.heap_max]=oe,_.heap[--_.heap_max]=de,Se[2*fe]=Se[2*oe]+Se[2*de],_.depth[fe]=(_.depth[oe]>=_.depth[de]?_.depth[oe]:_.depth[de])+1,Se[2*oe+1]=Se[2*de+1]=fe,_.heap[1]=fe++,V(_,Se,1),2<=_.heap_len;);_.heap[--_.heap_max]=_.heap[1],function(Ve,Ke){var ct,Je,Gt,at,bt,kt,Rt=Ke.dyn_tree,ot=Ke.max_code,$t=Ke.stat_desc.static_tree,ft=Ke.stat_desc.has_stree,gt=Ke.stat_desc.extra_bits,Jt=Ke.stat_desc.extra_base,xt=Ke.stat_desc.max_length,lt=0;for(at=0;at<=x;at++)Ve.bl_count[at]=0;for(Rt[2*Ve.heap[Ve.heap_max]+1]=0,ct=Ve.heap_max+1;ct<y;ct++)xt<(at=Rt[2*Rt[2*(Je=Ve.heap[ct])+1]+1]+1)&&(at=xt,lt++),Rt[2*Je+1]=at,ot<Je||(Ve.bl_count[at]++,bt=0,Jt<=Je&&(bt=gt[Je-Jt]),kt=Rt[2*Je],Ve.opt_len+=kt*(at+bt),ft&&(Ve.static_len+=kt*($t[2*Je+1]+bt)));if(lt!==0){do{for(at=xt-1;Ve.bl_count[at]===0;)at--;Ve.bl_count[at]--,Ve.bl_count[at+1]+=2,Ve.bl_count[xt]--,lt-=2}while(0<lt);for(at=xt;at!==0;at--)for(Je=Ve.bl_count[at];Je!==0;)ot<(Gt=Ve.heap[--ct])||(Rt[2*Gt+1]!==at&&(Ve.opt_len+=(at-Rt[2*Gt+1])*Rt[2*Gt],Rt[2*Gt+1]=at),Je--)}}(_,R),O(Se,We,_.bl_count)}function M(_,R,oe){var de,fe,Se=-1,Ce=R[1],Ne=0,Oe=7,We=4;for(Ce===0&&(Oe=138,We=3),R[2*(oe+1)+1]=65535,de=0;de<=oe;de++)fe=Ce,Ce=R[2*(de+1)+1],++Ne<Oe&&fe===Ce||(Ne<We?_.bl_tree[2*fe]+=Ne:fe!==0?(fe!==Se&&_.bl_tree[2*fe]++,_.bl_tree[2*w]++):Ne<=10?_.bl_tree[2*N]++:_.bl_tree[2*j]++,Se=fe,We=(Ne=0)===Ce?(Oe=138,3):fe===Ce?(Oe=6,3):(Oe=7,4))}function W(_,R,oe){var de,fe,Se=-1,Ce=R[1],Ne=0,Oe=7,We=4;for(Ce===0&&(Oe=138,We=3),de=0;de<=oe;de++)if(fe=Ce,Ce=R[2*(de+1)+1],!(++Ne<Oe&&fe===Ce)){if(Ne<We)for(;se(_,fe,_.bl_tree),--Ne!=0;);else fe!==0?(fe!==Se&&(se(_,fe,_.bl_tree),Ne--),se(_,w,_.bl_tree),$(_,Ne-3,2)):Ne<=10?(se(_,N,_.bl_tree),$(_,Ne-3,3)):(se(_,j,_.bl_tree),$(_,Ne-11,7));Se=fe,We=(Ne=0)===Ce?(Oe=138,3):fe===Ce?(Oe=6,3):(Oe=7,4)}}l(ae);var D=!1;function k(_,R,oe,de){$(_,(u<<1)+(de?1:0),3),function(fe,Se,Ce,Ne){Q(fe),q(fe,Ce),q(fe,~Ce),s.arraySet(fe.pending_buf,fe.window,Se,Ce,fe.pending),fe.pending+=Ce}(_,R,oe)}i._tr_init=function(_){D||(function(){var R,oe,de,fe,Se,Ce=new Array(x+1);for(fe=de=0;fe<c-1;fe++)for(ie[fe]=de,R=0;R<1<<F[fe];R++)A[de++]=fe;for(A[de-1]=fe,fe=Se=0;fe<16;fe++)for(ae[fe]=Se,R=0;R<1<<z[fe];R++)U[Se++]=fe;for(Se>>=7;fe<f;fe++)for(ae[fe]=Se<<7,R=0;R<1<<z[fe]-7;R++)U[256+Se++]=fe;for(oe=0;oe<=x;oe++)Ce[oe]=0;for(R=0;R<=143;)H[2*R+1]=8,R++,Ce[8]++;for(;R<=255;)H[2*R+1]=9,R++,Ce[9]++;for(;R<=279;)H[2*R+1]=7,R++,Ce[7]++;for(;R<=287;)H[2*R+1]=8,R++,Ce[8]++;for(O(H,d+1,Ce),R=0;R<f;R++)L[2*R+1]=5,L[2*R]=J(R,5);he=new ve(H,F,h+1,d,x),te=new ve(L,z,0,f,x),re=new ve(new Array(0),T,0,g,v)}(),D=!0),_.l_desc=new le(_.dyn_ltree,he),_.d_desc=new le(_.dyn_dtree,te),_.bl_desc=new le(_.bl_tree,re),_.bi_buf=0,_.bi_valid=0,I(_)},i._tr_stored_block=k,i._tr_flush_block=function(_,R,oe,de){var fe,Se,Ce=0;0<_.level?(_.strm.data_type===2&&(_.strm.data_type=function(Ne){var Oe,We=4093624447;for(Oe=0;Oe<=31;Oe++,We>>>=1)if(1&We&&Ne.dyn_ltree[2*Oe]!==0)return o;if(Ne.dyn_ltree[18]!==0||Ne.dyn_ltree[20]!==0||Ne.dyn_ltree[26]!==0)return a;for(Oe=32;Oe<h;Oe++)if(Ne.dyn_ltree[2*Oe]!==0)return a;return o}(_)),ye(_,_.l_desc),ye(_,_.d_desc),Ce=function(Ne){var Oe;for(M(Ne,Ne.dyn_ltree,Ne.l_desc.max_code),M(Ne,Ne.dyn_dtree,Ne.d_desc.max_code),ye(Ne,Ne.bl_desc),Oe=g-1;3<=Oe&&Ne.bl_tree[2*Z[Oe]+1]===0;Oe--);return Ne.opt_len+=3*(Oe+1)+5+5+4,Oe}(_),fe=_.opt_len+3+7>>>3,(Se=_.static_len+3+7>>>3)<=fe&&(fe=Se)):fe=Se=oe+5,oe+4<=fe&&R!==-1?k(_,R,oe,de):_.strategy===4||Se===fe?($(_,2+(de?1:0),3),X(_,H,L)):($(_,4+(de?1:0),3),function(Ne,Oe,We,Ve){var Ke;for($(Ne,Oe-257,5),$(Ne,We-1,5),$(Ne,Ve-4,4),Ke=0;Ke<Ve;Ke++)$(Ne,Ne.bl_tree[2*Z[Ke]+1],3);W(Ne,Ne.dyn_ltree,Oe-1),W(Ne,Ne.dyn_dtree,We-1)}(_,_.l_desc.max_code+1,_.d_desc.max_code+1,Ce+1),X(_,_.dyn_ltree,_.dyn_dtree)),I(_),de&&Q(_)},i._tr_tally=function(_,R,oe){return _.pending_buf[_.d_buf+2*_.last_lit]=R>>>8&255,_.pending_buf[_.d_buf+2*_.last_lit+1]=255&R,_.pending_buf[_.l_buf+_.last_lit]=255&oe,_.last_lit++,R===0?_.dyn_ltree[2*oe]++:(_.matches++,R--,_.dyn_ltree[2*(A[oe]+h+1)]++,_.dyn_dtree[2*C(R)]++),_.last_lit===_.lit_bufsize-1},i._tr_align=function(_){$(_,2,3),se(_,b,H),function(R){R.bi_valid===16?(q(R,R.bi_buf),R.bi_buf=0,R.bi_valid=0):8<=R.bi_valid&&(R.pending_buf[R.pending++]=255&R.bi_buf,R.bi_buf>>=8,R.bi_valid-=8)}(_)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(s){(function(o,a){if(!o.setImmediate){var l,u,c,h,d=1,f={},g=!1,y=o.document,x=Object.getPrototypeOf&&Object.getPrototypeOf(o);x=x&&x.setTimeout?x:o,l={}.toString.call(o.process)==="[object process]"?function(w){Lt.nextTick(function(){v(w)})}:function(){if(o.postMessage&&!o.importScripts){var w=!0,N=o.onmessage;return o.onmessage=function(){w=!1},o.postMessage("","*"),o.onmessage=N,w}}()?(h="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",b,!1):o.attachEvent("onmessage",b),function(w){o.postMessage(h+w,"*")}):o.MessageChannel?((c=new MessageChannel).port1.onmessage=function(w){v(w.data)},function(w){c.port2.postMessage(w)}):y&&"onreadystatechange"in y.createElement("script")?(u=y.documentElement,function(w){var N=y.createElement("script");N.onreadystatechange=function(){v(w),N.onreadystatechange=null,u.removeChild(N),N=null},u.appendChild(N)}):function(w){setTimeout(v,0,w)},x.setImmediate=function(w){typeof w!="function"&&(w=new Function(""+w));for(var N=new Array(arguments.length-1),j=0;j<N.length;j++)N[j]=arguments[j+1];var F={callback:w,args:N};return f[d]=F,l(d),d++},x.clearImmediate=p}function p(w){delete f[w]}function v(w){if(g)setTimeout(v,0,w);else{var N=f[w];if(N){g=!0;try{(function(j){var F=j.callback,z=j.args;switch(z.length){case 0:F();break;case 1:F(z[0]);break;case 2:F(z[0],z[1]);break;case 3:F(z[0],z[1],z[2]);break;default:F.apply(a,z)}})(N)}finally{p(w),g=!1}}}}function b(w){w.source===o&&typeof w.data=="string"&&w.data.indexOf(h)===0&&v(+w.data.slice(h.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Ps<"u"?Ps:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(lv)),lv.exports}var w$=v$();const b$=oC(w$);var xf={exports:{}},uv,z6;function x$(){if(z6)return uv;z6=1;var t={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function e(r){return r&&r.replace?r.replace(/([&"<>'])/g,function(n,i){return t[i]}):r}return uv=e,uv}var U6;function S$(){if(U6)return xf.exports;U6=1;var t=x$(),e=M5().Stream,r="    ";function n(u,c){typeof c!="object"&&(c={indent:c});var h=c.stream?new e:null,d="",f=!1,g=c.indent?c.indent===!0?r:c.indent:"",y=!0;function x(N){y?Lt.nextTick(N):N()}function p(N,j){if(j!==void 0&&(d+=j),N&&!f&&(h=h||new e,f=!0),N&&f){var F=d;x(function(){h.emit("data",F)}),d=""}}function v(N,j){a(p,o(N,g,g?1:0),j)}function b(){if(h){var N=d;x(function(){h.emit("data",N),h.emit("end"),h.readable=!1,h.emit("close")})}}function w(N){var j=N.encoding||"UTF-8",F={version:"1.0",encoding:j};N.standalone&&(F.standalone=N.standalone),v({"?xml":{_attr:F}}),d=d.replace("/>","?>")}return x(function(){y=!1}),c.declaration&&w(c.declaration),u&&u.forEach?u.forEach(function(N,j){var F;j+1===u.length&&(F=b),v(N,F)}):v(u,b),h?(h.readable=!0,h):d}function i(){var u=Array.prototype.slice.call(arguments),c={_elem:o(u)};return c.push=function(h){if(!this.append)throw new Error("not assigned to a parent!");var d=this,f=this._elem.indent;a(this.append,o(h,f,this._elem.icount+(f?1:0)),function(){d.append(!0)})},c.close=function(h){h!==void 0&&this.push(h),this.end&&this.end()},c}function s(u,c){return new Array(c||0).join(u||"")}function o(u,c,h){h=h||0;var d=s(c,h),f,g=u,y=!1;if(typeof u=="object"){var x=Object.keys(u);if(f=x[0],g=u[f],g&&g._elem)return g._elem.name=f,g._elem.icount=h,g._elem.indent=c,g._elem.indents=d,g._elem.interrupt=g,g._elem}var p=[],v=[],b;function w(N){var j=Object.keys(N);j.forEach(function(F){p.push(l(F,N[F]))})}switch(typeof g){case"object":if(g===null)break;g._attr&&w(g._attr),g._cdata&&v.push(("<![CDATA["+g._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),g.forEach&&(b=!1,v.push(""),g.forEach(function(N){if(typeof N=="object"){var j=Object.keys(N)[0];j=="_attr"?w(N._attr):v.push(o(N,c,h+1))}else v.pop(),b=!0,v.push(t(N))}),b||v.push(""));break;default:v.push(t(g))}return{name:f,interrupt:y,attributes:p,content:v,icount:h,indents:d,indent:c}}function a(u,c,h){if(typeof c!="object")return u(!1,c);var d=c.interrupt?1:c.content.length;function f(){for(;c.content.length;){var y=c.content.shift();if(y!==void 0){if(g(y))return;a(u,y)}}u(!1,(d>1?c.indents:"")+(c.name?"</"+c.name+">":"")+(c.indent&&!h?`
`:"")),h&&h()}function g(y){return y.interrupt?(y.interrupt.append=u,y.interrupt.end=f,y.interrupt=!1,u(!0),!0):!1}if(u(!1,c.indents+(c.name?"<"+c.name:"")+(c.attributes.length?" "+c.attributes.join(" "):"")+(d?c.name?">":"":c.name?"/>":"")+(c.indent&&d>1?`
`:"")),!d)return u(!1,c.indent?`
`:"");g(c)||f()}function l(u,c){return u+'="'+t(c)+'"'}return xf.exports=n,xf.exports.element=xf.exports.Element=i,xf.exports}var k$=S$();const yr=oC(k$),Sf=0,cv=32,_$=32,A$=(t,e)=>{const r=e.replace(/-/g,"");if(r.length!==_$)throw new Error(`Error: Cannot extract GUID from font filename: ${e}`);const i=r.replace(/(..)/g,"$1 ").trim().split(" ").map(l=>parseInt(l,16));i.reverse();const o=t.slice(Sf,cv).map((l,u)=>l^i[u%i.length]),a=new Uint8Array(Sf+o.length+Math.max(0,t.length-cv));return a.set(t.slice(0,Sf)),a.set(o,Sf),a.set(t.slice(cv),Sf+o.length),a};class E${format(e,r={stack:[]}){const n=e.prepForXml(r);if(n)return n;throw Error("XMLComponent did not format correctly")}}class N${replace(e,r,n){let i=e;return r.forEach((s,o)=>{i=i.replace(new RegExp(`{${s.fileName}}`,"g"),(n+o).toString())}),i}getMediaData(e,r){return r.Array.filter(n=>e.search(`{${n.fileName}}`)>0)}}class C${replace(e,r){let n=e;for(const i of r)n=n.replace(new RegExp(`{${i.reference}-${i.instance}}`,"g"),i.numId.toString());return n}}class T${constructor(){Ie(this,"formatter"),Ie(this,"imageReplacer"),Ie(this,"numberingReplacer"),this.formatter=new E$,this.imageReplacer=new N$,this.numberingReplacer=new C$}compile(e,r,n=[]){const i=new b$,s=this.xmlifyFile(e,r),o=new Map(Object.entries(s));for(const[,a]of o)if(Array.isArray(a))for(const l of a)i.file(l.path,l.data);else i.file(a.path,a.data);for(const a of n)i.file(a.path,a.data);for(const a of e.Media.Array)a.type!=="svg"?i.file(`word/media/${a.fileName}`,a.data):(i.file(`word/media/${a.fileName}`,a.data),i.file(`word/media/${a.fallback.fileName}`,a.fallback.data));for(const{data:a,name:l,fontKey:u}of e.FontTable.fontOptionsWithKey){const[c]=l.split(".");i.file(`word/fonts/${c}.odttf`,A$(a,u))}return i}xmlifyFile(e,r){const n=e.Document.Relationships.RelationshipCount+1,i=yr(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),s=e.Comments.Relationships.RelationshipCount+1,o=yr(this.formatter.format(e.Comments,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),a=this.imageReplacer.getMediaData(i,e.Media),l=this.imageReplacer.getMediaData(o,e.Media);return{Relationships:{data:(a.forEach((u,c)=>{e.Document.Relationships.createRelationship(n+c,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${u.fileName}`)}),e.Document.Relationships.createRelationship(e.Document.Relationships.RelationshipCount+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable","fontTable.xml"),yr(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const u=this.imageReplacer.replace(i,a,n);return this.numberingReplacer.replace(u,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const u=yr(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(u,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:yr(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:yr(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:yr(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((u,c)=>{const h=yr(this.formatter.format(u.View,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(h,e.Media).forEach((f,g)=>{u.Relationships.createRelationship(g,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${f.fileName}`)}),{data:yr(this.formatter.format(u.Relationships,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${c+1}.xml.rels`}}),FooterRelationships:e.Footers.map((u,c)=>{const h=yr(this.formatter.format(u.View,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(h,e.Media).forEach((f,g)=>{u.Relationships.createRelationship(g,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${f.fileName}`)}),{data:yr(this.formatter.format(u.Relationships,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${c+1}.xml.rels`}}),Headers:e.Headers.map((u,c)=>{const h=yr(this.formatter.format(u.View,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),d=this.imageReplacer.getMediaData(h,e.Media),f=this.imageReplacer.replace(h,d,0);return{data:this.numberingReplacer.replace(f,e.Numbering.ConcreteNumbering),path:`word/header${c+1}.xml`}}),Footers:e.Footers.map((u,c)=>{const h=yr(this.formatter.format(u.View,{viewWrapper:u,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),d=this.imageReplacer.getMediaData(h,e.Media),f=this.imageReplacer.replace(h,d,0);return{data:this.numberingReplacer.replace(f,e.Numbering.ConcreteNumbering),path:`word/footer${c+1}.xml`}}),ContentTypes:{data:yr(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:yr(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:yr(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:yr(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:yr(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:yr(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:(()=>{const u=this.imageReplacer.replace(o,l,s);return this.numberingReplacer.replace(u,e.Numbering.ConcreteNumbering)})(),path:"word/comments.xml"},CommentsRelationships:{data:(l.forEach((u,c)=>{e.Comments.Relationships.createRelationship(s+c,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${u.fileName}`)}),yr(this.formatter.format(e.Comments.Relationships,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/comments.xml.rels"},FontTable:{data:yr(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:yr(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const L$={WITH_2_BLANKS:"  "},q6=t=>t===!0?L$.WITH_2_BLANKS:t===!1?void 0:t,WC=class _u{static pack(e,r,n){return sq(this,arguments,function*(i,s,o,a=[]){return this.compiler.compile(i,q6(o),a).generateAsync({type:s,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toString(e,r,n=[]){return _u.pack(e,"string",r,n)}static toBuffer(e,r,n=[]){return _u.pack(e,"nodebuffer",r,n)}static toBase64String(e,r,n=[]){return _u.pack(e,"base64",r,n)}static toBlob(e,r,n=[]){return _u.pack(e,"blob",r,n)}static toArrayBuffer(e,r,n=[]){return _u.pack(e,"arraybuffer",r,n)}static toStream(e,r,n=[]){const i=new y$.Stream;return this.compiler.compile(e,q6(r),n).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(o=>{i.emit("data",o),i.emit("end")}),i}};Ie(WC,"compiler",new T$);let O$=WC;var HC={exports:{}};(function(t,e){(function(r,n){n()})(sf,function(){function r(u,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function n(u,c,h){var d=new XMLHttpRequest;d.open("GET",u),d.responseType="blob",d.onload=function(){l(d.response,c,h)},d.onerror=function(){console.error("could not download file")},d.send()}function i(u){var c=new XMLHttpRequest;c.open("HEAD",u,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function s(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(c)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof sf=="object"&&sf.global===sf?sf:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(u,c,h){var d=o.URL||o.webkitURL,f=document.createElement("a");c=c||u.name||"download",f.download=c,f.rel="noopener",typeof u=="string"?(f.href=u,f.origin===location.origin?s(f):i(f.href)?n(u,c,h):s(f,f.target="_blank")):(f.href=d.createObjectURL(u),setTimeout(function(){d.revokeObjectURL(f.href)},4e4),setTimeout(function(){s(f)},0))}:"msSaveOrOpenBlob"in navigator?function(u,c,h){if(c=c||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(r(u,h),c);else if(i(u))n(u,c,h);else{var d=document.createElement("a");d.href=u,d.target="_blank",setTimeout(function(){s(d)})}}:function(u,c,h,d){if(d=d||open("","_blank"),d&&(d.document.title=d.document.body.innerText="downloading..."),typeof u=="string")return n(u,c,h);var f=u.type==="application/octet-stream",g=/constructor/i.test(o.HTMLElement)||o.safari,y=/CriOS\/[\d]+/.test(navigator.userAgent);if((y||f&&g||a)&&typeof FileReader<"u"){var x=new FileReader;x.onloadend=function(){var b=x.result;b=y?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),d?d.location.href=b:location=b,d=null},x.readAsDataURL(u)}else{var p=o.URL||o.webkitURL,v=p.createObjectURL(u);d?d.location=v:location.href=v,d=null,setTimeout(function(){p.revokeObjectURL(v)},4e4)}});o.saveAs=l.saveAs=l,t.exports=l})})(HC);var P$=HC.exports;function R$(t,e="script.pdf"){var d;const r=t.getJSON(),n=new st({unit:"in",format:"letter"}),i=1.5,s=1,o=1,a=1,u=8.5-i-s,c=11;let h=o;n.setFont("courier","normal");for(const f of r.content??[]){const g=VC(f);if(!g&&f.type!=="paragraph")continue;let y=12,x="normal",p=i,v=.2,b=0,w=u;switch(f.type){case"sceneHeading":x="bold",b=.3;break;case"action":b=.15;break;case"character":p=3.7,w=3,b=.3;break;case"dialogue":p=2.5,w=3.5;break;case"parenthetical":p=3.1,w=2.5;break;case"transition":p=5.5,w=2,b=.3;break;case"heading":{const F=((d=f.attrs)==null?void 0:d.level)??1;y=F===1?18:F===2?15:13,x="bold",b=.4;break}}h+=b,h>c-a-.5&&(n.addPage(),h=o),n.setFontSize(y),n.setFont("courier",x);const N=f.type==="sceneHeading"||f.type==="transition"?g.toUpperCase():f.type==="parenthetical"?`(${g})`:g,j=n.splitTextToSize(N,w);for(const F of j)h>c-a&&(n.addPage(),h=o),n.text(F,p,h),h+=v;h+=.05}n.save(e)}async function I$(t,e="script.docx"){var o;const r=t.getJSON(),n=[];for(const a of r.content??[]){const l=VC(a);switch(a.type){case"sceneHeading":n.push(new Zi({children:[new As({text:l.toUpperCase(),bold:!0,font:"Courier New",size:24})],spacing:{before:240,after:120}}));break;case"action":n.push(new Zi({children:[new As({text:l,font:"Courier New",size:24})],spacing:{before:120,after:120}}));break;case"character":n.push(new Zi({alignment:Ci.CENTER,children:[new As({text:l.toUpperCase(),bold:!0,font:"Courier New",size:24})],spacing:{before:240,after:0},indent:{left:2880}}));break;case"dialogue":n.push(new Zi({children:[new As({text:l,font:"Courier New",size:24})],spacing:{before:0,after:120},indent:{left:1440,right:1440}}));break;case"parenthetical":n.push(new Zi({children:[new As({text:`(${l})`,font:"Courier New",size:24,italics:!0})],spacing:{before:0,after:0},indent:{left:2160,right:2160}}));break;case"transition":n.push(new Zi({alignment:Ci.RIGHT,children:[new As({text:l.toUpperCase(),bold:!0,font:"Courier New",size:24})],spacing:{before:240,after:240}}));break;case"heading":{const u=((o=a.attrs)==null?void 0:o.level)??1,c=u===1?nv.HEADING_1:u===2?nv.HEADING_2:nv.HEADING_3;n.push(new Zi({heading:c,children:[new As({text:l,bold:!0,font:"Courier New",size:u===1?36:u===2?30:26})],spacing:{before:360,after:120}}));break}default:l&&n.push(new Zi({children:[new As({text:l,font:"Courier New",size:24})],spacing:{before:60,after:60}}));break}}const i=new g$({sections:[{properties:{page:{margin:{top:1440,right:1440,bottom:1440,left:2160}}},children:n}]}),s=await O$.toBlob(i);P$.saveAs(s,e)}function M$(t){const e=document.createElement("input");e.type="file",e.accept=".docx,.pdf,.json,.txt",e.onchange=()=>{var n;const r=(n=e.files)==null?void 0:n[0];if(r){if(r.name.endsWith(".json")){const i=new FileReader;i.onload=()=>{try{const s=JSON.parse(i.result);t.commands.setContent(s)}catch{}},i.readAsText(r)}else if(r.name.endsWith(".txt")){const i=new FileReader;i.onload=()=>{const s=ew(i.result);t.commands.setContent(s)},i.readAsText(r)}else if(r.name.endsWith(".docx"))D$(r,t);else if(r.name.endsWith(".pdf")){const i=new FileReader;i.onload=()=>{const s=j$(i.result);s.trim()&&t.commands.setContent(ew(s))},i.readAsArrayBuffer(r)}}},e.click()}async function D$(t,e){try{const r=await t.arrayBuffer(),n=await F$(r);e.commands.setContent(ew(n))}catch{}}async function F$(t){const e=new Uint8Array(t);if(e[0]!==80||e[1]!==75)return"";const n=(await B$(t)).find(a=>a.name==="word/document.xml"||a.name==="word\\document.xml");if(!n)return"";const i=new TextDecoder().decode(n.data),s=[],o=i.split(/<w:p[\s/>]/);for(const a of o){const u=(a.match(/<w:t[^>]*>([^<]*)<\/w:t>/g)||[]).map(c=>{const h=c.match(/<w:t[^>]*>([^<]*)<\/w:t>/);return h?h[1]:""}).join("");u.trim()&&s.push(u)}return s.join(`
`)}async function B$(t){const e=new DataView(t),r=new Uint8Array(t),n=[];let i=-1;for(let l=r.length-22;l>=0;l--)if(e.getUint32(l,!0)===101010256){i=l;break}if(i===-1)return n;const s=e.getUint32(i+16,!0),o=e.getUint16(i+10,!0);let a=s;for(let l=0;l<o&&!(a+46>r.length||e.getUint32(a,!0)!==33639248);l++){const u=e.getUint32(a+20,!0),c=e.getUint32(a+24,!0),h=e.getUint16(a+28,!0),d=e.getUint16(a+30,!0),f=e.getUint16(a+32,!0),g=e.getUint32(a+42,!0),y=e.getUint16(a+10,!0),x=new TextDecoder().decode(r.slice(a+46,a+46+h));if(g+30<=r.length){const p=e.getUint16(g+26,!0),v=e.getUint16(g+28,!0),b=g+30+p+v;if(y===0)n.push({name:x,data:r.slice(b,b+c)});else if(y===8)try{const w=r.slice(b,b+u),N=new DecompressionStream("raw"),j=N.writable.getWriter();j.write(w),j.close();const F=N.readable.getReader(),z=[];let T=!1;for(;!T;){const U=await F.read();U.done?T=!0:z.push(U.value)}const Z=z.reduce((U,A)=>U+A.length,0),H=new Uint8Array(Z);let L=0;for(const U of z)H.set(U,L),L+=U.length;n.push({name:x,data:H})}catch{}}a+=46+h+d+f}return n}function j$(t){const e=new Uint8Array(t),r=new TextDecoder("latin1").decode(e),n=[],i=/BT\s([\s\S]*?)ET/g;let s;for(;(s=i.exec(r))!==null;){const o=s[1],a=/\(([^)]*)\)\s*Tj/g;let l;for(;(l=a.exec(o))!==null;)n.push(l[1]);const u=/\[([^\]]*)\]\s*TJ/g;let c;for(;(c=u.exec(o))!==null;){const h=c[1],d=/\(([^)]*)\)/g;let f;for(;(f=d.exec(h))!==null;)n.push(f[1])}}return n.join(`
`)}function ew(t){const e=t.split(`
`),r=[];let n=0;for(;n<e.length;){const i=e[n].trimEnd();if(i.trim()===""){n++;continue}if(/^(INT\.|EXT\.|INT\.\/EXT\.)/i.test(i)){r.push(sl("sceneHeading",i)),n++;continue}if(/^[A-Z\s]+TO:$/.test(i.trim())){r.push(sl("transition",i.trim())),n++;continue}if(/^\(.*\)$/.test(i.trim())){r.push(sl("parenthetical",i.trim().slice(1,-1))),n++;continue}if(/^[A-Z][A-Z\s.'-]{1,}$/.test(i.trim())&&i.trim().length>=2){for(r.push(sl("character",i.trim())),n++;n<e.length;){const s=e[n].trimEnd();if(s.trim()==="")break;/^\(.*\)$/.test(s.trim())?r.push(sl("parenthetical",s.trim().slice(1,-1))):r.push(sl("dialogue",s.trim())),n++}continue}r.push(sl("action",i)),n++}return{type:"doc",content:r}}function sl(t,e){return e?{type:t,content:[{type:"text",text:e}]}:{type:t}}function VC(t){const e=t.content;return e?e.map(r=>r.text??"").join(""):""}const z$={sceneHeading:t=>tj(t),action:t=>rj(t),character:t=>nj(t),dialogue:t=>ij(t),parenthetical:t=>sj(t),transition:t=>oj(t)},tc={padding:"6px 11px",border:"1px solid var(--toolbar-btn-border)",borderRadius:"7px",cursor:"pointer",fontSize:"12.5px",fontWeight:500,backgroundColor:"var(--toolbar-btn-bg)",color:"var(--text-secondary)",transition:"all 0.15s ease",fontFamily:"var(--font-family)",lineHeight:1.4,whiteSpace:"nowrap"},fv={...tc,background:"var(--accent-gradient)",color:"#fff",borderColor:"transparent",boxShadow:"0 2px 8px var(--accent-primary-glow)"},$C={...tc,fontSize:"11.5px",backgroundColor:"var(--accent-primary-light)",borderColor:"var(--accent-primary)",color:"var(--accent-primary)",fontWeight:600,letterSpacing:"0.2px"},U$={...$C,background:"var(--accent-gradient)",color:"#fff",borderColor:"transparent",boxShadow:"0 2px 8px var(--accent-primary-glow)"},hv={...tc,fontSize:"12px",fontWeight:600,background:"var(--accent-gradient-subtle)",borderColor:"var(--border-primary)",color:"var(--accent-primary)"};function dv(t){t.currentTarget.style.background="var(--toolbar-btn-hover)",t.currentTarget.style.borderColor="var(--accent-primary)",t.currentTarget.style.color="var(--accent-primary)"}function pv(t,e){e||(t.currentTarget.style.background="var(--toolbar-btn-bg)",t.currentTarget.style.borderColor="var(--toolbar-btn-border)",t.currentTarget.style.color="var(--text-secondary)")}function mv(t){t.currentTarget.style.background="var(--accent-primary-light)",t.currentTarget.style.borderColor="var(--accent-primary)",t.currentTarget.style.transform="translateY(-1px)"}function gv(t){t.currentTarget.style.background="var(--accent-gradient-subtle)",t.currentTarget.style.borderColor="var(--border-primary)",t.currentTarget.style.transform="translateY(0)"}function q$(){const{t}=Co(),e=BB({extensions:[U9.configure({heading:{levels:[1,2,3]}}),q9.configure({placeholder:t("app.editor")+"..."}),W9.configure({types:["heading","paragraph","sceneHeading","action","character","dialogue","parenthetical","transition"]}),H9,$9,K9,J9,Y9,Z9,ej],content:""});return e?Fe.jsxs("div",{style:{border:"1px solid var(--card-border)",borderRadius:"14px",overflow:"hidden",background:"var(--card-bg)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)",boxShadow:"var(--shadow-lg)",transition:"all 0.25s ease"},children:[Fe.jsxs("div",{style:{display:"flex",gap:"4px",padding:"10px 14px",borderBottom:"1px solid var(--toolbar-border)",background:"var(--toolbar-bg)",backdropFilter:"blur(12px)",flexWrap:"wrap",alignItems:"center"},children:[[{label:"B",action:()=>e.chain().focus().toggleBold().run(),active:e.isActive("bold"),extra:{fontWeight:700}},{label:"I",action:()=>e.chain().focus().toggleItalic().run(),active:e.isActive("italic"),extra:{fontStyle:"italic"}},{label:"U",action:()=>e.chain().focus().toggleUnderline().run(),active:e.isActive("underline"),extra:{textDecoration:"underline"}}].map(r=>Fe.jsx("button",{type:"button",onClick:r.action,style:{...r.active?fv:tc,...r.extra,minWidth:"32px",textAlign:"center"},onMouseEnter:n=>!r.active&&dv(n),onMouseLeave:n=>pv(n,r.active),children:r.label},r.label)),Fe.jsx(dp,{}),[1,2,3].map(r=>Fe.jsxs("button",{type:"button",onClick:()=>e.chain().focus().toggleHeading({level:r}).run(),style:e.isActive("heading",{level:r})?fv:tc,onMouseEnter:n=>!e.isActive("heading",{level:r})&&dv(n),onMouseLeave:n=>pv(n,e.isActive("heading",{level:r})),children:["H",r]},`h${r}`)),Fe.jsx(dp,{}),["left","center","right"].map(r=>Fe.jsx("button",{type:"button",onClick:()=>e.chain().focus().setTextAlign(r).run(),style:e.isActive({textAlign:r})?fv:tc,onMouseEnter:n=>!e.isActive({textAlign:r})&&dv(n),onMouseLeave:n=>pv(n,e.isActive({textAlign:r})),children:t(`editor.${r}`)},r)),Fe.jsx(dp,{}),aj.map(r=>Fe.jsx("button",{type:"button",title:`${t(r.i18nKey)} (${r.shortcut})`,onClick:()=>{const n=z$[r.name];n&&n(e)},style:e.isActive(r.name)?U$:$C,children:t(r.i18nKey)},r.name)),Fe.jsx(dp,{}),Fe.jsx("button",{type:"button",onClick:()=>R$(e),style:hv,onMouseEnter:mv,onMouseLeave:gv,children:t("editor.exportPDF")}),Fe.jsx("button",{type:"button",onClick:()=>I$(e),style:hv,onMouseEnter:mv,onMouseLeave:gv,children:t("editor.exportWord")}),Fe.jsx("button",{type:"button",onClick:()=>M$(e),style:hv,onMouseEnter:mv,onMouseLeave:gv,children:t("editor.importFile")})]}),Fe.jsx("div",{style:{minHeight:"460px",background:"var(--editor-bg)"},children:Fe.jsx(CB,{editor:e})})]}):null}function dp(){return Fe.jsx("span",{style:{width:"1px",backgroundColor:"var(--toolbar-border)",margin:"0 4px",alignSelf:"stretch",minHeight:"24px",opacity:.6}})}function W$(){const{id:t}=BP(),{t:e}=Co(),r=()=>{console.log("Saving project:",t)};return Fe.jsxs("div",{children:[Fe.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",paddingBottom:"16px",borderBottom:"1px solid var(--border-primary)"},children:[Fe.jsxs("h1",{style:{margin:0,fontSize:"22px",fontWeight:700,color:"var(--text-primary)",letterSpacing:"-0.3px"},children:[e("app.editor")," ",t!=="new"?`- #${t}`:""]}),Fe.jsxs("div",{style:{display:"flex",gap:"10px"},children:[Fe.jsx("button",{type:"button",onClick:()=>window.history.back(),style:{padding:"9px 18px",border:"1px solid var(--border-primary)",borderRadius:"8px",cursor:"pointer",fontSize:"13px",fontWeight:500,backgroundColor:"var(--toolbar-btn-bg)",color:"var(--text-secondary)",transition:"all 0.15s ease",fontFamily:"var(--font-family)"},onMouseEnter:n=>{n.currentTarget.style.borderColor="var(--text-tertiary)",n.currentTarget.style.color="var(--text-primary)"},onMouseLeave:n=>{n.currentTarget.style.borderColor="var(--border-primary)",n.currentTarget.style.color="var(--text-secondary)"},children:e("app.cancel")}),Fe.jsx("button",{type:"button",onClick:r,style:{padding:"9px 22px",background:"var(--accent-gradient)",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"13px",fontWeight:600,boxShadow:"var(--shadow-glow)",transition:"all 0.2s ease",fontFamily:"var(--font-family)"},onMouseEnter:n=>{n.currentTarget.style.transform="translateY(-1px)",n.currentTarget.style.boxShadow="0 0 30px var(--accent-primary-glow)"},onMouseLeave:n=>{n.currentTarget.style.transform="translateY(0)",n.currentTarget.style.boxShadow="var(--shadow-glow)"},children:e("app.save")})]})]}),Fe.jsx(q$,{})]})}function H$(){const{t}=Co();return Fe.jsxs("div",{style:{textAlign:"center",padding:"100px 20px",animation:"fadeInUp 0.4s ease both"},children:[Fe.jsx("h1",{style:{fontSize:"80px",margin:"0 0 4px 0",fontWeight:800,background:"var(--accent-gradient)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",letterSpacing:"-2px"},children:"404"}),Fe.jsx("p",{style:{fontSize:"18px",color:"var(--text-tertiary)",marginBottom:"28px",fontWeight:400},children:"Page not found"}),Fe.jsx(wo,{to:"/",style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"11px 24px",background:"var(--accent-gradient)",color:"#fff",textDecoration:"none",borderRadius:"10px",fontSize:"14px",fontWeight:600,boxShadow:"var(--shadow-glow)",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)"},children:t("app.dashboard")})]})}function V$(){const{ready:t}=Co();return t?Fe.jsx(p7,{children:Fe.jsx(y7,{children:Fe.jsxs("div",{style:{minHeight:"100vh",fontFamily:"var(--font-family)",background:"var(--bg-primary)",color:"var(--text-primary)",transition:"background-color 0.25s ease, color 0.25s ease"},children:[Fe.jsx(v7,{}),Fe.jsx("main",{style:{padding:"28px",maxWidth:"1200px",margin:"0 auto"},children:Fe.jsxs(eR,{children:[Fe.jsx(wu,{path:"/",element:Fe.jsx(b7,{})}),Fe.jsx(wu,{path:"/login",element:Fe.jsx(x7,{})}),Fe.jsx(wu,{path:"/register",element:Fe.jsx(S7,{})}),Fe.jsx(wu,{path:"/editor/:id",element:Fe.jsx(W$,{})}),Fe.jsx(wu,{path:"*",element:Fe.jsx(H$,{})})]})})]})})}):Fe.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"var(--bg-primary)",color:"var(--text-tertiary)",fontFamily:"var(--font-family)",fontSize:"15px"},children:"Loading..."})}const KC=document.getElementById("root");if(!KC)throw new Error("Root element not found");yv.createRoot(KC).render(Fe.jsx(fn.StrictMode,{children:Fe.jsx(aR,{children:Fe.jsx(V$,{})})}));export{Ht as _,sf as c,W6 as g};
